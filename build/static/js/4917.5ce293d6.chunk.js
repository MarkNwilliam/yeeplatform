"use strict";(self.webpackChunkyeeplatform=self.webpackChunkyeeplatform||[]).push([[4917],{24917:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var r=t(72791),o=t(73575),i=t(21830),l=t.n(i),s=(t(48876),t(55294)),n=t(61567),u=t(34083),c=t(80184);function d(){var e,a,t;const{user:i}=(0,r.useContext)(o.Vo),[d,p]=(0,r.useState)({});(0,r.useEffect)((()=>{const e=n.I8.currentUser.uid;s.Z.get("https://yeeplatformbackend.azurewebsites.net/userDetails/".concat(e)).then((e=>{const a=e.data;p(a)})).catch((e=>{console.error("Error fetching user data:",e)}))}),[]);return(0,c.jsxs)("div",{className:"p-8 space-y-4",children:[(0,c.jsx)("h1",{className:"text-xl font-semibold",children:"Author Profile"}),(0,c.jsxs)("div",{className:"flex items-center justify-center space-x-4 relative",children:[(0,c.jsx)("img",{alt:"Profile Picture",src:d.profileImage||"/Y.webp",className:"w-32 h-32 rounded-full"}),(0,c.jsx)("input",{type:"file",id:"profilePic",className:"hidden",accept:"image/*",onChange:async e=>{if(0===e.target.files.length)return;l().fire({title:"Uploading...",text:"Your image is being uploaded. Please wait...",allowOutsideClick:!1,didOpen:()=>{l().showLoading()}});const a=new FormData;a.append("image",e.target.files[0]);const t=n.I8.currentUser.uid;try{var r;const e=await s.Z.post("https://yeeplatformbackend.azurewebsites.net/userprofilestore/".concat(t),a);if(null===(r=e.data)||void 0===r||!r.imageUrl)throw new Error("Image upload failed");p((a=>({...a,profileImage:e.data.imageUrl}))),l().fire("Success","Image uploaded successfully!","success")}catch(o){l().fire("Oops...","Error uploading the image!","error")}}}),(0,c.jsx)("label",{htmlFor:"profilePic",className:"cursor-pointer absolute bottom-2 right-2 bg-gray-600 bg-opacity-50 rounded-full p-2",children:"\ud83d\udcf7"})]}),(0,c.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Name",value:d.username||"",onChange:e=>p((a=>({...a,username:e.target.value})))}),(0,c.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Age",value:d.age||"",onChange:e=>p((a=>({...a,age:e.target.value})))}),(0,c.jsx)("textarea",{className:"w-full p-2 border rounded-md",placeholder:"Bio",value:d.bio||"",onChange:e=>p((a=>({...a,bio:e.target.value})))}),(0,c.jsxs)("select",{className:"w-full p-2 border rounded-md",value:d.country||"",onChange:e=>p((a=>({...a,country:e.target.value}))),children:[(0,c.jsx)("option",{value:"",children:"Select a country"}),u.h.map((e=>(0,c.jsx)("option",{value:e,children:e},e)))]}),(0,c.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Email",value:d.email||"",readOnly:!0}),(0,c.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Phone",value:d.phone||"",onChange:e=>p((a=>({...a,phone:e.target.value})))}),(0,c.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Twitter",value:(null===(e=d.socialLinks)||void 0===e?void 0:e.twitter)||"",onChange:e=>p((a=>({...a,socialLinks:{...a.socialLinks,twitter:e.target.value}})))}),(0,c.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Instagram",value:(null===(a=d.socialLinks)||void 0===a?void 0:a.instagram)||"",onChange:e=>p((a=>({...a,socialLinks:{...a.socialLinks,instagram:e.target.value}})))}),(0,c.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Facebook",value:(null===(t=d.socialLinks)||void 0===t?void 0:t.facebook)||"",onChange:e=>p((a=>({...a,socialLinks:{...a.socialLinks,facebook:e.target.value}})))}),(0,c.jsx)("button",{className:"w-full p-2 mt-4 text-white bg-blue-500 rounded-md",onClick:async()=>{l().fire({title:"Updating...",text:"Your profile is being updated. Please wait...",allowOutsideClick:!1,didOpen:()=>{l().showLoading()}});const e=n.I8.currentUser.uid;try{const a=await s.Z.put("https://yeeplatformbackend.azurewebsites.net/updateaccountinfo/".concat(e),d);if(!a.data.success||"User data updated successfully"!==a.data.message)throw new Error("Profile update failed");l().fire("Success","Profile updated successfully!","success")}catch(a){l().fire("Oops...","Error updating your profile!","error")}},children:"Update Profile"})]})}},34083:(e,a,t)=>{t.d(a,{h:()=>r});const r=["Algeria","Angola","Benin","Botswana","Burkina Faso","Burundi","Cabo Verde","Cameroon","Central African Republic","Chad","Comoros","Democratic Republic of the Congo","Republic of the Congo","Cote d'Ivoire","Djibouti","Egypt","Equatorial Guinea","Eritrea","Eswatini","Ethiopia","Gabon","Gambia","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Libya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Morocco","Mozambique","Namibia","Niger","Nigeria","Rwanda","Sao Tome and Principe","Senegal","Seychelles","Sierra Leone","Somalia","South Africa","South Sudan","Sudan","Tanzania","Togo","Tunisia","Uganda","Zambia","Zimbabwe"]},48876:()=>{}}]);
//# sourceMappingURL=4917.5ce293d6.chunk.js.map