"use strict";(self.webpackChunkyeeplatform=self.webpackChunkyeeplatform||[]).push([[7555,5399],{5399:(e,t,o)=>{o.d(t,{$s:()=>r.$s,Cg:()=>d,GoogleAuthProvider:()=>s.HF,auth:()=>c,onAuthStateChanged:()=>s.hg,signInWithEmailAndPassword:()=>s.x9,signInWithPopup:()=>s.df,signOut:()=>s.CI,zS:()=>i});var n=o(37064),r=o(82413),s=o(32813);const a={apiKey:"AIzaSyBXS56tIro9cd-Sd4ySn5AwLw3T6cnMHr0",authDomain:"yeeplatform.firebaseapp.com",projectId:"yeeplatform",storageBucket:"yeeplatform.appspot.com",messagingSenderId:"272587831821",appId:"1:272587831821:web:b612b427ff43968f33f344",measurementId:"G-YZV03469PP"};let l,c,i;(async()=>{if(!l){l=(0,n.Wp)(a),c=(0,s.xI)(l);await(0,r.TT)()&&(i=(0,r.P5)(l))}})();const d=(e,t)=>{i&&(0,r.$s)(i,e,t)}},65665:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(65043),r=o(73216),s=o(28883),a=o(29402),l=o(5399),c=o(41591),i=o(70579);const d=()=>{const{id:e}=(0,r.g)(),t=(0,r.Zp)(),[o,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(!0),[h,f]=(0,n.useState)(null),[p,g]=(0,n.useState)([]),x="https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png";(0,n.useEffect)((()=>{(0,l.$s)(l.zS,"audiochapter_details_page_visited");(async()=>{try{const n=await fetch("https://yeeplatformbackend.azurewebsites.net/getAudioChapter/".concat(e));if(!n.ok)throw new Error("Ebook not found");const r=await n.json();if(d(r),console.log(r),(0,l.$s)(l.zS,o.title+"_detail_page-visited"),r)try{const t=encodeURIComponent(r.category),o=encodeURIComponent(r.genres.join(",")),n=await fetch("https://yeeplatformbackend.azurewebsites.net/relatedContent?currentItemId=".concat(e,"&category=").concat(t,"&genre=").concat(o));if(!n.ok)throw new Error("Failed to fetch related content");const s=await n.json();g(s)}catch(t){console.error("Error fetching related content:",t)}}catch(t){f(t.message)}finally{m(!1)}})()}),[e]);const v=()=>{t("/audiochapterlisten/".concat(e,"/listen"))};return u?(0,i.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):(h&&console.log(h.message),(0,i.jsxs)("div",{className:"container mx-auto p-4",children:[(0,i.jsxs)(c.m,{children:[(0,i.jsxs)("title",{children:[o.title," - Yee FM"]}),(0,i.jsx)("meta",{name:"description",content:o.description}),(0,i.jsx)("link",{rel:"icon",href:o.coverImage||o.coverimage||"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp"}),(0,i.jsx)("meta",{name:"keywords",content:"Yee FM, audiobooks, search, listen, literature, digital library"}),(0,i.jsx)("meta",{property:"og:title",content:"".concat(o.title," - Yee FM")}),(0,i.jsx)("meta",{property:"og:description",content:o.description}),(0,i.jsx)("meta",{property:"og:image",content:o.coverImage||o.coverimage||"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp"}),(0,i.jsx)("meta",{property:"og:url",content:window.location.href}),(0,i.jsx)("meta",{property:"og:type",content:"book"})]}),(0,i.jsx)("button",{onClick:()=>{t("/audiochapters")},className:"mb-4 text-blue-600 hover:text-blue-800",children:"\u2190 Back"}),(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row items-center lg:items-start bg-white rounded-lg shadow",children:[(0,i.jsx)("div",{className:"w-full lg:w-1/4 p-4",children:(0,i.jsx)("img",{src:o.coverimage&&o.coverimage.endsWith("undefined")?x:o.coverimage||x,alt:o.title,onClick:v,className:"rounded-lg shadow-xl mx-auto",style:{maxWidth:"100%",height:"auto"}})}),(0,i.jsxs)("div",{className:"w-full lg:w-3/4 lg:ml-6",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold mb-2 text-center lg:text-left",children:o.title}),(0,i.jsxs)("p",{className:"text-sm text-gray-600 text-center lg:text-left mb-4",children:["Published on: ",new Date(o.publishedDate).toLocaleDateString()]}),(0,i.jsx)(s.A,{name:"read-only",value:o.averageRating||0,readOnly:!0})," ",(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Description"}),(0,i.jsx)("p",{className:"text-gray-700",children:o.description})]}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"Details"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center text-center",children:[(0,i.jsx)("span",{className:"font-semibold mr-2",children:"Author:"}),(0,i.jsx)("span",{children:o.author})]}),(0,i.jsxs)("div",{className:"flex items-center text-center",children:[(0,i.jsx)("span",{className:"font-semibold mr-2",children:"ISBN:"}),(0,i.jsx)("span",{children:o.ISBN||"N/A"})]}),(0,i.jsxs)("div",{className:"flex items-center text-center",children:[(0,i.jsx)("span",{className:"font-semibold mr-2",children:"Categories:"}),(0,i.jsx)("span",{children:o.categories||"N/A"})]})]})]}),(0,i.jsx)("button",{onClick:v,className:"mb-4 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"Listen"}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"Reviews"}),o.reviews.length>0?o.reviews.map(((e,t)=>(0,i.jsx)("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:(0,i.jsx)("p",{className:"text-gray-800",children:e.text})},t))):(0,i.jsx)("p",{children:"No reviews yet."})]})]})]}),(0,i.jsxs)("div",{className:"mt-8",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"Listen"}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.length>0?p.map(((e,t)=>(0,i.jsx)(a.A,{title:e.title,coverImage:e.coverImage,itemType:e.type,itemId:e._id,rating:e.rating},t))):(0,i.jsx)("p",{children:"No related chapters found."})})]})]}))}},29402:(e,t,o)=>{o.d(t,{A:()=>l});o(65043);var n=o(35475),r=o(28883),s=o(9634),a=(o(73812),o(70579));const l=function(e){let{title:t,coverImage:o,itemType:l,itemId:c,rating:i}=e;const d="https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png",u=e=>{e.target.src=d};return(0,a.jsxs)("div",{className:"rounded overflow-hidden shadow-lg bg-white w-full",children:[(0,a.jsx)("div",{className:"aspect-w-16 aspect-h-25 overflow-hidden",children:(()=>{switch(l){case"audiobook":return(0,a.jsx)("a",{href:"/audiobooks/".concat(c),children:(0,a.jsx)(s.LazyLoadImage,{className:"object-cover w-full h-full",src:o||d||"https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png",alt:t,loading:"lazy",effect:"blur",onError:u})});case"audiochapter":return(0,a.jsx)("a",{href:"/audiochapters/".concat(c),children:(0,a.jsx)(s.LazyLoadImage,{className:"object-cover w-full h-full",src:o||d||"https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png",alt:t,loading:"lazy",effect:"blur",onError:u})});case"Text":case"notes":case"chapters":return(0,a.jsx)(n.N_,{to:"/chapters/".concat(c),children:(0,a.jsx)(s.LazyLoadImage,{className:"object-cover w-full h-full",src:o||d||"https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png",alt:t,loading:"lazy",effect:"blur",onError:u})});case"ebook":return(0,a.jsx)(n.N_,{to:"/ebooks/".concat(c),children:(0,a.jsx)(s.LazyLoadImage,{className:"object-cover w-full h-full",src:o||d||"https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png",alt:t,loading:"lazy",effect:"blur",onError:u})});default:return(0,a.jsx)(s.LazyLoadImage,{className:"object-cover w-full h-full",src:o||d||"https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png",alt:t,loading:"lazy",effect:"blur",onError:u})}})()}),(0,a.jsxs)("div",{className:"px-3 py-1",children:[(0,a.jsx)("div",{className:"font-bold text-md mb-1 line-clamp-2",children:t}),(0,a.jsx)(r.A,{name:"read-only",value:i,readOnly:!0,size:"small"})]}),(0,a.jsx)("div",{className:"px-3 pb-1 flex justify-center",children:(()=>{const e="bg-transparent text-yellow-500 font-bold py-2 px-4 rounded border border-yellow-500 focus:outline-none focus:border-none focus:ring ring-transparent no-underline transition-all duration-300 hover:bg-yellow-500 hover:text-red hover:border-yellow-500 hover:scale-105";switch(l){case"audiobook":return(0,a.jsx)("a",{href:"/audiobooks/".concat(c),className:e,children:"Listen"});case"audiochapter":return(0,a.jsx)("a",{href:"/audiochapters/".concat(c),className:e,children:"Listen"});case"Text":case"Chapters":case"chapter":case"chapters":case"Chapter":return(0,a.jsx)(n.N_,{to:"/chapters/".concat(c),className:e,children:"Chapter"});case"notes":case"PDF":return(0,a.jsx)(n.N_,{to:"/notespdf/".concat(c),className:e,children:"read"});case"ebook":return(0,a.jsx)(n.N_,{to:"/ebooks/".concat(c),className:"no-underline ".concat(e),children:"Book"});default:return null}})()})]})}},59662:(e,t,o)=>{o.d(t,{A:()=>b});var n=o(58168),r=o(65043),s=o(98587),a=o(69292),l=o(68606),c=o(6803),i=o(72876),d=o(34535),u=o(57056),m=o(32400);function h(e){return(0,m.Ay)("MuiSvgIcon",e)}(0,u.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=o(70579);const p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,d.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,"inherit"!==o.color&&t["color".concat((0,c.A)(o.color))],t["fontSize".concat((0,c.A)(o.fontSize))]]}})((e=>{let{theme:t,ownerState:o}=e;var n,r,s,a,l,c,i,d,u,m,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:o.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=t.transitions)||null==(r=n.create)?void 0:r.call(n,"fill",{duration:null==(s=t.transitions)||null==(s=s.duration)?void 0:s.shorter}),fontSize:{inherit:"inherit",small:(null==(a=t.typography)||null==(l=a.pxToRem)?void 0:l.call(a,20))||"1.25rem",medium:(null==(c=t.typography)||null==(i=c.pxToRem)?void 0:i.call(c,24))||"1.5rem",large:(null==(d=t.typography)||null==(u=d.pxToRem)?void 0:u.call(d,35))||"2.1875rem"}[o.fontSize],color:null!=(m=null==(h=(t.vars||t).palette)||null==(h=h[o.color])?void 0:h.main)?m:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.disabled,inherit:void 0}[o.color]}})),x=r.forwardRef((function(e,t){const o=(0,i.A)({props:e,name:"MuiSvgIcon"}),{children:d,className:u,color:m="inherit",component:x="svg",fontSize:v="medium",htmlColor:b,inheritViewBox:y=!1,titleAccess:w,viewBox:j="0 0 24 24"}=o,N=(0,s.A)(o,p),A=r.isValidElement(d)&&"svg"===d.type,S=(0,n.A)({},o,{color:m,component:x,fontSize:v,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:j,hasSvgAsChild:A}),I={};y||(I.viewBox=j);const k=(e=>{const{color:t,fontSize:o,classes:n}=e,r={root:["root","inherit"!==t&&"color".concat((0,c.A)(t)),"fontSize".concat((0,c.A)(o))]};return(0,l.A)(r,h,n)})(S);return(0,f.jsxs)(g,(0,n.A)({as:x,className:(0,a.A)(k.root,u),focusable:"false",color:b,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},I,N,A&&d.props,{ownerState:S,children:[A?d.props.children:d,w?(0,f.jsx)("title",{children:w}):null]}))}));x.muiName="SvgIcon";const v=x;function b(e,t){function o(o,r){return(0,f.jsx)(v,(0,n.A)({"data-testid":"".concat(t,"Icon"),ref:r},o,{children:e}))}return o.muiName=v.muiName,r.memo(r.forwardRef(o))}},54516:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(41944).A},95849:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(47042).A},45879:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(20992).A},82191:(e,t,o)=>{o.d(t,{A:()=>h});var n=o(65043),r=o(31140);let s=!0,a=!1;const l=new r.E,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function i(e){e.metaKey||e.altKey||e.ctrlKey||(s=!0)}function d(){s=!1}function u(){"hidden"===this.visibilityState&&a&&(s=!0)}function m(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(o){}return s||function(e){const{type:t,tagName:o}=e;return!("INPUT"!==o||!c[t]||e.readOnly)||"TEXTAREA"===o&&!e.readOnly||!!e.isContentEditable}(t)}const h=function(){const e=n.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",i,!0),t.addEventListener("mousedown",d,!0),t.addEventListener("pointerdown",d,!0),t.addEventListener("touchstart",d,!0),t.addEventListener("visibilitychange",u,!0))}),[]),t=n.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!m(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,l.start(100,(()=>{a=!1})),t.current=!1,!0)},ref:e}}},10875:(e,t,o)=>{o.d(t,{A:()=>d,I:()=>i});var n=o(58168),r=o(98587),s=o(65043),a=o(70579);const l=["value"],c=s.createContext();const i=()=>{const e=s.useContext(c);return null!=e&&e},d=function(e){let{value:t}=e,o=(0,r.A)(e,l);return(0,a.jsx)(c.Provider,(0,n.A)({value:null==t||t},o))}},69184:(e,t,o)=>{function n(e,t){"function"===typeof e?e(t):e&&(e.current=t)}o.d(t,{A:()=>n})},41944:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(65043);function r(e){let{controlled:t,default:o,name:r,state:s="value"}=e;const{current:a}=n.useRef(void 0!==t),[l,c]=n.useState(o);return[a?t:l,n.useCallback((e=>{a||c(e)}),[])]}},47042:(e,t,o)=>{o.d(t,{A:()=>s});var n=o(65043),r=o(69184);function s(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,r.A)(t,e)}))}),t)}},20992:(e,t,o)=>{var n;o.d(t,{A:()=>l});var r=o(65043);let s=0;const a=(n||(n=o.t(r,2)))["useId".toString()];function l(e){if(void 0!==a){const t=a();return null!=e?e:t}return function(e){const[t,o]=r.useState(e),n=e||t;return r.useEffect((()=>{null==t&&(s+=1,o("mui-".concat(s)))}),[t]),n}(e)}},31140:(e,t,o)=>{o.d(t,{E:()=>a,A:()=>l});var n=o(65043);const r={};const s=[];class a{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new a}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function l(){const e=function(e,t){const o=n.useRef(r);return o.current===r&&(o.current=e(t)),o}(a.create).current;var t;return t=e.disposeEffect,n.useEffect(t,s),e}}}]);
//# sourceMappingURL=7555.96359fb2.chunk.js.map