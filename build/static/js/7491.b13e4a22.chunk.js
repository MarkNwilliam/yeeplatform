"use strict";(self.webpackChunkyeeplatform=self.webpackChunkyeeplatform||[]).push([[7491,5399],{38168:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var n=o(65043),i=o(85865),r=o(79650),a=o(63336),l=o(71806),s=o(84882),c=o(28076),d=o(10039),u=o(73460),h=o(11906),p=o(90035),f=o(26600),A=o(35316),m=o(98533),v=o(88861),g=o(29347),x=o(5399),w=o(30064),y=o.n(w),S=o(70579);const b=()=>{const[e,t]=(0,n.useState)([]),[o,w]=(0,n.useState)(!1),[b,j]=(0,n.useState)(""),[k,C]=(0,n.useState)(""),I=async()=>{y().showLoading();try{const e=await fetch("https://yeeplatformbackend.azurewebsites.net/getauthoraudios?userId=".concat(x.auth.currentUser.uid));if(!e.ok)throw new Error("Error fetching audiobooks: ".concat(e.statusText));{const o=await e.json();t(o)}}catch(e){console.error("Error fetching audiobooks:",e)}finally{y().close()}};(0,n.useEffect)((()=>{I()}),[]);const T=()=>{w(!1)};return(0,S.jsxs)("div",{children:[(0,S.jsx)(i.A,{variant:"h4",component:"h2",children:"My Audio books"}),(0,S.jsxs)(r.A,{component:a.A,children:[(0,S.jsxs)(l.A,{children:[(0,S.jsx)(s.A,{children:(0,S.jsxs)(c.A,{children:[(0,S.jsx)(d.A,{children:"Title"}),(0,S.jsx)(d.A,{children:"Published On"}),(0,S.jsx)(d.A,{children:"Description"}),(0,S.jsx)(d.A,{children:"Duration"}),(0,S.jsx)(d.A,{children:"Actions"})]})}),(0,S.jsx)(u.A,{children:e.map((e=>(0,S.jsxs)(c.A,{children:[(0,S.jsx)(d.A,{children:e.title}),(0,S.jsx)(d.A,{children:e.publishedDate}),(0,S.jsx)(d.A,{children:e.description}),(0,S.jsx)(d.A,{children:e.duration}),(0,S.jsxs)(d.A,{children:[(0,S.jsx)(h.A,{onClick:()=>{return t=e.description,o=e._id,j(t),C(o),void w(!0);var t,o},children:"Edit"}),(0,S.jsx)(h.A,{onClick:()=>(async e=>{y().fire({title:"Are you sure?",text:"This will permanently delete the audiobook.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async o=>{if(o.isConfirmed)try{y().showLoading();const o=await fetch("https://yeeplatformbackend.azurewebsites.net/deleteAudiobook/".concat(e),{method:"DELETE"});if(!o.ok)throw new Error("Failed to delete the book: ".concat(o.statusText));t((t=>t.filter((t=>t._id!==e)))),y().fire("Deleted!","The audiobook has been deleted.","success"),I()}catch(n){y().fire("Oops...","Something went wrong while deleting the book!","error")}finally{y().close(),T()}}))})(e._id),children:"Delete"})]})]},e._id)))})]}),0===e.length&&(0,S.jsx)(i.A,{variant:"h6",style:{textAlign:"center",padding:"20px",color:"grey"},children:"No data available."})]}),(0,S.jsxs)(p.A,{open:o,onClose:T,children:[(0,S.jsx)(f.A,{children:"Edit Audiobook Description"}),(0,S.jsxs)(A.A,{children:[(0,S.jsx)(m.A,{children:"Please edit the description of the selected audiobook."}),(0,S.jsx)(v.A,{autoFocus:!0,margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,value:b,onChange:e=>j(e.target.value)})]}),(0,S.jsxs)(g.A,{children:[(0,S.jsx)(h.A,{onClick:T,children:"Cancel"}),(0,S.jsx)(h.A,{onClick:async()=>{try{y().showLoading();const e=await fetch("https://yeeplatformbackend.azurewebsites.net/updateABD",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:k,description:b})});if(!e.ok)throw new Error("Failed to update the description: ".concat(e.statusText));{const o=await e.json();t((e=>e.map((e=>e._id===k?o:e)))),w(!1),I()}}catch(e){y().fire("Oops...","Something went wrong while updating the description!","error")}finally{y().close(),T()}},children:"Save"})]})]})]})}},5399:(e,t,o)=>{o.d(t,{$s:()=>i.$s,Cg:()=>d,GoogleAuthProvider:()=>r.HF,auth:()=>s,onAuthStateChanged:()=>r.hg,signInWithEmailAndPassword:()=>r.x9,signInWithPopup:()=>r.df,signOut:()=>r.CI,zS:()=>c});var n=o(37064),i=o(82413),r=o(32813);const a={apiKey:"AIzaSyBXS56tIro9cd-Sd4ySn5AwLw3T6cnMHr0",authDomain:"yeeplatform.firebaseapp.com",projectId:"yeeplatform",storageBucket:"yeeplatform.appspot.com",messagingSenderId:"272587831821",appId:"1:272587831821:web:b612b427ff43968f33f344",measurementId:"G-YZV03469PP"};let l,s,c;(async()=>{if(!l){l=(0,n.Wp)(a),s=(0,r.xI)(l);await(0,i.TT)()&&(c=(0,i.P5)(l))}})();const d=(e,t)=>{c&&(0,i.$s)(c,e,t)}},29347:(e,t,o)=>{o.d(t,{A:()=>m});var n=o(98587),i=o(58168),r=o(65043),a=o(69292),l=o(68606),s=o(34535),c=o(72876),d=o(57056),u=o(32400);function h(e){return(0,u.Ay)("MuiDialogActions",e)}(0,d.A)("MuiDialogActions",["root","spacing"]);var p=o(70579);const f=["className","disableSpacing"],A=(0,s.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,i.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),m=r.forwardRef((function(e,t){const o=(0,c.A)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:s=!1}=o,d=(0,n.A)(o,f),u=(0,i.A)({},o,{disableSpacing:s}),m=(e=>{const{classes:t,disableSpacing:o}=e,n={root:["root",!o&&"spacing"]};return(0,l.A)(n,h,t)})(u);return(0,p.jsx)(A,(0,i.A)({className:(0,a.A)(m.root,r),ownerState:u,ref:t},d))}))},35316:(e,t,o)=>{o.d(t,{A:()=>v});var n=o(98587),i=o(58168),r=o(65043),a=o(69292),l=o(68606),s=o(34535),c=o(72876),d=o(57056),u=o(32400);function h(e){return(0,u.Ay)("MuiDialogContent",e)}(0,d.A)("MuiDialogContent",["root","dividers"]);var p=o(87034),f=o(70579);const A=["className","dividers"],m=(0,s.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:o}=e;return(0,i.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(p.A.root," + &")]:{paddingTop:0}})})),v=r.forwardRef((function(e,t){const o=(0,c.A)({props:e,name:"MuiDialogContent"}),{className:r,dividers:s=!1}=o,d=(0,n.A)(o,A),u=(0,i.A)({},o,{dividers:s}),p=(e=>{const{classes:t,dividers:o}=e,n={root:["root",o&&"dividers"]};return(0,l.A)(n,h,t)})(u);return(0,f.jsx)(m,(0,i.A)({className:(0,a.A)(p.root,r),ownerState:u,ref:t},d))}))},59662:(e,t,o)=>{o.d(t,{A:()=>x});var n=o(58168),i=o(65043),r=o(98587),a=o(69292),l=o(68606),s=o(6803),c=o(72876),d=o(34535),u=o(57056),h=o(32400);function p(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,u.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=o(70579);const A=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,d.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,"inherit"!==o.color&&t["color".concat((0,s.A)(o.color))],t["fontSize".concat((0,s.A)(o.fontSize))]]}})((e=>{let{theme:t,ownerState:o}=e;var n,i,r,a,l,s,c,d,u,h,p,f,A;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:o.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=t.transitions)||null==(i=n.create)?void 0:i.call(n,"fill",{duration:null==(r=t.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(a=t.typography)||null==(l=a.pxToRem)?void 0:l.call(a,20))||"1.25rem",medium:(null==(s=t.typography)||null==(c=s.pxToRem)?void 0:c.call(s,24))||"1.5rem",large:(null==(d=t.typography)||null==(u=d.pxToRem)?void 0:u.call(d,35))||"2.1875rem"}[o.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[o.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(A=(t.vars||t).palette)||null==(A=A.action)?void 0:A.disabled,inherit:void 0}[o.color]}})),v=i.forwardRef((function(e,t){const o=(0,c.A)({props:e,name:"MuiSvgIcon"}),{children:d,className:u,color:h="inherit",component:v="svg",fontSize:g="medium",htmlColor:x,inheritViewBox:w=!1,titleAccess:y,viewBox:S="0 0 24 24"}=o,b=(0,r.A)(o,A),j=i.isValidElement(d)&&"svg"===d.type,k=(0,n.A)({},o,{color:h,component:v,fontSize:g,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:S,hasSvgAsChild:j}),C={};w||(C.viewBox=S);const I=(e=>{const{color:t,fontSize:o,classes:n}=e,i={root:["root","inherit"!==t&&"color".concat((0,s.A)(t)),"fontSize".concat((0,s.A)(o))]};return(0,l.A)(i,p,n)})(k);return(0,f.jsxs)(m,(0,n.A)({as:v,className:(0,a.A)(I.root,u),focusable:"false",color:x,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},C,b,j&&d.props,{ownerState:k,children:[j?d.props.children:d,y?(0,f.jsx)("title",{children:y}):null]}))}));v.muiName="SvgIcon";const g=v;function x(e,t){function o(o,i){return(0,f.jsx)(g,(0,n.A)({"data-testid":"".concat(t,"Icon"),ref:i},o,{children:e}))}return o.muiName=g.muiName,i.memo(i.forwardRef(o))}},80950:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(76440).A},90154:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(65043);const i=function(e,t){var o,i;return n.isValidElement(e)&&-1!==t.indexOf(null!=(o=e.type.muiName)?o:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},22427:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(22144).A},36078:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(46288).A},54516:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(41944).A},55013:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(63844).A},44708:(e,t,o)=>{function n(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(((e,t)=>null==t?e:function(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];e.apply(this,n),t.apply(this,n)}),(()=>{}))}o.d(t,{A:()=>n})},76440:(e,t,o)=>{function n(e){let t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),o)}return n.clear=()=>{clearTimeout(t)},n}o.d(t,{A:()=>n})},22144:(e,t,o)=>{function n(e){return e&&e.ownerDocument||document}o.d(t,{A:()=>n})},46288:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(22144);function i(e){return(0,n.A)(e).defaultView||window}},41944:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(65043);function i(e){let{controlled:t,default:o,name:i,state:r="value"}=e;const{current:a}=n.useRef(void 0!==t),[l,s]=n.useState(o);return[a?t:l,n.useCallback((e=>{a||s(e)}),[])]}},20992:(e,t,o)=>{var n;o.d(t,{A:()=>l});var i=o(65043);let r=0;const a=(n||(n=o.t(i,2)))["useId".toString()];function l(e){if(void 0!==a){const t=a();return null!=e?e:t}return function(e){const[t,o]=i.useState(e),n=e||t;return i.useEffect((()=>{null==t&&(r+=1,o("mui-".concat(r)))}),[t]),n}(e)}}}]);
//# sourceMappingURL=7491.b13e4a22.chunk.js.map