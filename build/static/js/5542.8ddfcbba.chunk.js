"use strict";(self.webpackChunkyeeplatform=self.webpackChunkyeeplatform||[]).push([[5542],{34083:(e,a,i)=>{i.d(a,{h:()=>r});const r=["Algeria","Angola","Benin","Botswana","Burkina Faso","Burundi","Cabo Verde","Cameroon","Central African Republic","Chad","Comoros","Democratic Republic of the Congo","Republic of the Congo","Cote d'Ivoire","Djibouti","Egypt","Equatorial Guinea","Eritrea","Eswatini","Ethiopia","Gabon","Gambia","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Libya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Morocco","Mozambique","Namibia","Niger","Nigeria","Rwanda","Sao Tome and Principe","Senegal","Seychelles","Sierra Leone","Somalia","South Africa","South Sudan","Sudan","Tanzania","Togo","Tunisia","Uganda","Zambia","Zimbabwe"]},35542:(e,a,i)=>{i.r(a),i.d(a,{default:()=>p});var r=i(72791),o=i(61567),t=i(21830),n=i.n(t),s=i(98011),l=i(56355),c=i(57689),d=i(11087),u=i(40071),g=i(34083),m=i(763),f=i(54270),h=i(80184);const p=function(){const[e,a]=(0,r.useState)(""),[i,t]=(0,r.useState)(""),[p,w]=(0,r.useState)(""),[x,y]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),N=(0,c.s0)(),[S,v]=(0,r.useState)(!1),[C,k]=(0,r.useState)(""),E=(0,m.debounce)(M,1e3),P=async e=>{try{const a=await fetch("https://yeeplatformbackend.azurewebsites.net/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=await a.json();if(!a.ok)throw new Error(i.message)}catch(a){console.error("Error sending user data to backend:",a),n().fire({icon:"error",title:"Error",text:a.message})}},M=async a=>{if(a.preventDefault(),e&&p&&x&&b)if(S)if(x===b)try{n().fire({title:"Signing up...",allowEscapeKey:!1,allowOutsideClick:!1,willOpen:()=>{n().showLoading()}});const{user:a}=await(0,s.Xb)(o.I8,p,x);await(0,s.w$)(a).then((()=>{})),n().fire({icon:"info",title:"Verify Your Email",text:"A verification email has been sent. Please check your inbox and verify your email address."});const i={username:e,email:p,password:x,dateJoined:Date.now(),preferredReadingMode:"LTR",firebaseId:a.uid,authProvider:"emailandpassword",emailVerified:a.emailVerified,settings:{receiveEmailUpdates:!0,receiveNotifications:!0,darkMode:!1},isAuthor:!1};localStorage.setItem("tempUserData",JSON.stringify(i)),await P(i),N("/verify-email")}catch(i){console.error("Error signing up:",i);let e=i.message;"auth/email-already-in-use"===i.code&&(e="This email address is already in use."),n().fire({icon:"error",title:"Error",text:e})}else n().fire({icon:"error",title:"Error",text:"Passwords do not match"});else n().fire({icon:"error",title:"Error",text:"You must agree to receive emails to register."});else n().fire({icon:"error",title:"Error",text:"Please fill in all fields"})};return(0,h.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-yellow-200 p-4 md:p-0",children:[(0,h.jsxs)(f.q,{children:[(0,h.jsx)("title",{children:"Sign Up - Yee FM"}),(0,h.jsx)("meta",{name:"description",content:"Sign up for a new account on Yee FM."}),(0,h.jsx)("link",{rel:"icon",href:"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp"}),(0,h.jsx)("meta",{property:"og:image",content:"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp"})]}),(0,h.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-6 rounded-lg shadow-md",children:[(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)(u.O8Q,{className:"text-gray-700 text-2xl cursor-pointer mb-4",onClick:()=>N(-1)}),(0,h.jsx)("img",{src:"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp",alt:"Platform logo",loading:"lazy",className:"mx-auto h-16 w-auto mb-2"}),(0,h.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Sign Up"}),(0,h.jsxs)("p",{className:"mt-2 text-gray-600",children:["Already have an account?"," ",(0,h.jsx)(d.rU,{to:"/signin",className:"text-indigo-500 hover:text-indigo-700 underline",children:"Sign In"})]})]}),(0,h.jsxs)("button",{onClick:async()=>{if(navigator.onLine)try{n().fire({title:"Signing up with Google...",allowEscapeKey:!1,allowOutsideClick:!1,willOpen:()=>{n().showLoading()}});const e=new s.hJ,a=(await(0,s.rh)(o.I8,e)).user,i={username:a.displayName,email:a.email,profileImage:a.photoURL,dateJoined:Date.now(),googleId:a.uid,firebaseId:a.uid,authProvider:"google",preferredReadingMode:"LTR",emailVerified:a.emailVerified,settings:{receiveEmailUpdates:!0,receiveNotifications:!0,darkMode:!1},isAuthor:!1};console.log("Sending this user data to the backend:",i),localStorage.setItem("tempUserData",JSON.stringify(i)),await P(i),n().fire({icon:"success",title:"Welcome to YeePlatform!",text:"\ud83c\udf89",timer:2e3,showConfirmButton:!1}),N("/home")}catch(e){console.error("Error signing in with Google:",e),n().fire({icon:"error",title:"Error",text:e.message})}else n().fire({icon:"error",title:"Error",text:"No internet connection"})},className:"w-full py-2 px-4 mb-6 bg-gray-700 text-white font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-gray-800 flex items-center justify-center",children:[(0,h.jsx)(l.ldW,{className:"mr-2"}),"Continue with Google"]}),(0,h.jsxs)("form",{onSubmit:E,className:"space-y-4",autoComplete:"off",children:[(0,h.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Full Name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none",onChange:e=>a(e.target.value)}),(0,h.jsx)("input",{type:"tel",id:"phone",name:"phone",placeholder:"Phone Number",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none",onChange:e=>t(e.target.value)}),(0,h.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Email Address",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none",onChange:e=>w(e.target.value)}),(0,h.jsxs)("select",{id:"country",name:"country",value:C,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none",onChange:e=>k(e.target.value),children:[(0,h.jsx)("option",{value:"",disabled:!0,children:"Select your Country"}),Array.isArray(g.h)&&g.h.map(((e,a)=>(0,h.jsx)("option",{value:e,children:e},a)))]}),(0,h.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Password",minLength:"6",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none",onChange:e=>y(e.target.value)}),(0,h.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"Confirm Password",minLength:"6",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none",onChange:e=>j(e.target.value)}),(0,h.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-indigo-500 text-white font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-700",children:"Sign Up"}),(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-indigo-500",checked:S,onChange:e=>v(e.target.checked)}),(0,h.jsx)("label",{className:"ml-2 text-sm text-gray-600",children:"I agree to receive marketing emails, newsletters, promotions, and updates."})]})]})]})]})}}}]);
//# sourceMappingURL=5542.8ddfcbba.chunk.js.map