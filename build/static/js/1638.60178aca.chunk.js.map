{"version":3,"file":"static/js/1638.60178aca.chunk.js","mappings":"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","sources":["components/Addreview.js","components/Usersignup.js","contexts/AuthContext.js","firebase.js","pages/AudiobookDetailPage.js","subcomponents/ContentCard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Dialog from '@mui/material/Dialog';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Rating from '@mui/material/Rating';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Backdrop from '@mui/material/Backdrop';\n\n\n\nfunction Addreview(props) {\n  const { onClose, open, type, _id, userEmail,setSnackbarMessage } = props;\n  const [review, setReview] = React.useState('');\n  const [rating, setRating] = React.useState(5);\n  const [userReview, setUserReview] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n \n  const fetchUserReview = async () => {\n    try {\n      const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/reviews/user/${userEmail}/${type}/${_id}/reviews`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      ////console.log(\"User review data:\", data);\n  \n      if (data && data.length > 0) {\n        setUserReview(data[0]); // Set the user's review\n        ////console.log(\"User review data:\", data[0]);\n      }\n    } catch (error) {\n      ////console.error(\"An error occurred while fetching the user review:\", error);\n      \n    }\n  };\n\n  const updateReview = async () => {\n    setLoading(true);\n    setSnackbarMessage('Updating review...');\n    const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/reviews/user/${userEmail}/${type}/${_id}/review/${userReview._id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        rating: rating,\n        comment: review,\n      }),\n    });\n  \n    const data = await response.json();\n    if (response.ok) {\n      setSnackbarMessage('Review updated successfully');\n      setSnackbarOpen(true);\n    setLoading(false);\n    } else {\n      setSnackbarMessage('Failed to update review');\n      setSnackbarOpen(true);\n    setLoading(false);\n    }\n    setSnackbarOpen(true);\n    setLoading(false);\n  };\n\n  const postReview = async () => {\n    setLoading(true);\n    setSnackbarMessage('Posting review...');\n    try {\n      const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/reviews/${type}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          audiobookId: _id,\n          userEmail: userEmail,\n          rating: rating,\n          comment: review,\n        }),\n      });\n      const data = await response.json();\n\n      if (data.message === 'User has already reviewed this audiobook') {\n       // //console.log(data.message);\n        setSnackbarMessage(data.message);\n        setSnackbarOpen(true);\n    setLoading(false);\n      } else {\n       // //console.log(data);\n        setSnackbarMessage('Review posted successfully');\n      }\n      setSnackbarOpen(true);\n    } catch (err) {\n     // //console.error(err);\n      setSnackbarMessage('Failed to post review');\n      setSnackbarOpen(true);\n    setLoading(false);\n    }\n    setLoading(false);\n  };\n\n  // Function to delete a review\n  const deleteReview = async () => {\n    setSnackbarMessage('Deleting review...');\n    setLoading(true);\n    try {\n      const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/reviews/user/${userEmail}/${type}/${_id}/review/${userReview._id}`, {\n        method: 'DELETE',\n      });\n      const data = await response.json();\n      ////console.log(data);\n      if (response.ok) {\n        setSnackbarMessage('Review deleted successfully');\n        setSnackbarOpen(true);\n        handleClose();\n    setLoading(false);\n      } else {\n        setSnackbarMessage('Failed to delete review');\n        setSnackbarOpen(true);\n    setLoading(false);\n      }\n      setSnackbarOpen(true);\n    } catch (err) {\n      ////console.error(err);\n      setSnackbarMessage('Failed to delete review');\n      setSnackbarOpen(true);\n    }\n    setLoading(false);\n  };\n  \n  const handleSubmit = () => {\n    if (userReview) {\n      updateReview();\n    } else {\n      postReview();\n    }\n    handleClose();\n  };\n\n  const handleClose = () => {\n    if (!loading) {\n        setSnackbarMessage('Working on it...');\n        onClose();\n    }\n  };\n\n  const handleInputChange = (event) => {\n    setReview(event.target.value);\n  };\n\n  const handleRatingChange = (event, newValue) => {\n    setRating(newValue);\n  };\n\n\n  useEffect(() => {\n    fetchUserReview();\n  }, []);\n\n  useEffect(() => {\n    if (userReview) {\n      setReview(userReview.comment);\n      setRating(userReview.rating);\n    }\n  }, [userReview]);\n\n  return (\n    <Dialog onClose={handleClose} open={open}>\n      <DialogTitle>Add a Review</DialogTitle>\n      <Box p={1}>\n        <Rating\n          name=\"simple-controlled\"\n          value={rating}\n          onChange={handleRatingChange}\n        />\n      \n        <TextField\n          autoFocus\n          margin=\"dense\"\n          id=\"review\"\n          label=\"Your Review\"\n          type=\"text\"\n          fullWidth\n          value={review}\n          onChange={handleInputChange}\n        />\n        <Button onClick={handleSubmit} color=\"primary\">\n          Submit\n        </Button>\n\n        <Button onClick={deleteReview} color=\"secondary\">\n          Delete Review\n        </Button>\n      </Box>\n      <Backdrop open={loading}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n    </Dialog>\n  );\n}\n\nAddreview.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  type: PropTypes.string.isRequired,\n  _id: PropTypes.string.isRequired,\n  userEmail: PropTypes.string.isRequired,\n  setSnackbarMessage: PropTypes.func.isRequired,\n};\n\nexport default Addreview;","import React from 'react';\nimport { useNavigate } from 'react-router-dom'; // Import the useNavigate hook\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nconst UserSignup = ({ open, onClose }) => {\n  const navigate = useNavigate(); // Get the navigate function\n\n  const handleLogin = () => {\n    navigate('/login'); // Navigate to the login page\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle>Login Required</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Please log in to add a review.\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose} color=\"primary\">\n          Close\n        </Button>\n        <Button onClick={handleLogin} color=\"primary\" variant=\"outlined\">\n          Log In\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default UserSignup;","import React, { useState, useEffect, createContext, useCallback } from \"react\";\r\nimport { debounce } from 'lodash'; \r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport function useAuth() {\r\n  return React.useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [isAuthor, setIsAuthor] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isVerified, setIsVerified] = useState(\r\n    () => JSON.parse(localStorage.getItem('isVerified')) || false\r\n  );\r\n\r\n  // Memoized functions\r\n  const checkAuthorStatus = useCallback(debounce(async (currentUser) => {\r\n    if (!currentUser || !currentUser.uid) return;\r\n\r\n    try {\r\n      const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/isAuthor/${currentUser.uid}`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setIsAuthor(data.isAuthor);\r\n      } else {\r\n        //console.error(\"AuthContext: Failed to check author status. Response status:\", response.status);\r\n      }\r\n    } catch (error) {\r\n      //console.error(\"AuthContext: Error checking author status:\", error);\r\n    }\r\n  }, 15000), []);\r\n\r\n  const login = useCallback(async (email, password) => {\r\n    const { auth, signInWithEmailAndPassword } = await import(\"../firebase\");\r\n    try {\r\n      const result = await signInWithEmailAndPassword(auth, email, password);\r\n      setUser(result.user);\r\n      const verified = result.user?.emailVerified || false;\r\n      setIsVerified(verified);\r\n      localStorage.setItem('isVerified', verified.toString());\r\n    } catch (error) {\r\n      //console.error(\"Error logging in:\", error);\r\n    }\r\n  }, []);\r\n\r\n  const loginWithGoogle = useCallback(async () => {\r\n    const { auth, signInWithPopup, GoogleAuthProvider } = await import(\"../firebase\");\r\n    const provider = new GoogleAuthProvider();\r\n\r\n    try {\r\n      const result = await signInWithPopup(auth, provider);\r\n      setUser(result.user);\r\n      const verified = result.user?.emailVerified || false;\r\n      setIsVerified(verified);\r\n      localStorage.setItem('isVerified', verified.toString());\r\n    } catch (error) {\r\n      //console.error(\"Error signing in with Google:\", error);\r\n    }\r\n  }, []);\r\n\r\n  const logout = useCallback(async () => {\r\n    const { auth, signOut } = await import(\"../firebase\");\r\n    try {\r\n      await signOut(auth);\r\n      setUser(null);\r\n      setIsAuthor(false);\r\n    } catch (error) {\r\n      //console.error(\"Error logging out:\", error);\r\n    }\r\n  }, []);\r\n\r\n  // Effect to manage authentication state\r\n  useEffect(() => {\r\n    const initializeAuth = async () => {\r\n      const { auth, onAuthStateChanged } = await import(\"../firebase\");\r\n      const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\r\n        setUser(currentUser);\r\n        setLoading(false);\r\n\r\n        if (currentUser) {\r\n          setIsVerified(currentUser.emailVerified);\r\n          localStorage.setItem('isVerified', currentUser.emailVerified.toString());\r\n        }\r\n      });\r\n\r\n      return () => unsubscribe();\r\n    }\r\n\r\n    initializeAuth();\r\n  }, []);\r\n\r\n  // Effect to check author status after initial render\r\n  useEffect(() => {\r\n    if (user) {\r\n      checkAuthorStatus(user);\r\n    }\r\n  }, [user, checkAuthorStatus]);\r\n\r\n  // Value provided by context\r\n  const contextValue = {\r\n    user,\r\n    isAuthor,\r\n    loading,\r\n    isVerified,\r\n    login,\r\n    logout,\r\n    loginWithGoogle\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default AuthProvider;","import { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics, isSupported, logEvent } from \"firebase/analytics\";\r\nimport {\r\n  getAuth,\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  sendEmailVerification,\r\n  signOut,\r\n} from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBXS56tIro9cd-Sd4ySn5AwLw3T6cnMHr0\",\r\n  authDomain: \"yeeplatform.firebaseapp.com\",\r\n  projectId: \"yeeplatform\",\r\n  storageBucket: \"yeeplatform.appspot.com\",\r\n  messagingSenderId: \"272587831821\",\r\n  appId: \"1:272587831821:web:b612b427ff43968f33f344\",\r\n  measurementId: \"G-YZV03469PP\"\r\n};\r\n\r\nlet app;\r\nlet auth;\r\nlet analytics;\r\n\r\n// Lazy load Firebase\r\nconst initializeFirebase = async () => {\r\n  if (!app) {\r\n    app = initializeApp(firebaseConfig);\r\n    auth = getAuth(app);\r\n\r\n    const supported = await isSupported();\r\n    if (supported) {\r\n      analytics = getAnalytics(app);\r\n      ////console.log(\"Firebase Analytics initialized.\");\r\n    } else {\r\n      ////console.warn(\"Firebase Analytics is not supported in this environment.\");\r\n    }\r\n  }\r\n};\r\n\r\ninitializeFirebase();\r\n\r\n// Export a function to log events after Firebase Analytics is initialized\r\nexport const logFirebaseEvent = (eventName, eventParams) => {\r\n  if (analytics) {\r\n    logEvent(analytics, eventName, eventParams);\r\n  } else {\r\n    ////console.warn(\"Firebase Analytics is not initialized yet.\");\r\n  }\r\n};\r\n\r\nexport {\r\n  auth,\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  sendEmailVerification,\r\n  signOut,\r\n  logEvent,\r\n  analytics,\r\n};","import React, { useEffect, useState, useCallback, useMemo } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport Rating from '@mui/material/Rating'; // Ensure you have @mui/material installed\r\nimport ContentCard from '../subcomponents/ContentCard';\r\nimport { analytics,logEvent } from '../firebase.js'\r\nimport { Helmet } from 'react-helmet';\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\nimport Paper from '@mui/material/Paper';\r\nimport Pagination from '@mui/material/Pagination';\r\nimport Addreview from '../components/Addreview';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport UserSignup from '../components/Usersignup.js';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport Button from '@mui/material/Button';\r\n    \r\n    const AudiobookDetailPage = () => {\r\n      const { id } = useParams();\r\n      const navigate = useNavigate();\r\n      const [ebook, setEbook] = useState(null);\r\n      const [loading, setLoading] = useState(true);\r\n      const [error, setError] = useState(null);\r\n      const [relatedContent, setRelatedContent] = useState([]);\r\n      const [numReviewsToShow, setNumReviewsToShow] = useState(2);\r\n      const [reviewsPage, setReviewsPage] = useState(1);\r\n      const [relatedContentPage, setRelatedContentPage] = useState(1);\r\n      const [reviews, setReviews] = useState([]);\r\n      const [open, setOpen] = useState(false);\r\n      const [signupOpen, setSignupOpen] = useState(false);\r\n      const { user } = useAuth();\r\n      const [opensnack, setOpensnack] = React.useState(false);\r\n      const [snackbarMessage, setSnackbarMessage] = useState('');\r\n\r\n\r\n      const defaultCoverImage = \"https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png\";\r\n\r\n      const fetchReviews = useCallback(async () => {\r\n        try {\r\n          ////console.log(id)\r\n          const reviewsResponse = await fetch(`https://yeeplatformbackend.azurewebsites.net/reviews/audiobook/${id}/reviews?page=${reviewsPage}&limit=2`);\r\n          const reviewsData = await reviewsResponse.json();\r\n          setReviews(reviewsData);\r\n          ////console.log(reviewsData);\r\n        } catch (err) {\r\n          setError(err.message);\r\n        }\r\n      }, [id, reviewsPage]);\r\n\r\n      const fetchRelatedContent = useCallback(async (categories) => {\r\n        try {\r\n          const relatedResponse = await fetch(`https://yeeplatformbackend.azurewebsites.net/getallaudiobooks?page=3&limit=10`);\r\n         \r\n          const relatedContentData = await relatedResponse.json();\r\n         ////console.log(relatedContentData.data);\r\n          setRelatedContent(relatedContentData.data.filter(book => book._id !== id));\r\n        } catch (err) {\r\n          setError(err.message);\r\n        }\r\n      }, [id, relatedContentPage]);\r\n\r\n  \r\n      useEffect(() => {\r\n\r\n        const fetchData = async () => {\r\n            try {\r\n                const ebookResponse = await fetch(`https://yeeplatformbackend.azurewebsites.net/getAudiobook/${id}`);\r\n                const [audiobookData] = await Promise.all([ebookResponse]).then(responses =>\r\n                  Promise.all(responses.map(res => res.json()))\r\n                );\r\n               // //console.log(audiobookData);\r\n                setEbook(audiobookData);\r\n                fetchReviews();\r\n                fetchRelatedContent(audiobookData.categories);\r\n                logEvent('audiobook_detail_fetched', { audiobookId: id });\r\n            } catch (err) {\r\n                setError(err.message);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (snackbarMessage) {\r\n          setOpensnack(true);\r\n        }\r\n    \r\n        fetchData();\r\n    }, [id, fetchReviews, fetchRelatedContent,snackbarMessage]);\r\n    \r\n \r\n    \r\n      const handleBack = () => {\r\n        navigate('/audiobooks');\r\n        logEvent(analytics,'audiobook_detail_back_clicked', { audiobookId: id });\r\n      };\r\n\r\n      const handleReviewsPageChange = (event, value) => {\r\n        setReviewsPage(value);\r\n      };\r\n\r\n      const handleRelatedContentPageChange = (event, value) => {\r\n        setRelatedContentPage(value);\r\n      };\r\n    \r\n      const handleReadBook = () => {\r\n        navigate(`/audiobooklisten/${id}/listen`);\r\n        logEvent(analytics,'audiobook_detail_listen_clicked', { audiobookId: id });\r\n      };\r\n      \r\n     \r\n      if (loading) {\r\n        return  <LinearProgress className=\"text-yellow-500 flex justify-center items-center h-screen\" />;\r\n      }\r\n    \r\n      if (error) {\r\n       // //console.log(error.message);\r\n      }\r\n\r\n      const handleClickOpen = () => {\r\n        if (user) {\r\n          setOpen(true);\r\n        } else {\r\n          \r\n          setSignupOpen(true);\r\n          \r\n        }\r\n      };\r\n    \r\n      const handleClose = (value) => {\r\n        setOpen(false);\r\n        setOpensnack(true);\r\n        fetchReviews();\r\n      };\r\n\r\n      const handleCloseSignup = () => {\r\n        setSignupOpen(false); // Close the signup dialog\r\n      };\r\n\r\n\r\n      ////console.log('ebook:', ebook);\r\n      ////console.log('ebook.categories:', ebook.categories);\r\n\r\n      const handleSnackClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n          return;\r\n        }\r\n    \r\n        setOpensnack(false);\r\n      };\r\n    \r\n      const action = (\r\n        <React.Fragment>\r\n          <Button color=\"secondary\" size=\"small\" onClick={handleClose}>\r\n            CLOSE\r\n          </Button>\r\n          <IconButton\r\n            size=\"small\"\r\n            aria-label=\"close\"\r\n            color=\"inherit\"\r\n            onClick={handleSnackClose}\r\n          >\r\n            <CloseIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </React.Fragment>\r\n      );\r\n\r\n  \r\n\r\n      return (\r\n        <div className=\"container mx-auto p-4\">\r\n      <Helmet>\r\n  <title>{ebook.title} - Yee FM</title>\r\n  <meta name=\"description\" content={ebook.description} />\r\n  <meta name=\"keywords\" content={ebook.keywords || ebook.genre || ebook.categories || \"audiobook, Yee FM, reading, literature\"} />\r\n  <link rel=\"icon\" href={ebook.coverImage || \"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp\"} />\r\n  <meta property=\"og:title\" content={`${ebook.title} - Yee FM`} />\r\n  <meta property=\"og:description\" content={ebook.description} />\r\n  <meta property=\"og:image\" content={ebook.coverImage || \"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp\"} />\r\n  <meta property=\"og:type\" content=\"audiobook\" />\r\n  <meta property=\"og:url\" content={window.location.href} />\r\n  {/* Additional Open Graph meta tags */}\r\n  <meta property=\"og:audio\" content={ebook.audioUrl} />\r\n  <meta property=\"og:audio:type\" content=\"audio/mpeg\" />\r\n</Helmet>\r\n\r\n          <button onClick={handleBack} className=\"mb-4 text-blue-600 hover:text-blue-800\">\r\n            &larr; Back\r\n          </button>\r\n          <div className=\"flex flex-col lg:flex-row items-center lg:items-start bg-white rounded-lg shadow\">\r\n            <div className=\"w-full lg:w-1/4 p-4\">\r\n              <img\r\n                \r\n                src={ebook.coverImage && ebook.coverImage.endsWith(\"undefined\") ? defaultCoverImage : ebook.coverImage || defaultCoverImage}\r\n                alt={ebook.title}\r\n                onClick={handleReadBook} \r\n                className=\"rounded-lg shadow-xl mx-auto\"\r\n                style={{ maxWidth: '100%', height: 'auto' }}\r\n              />\r\n            </div>\r\n            <div className=\"w-full lg:w-3/4 lg:ml-6\">\r\n              <h1 className=\"text-3xl font-bold mb-2 text-center lg:text-left\">{ebook.title || 'N/A'}</h1>\r\n              <p className=\"text-sm text-gray-600 text-center lg:text-left mb-4\">Published on: {new Date(ebook.publishedDate || 'N/A').toLocaleDateString()}</p>\r\n              <Rating name=\"read-only\" value={ebook.ratings || 0} readOnly /> {/* Replace with actual rating */}\r\n              <div className=\"mt-4\">\r\n                <h2 className=\"text-xl font-semibold mb-2\">Description</h2>\r\n                <p className=\"text-gray-700\">{ebook.description || 'N/A'}</p>\r\n              </div>\r\n              <div className=\"mt-6\">\r\n      <h3 className=\"text-lg font-semibold\">Details</h3>\r\n      <div className=\"space-y-2\">\r\n      <div className=\"flex items-center text-center\">\r\n      <span className=\"font-semibold mr-2\">Author:</span>\r\n      <span>{ebook.author || 'N/A'}</span>\r\n    </div>\r\n        <div className=\"flex items-center text-center\">\r\n          <span className=\"font-semibold mr-2\">ISBN:</span>\r\n          <span>{ebook.ISBN || 'N/A'}</span>\r\n        </div>\r\n        <div className=\"flex items-center text-center\">\r\n  <span className=\"font-semibold mr-2\">Categories:</span>\r\n  <span>{ebook.categories ? ebook.categories.join(', ') : 'N/A'}</span>\r\n</div>\r\n\r\n      </div>\r\n    </div>\r\n    <button \r\n            onClick={handleReadBook} \r\n            className=\"mb-4 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\"\r\n          >\r\n            Listen\r\n          </button>\r\n    \r\n              {/* Review section */}\r\n          \r\n              <div className=\"mt-6 relative p-4\">\r\n            <h3 className=\"text-lg font-semibold\">Reviews</h3>\r\n            <button className=\"text-blue-500 px-4 py-2 rounded absolute top-0 right-0\" onClick={handleClickOpen} >Add Review</button>\r\n            {user && <Addreview open={open} onClose={handleClose} type='audiobook' userEmail = {user.email} _id={id} setSnackbarMessage={setSnackbarMessage} />}\r\n<UserSignup open={signupOpen} onClose={handleCloseSignup} />\r\n            {reviews.reviews && reviews.reviews.length > 0 ? (\r\n              reviews.reviews.slice(0, numReviewsToShow).map((review, index) => (\r\n                <Paper elevation={3} key={index} className=\"mt-4 p-4 border border-gray-200 rounded-lg relative\">\r\n                  <Rating name=\"read-only\" value={review.rating || 0} readOnly />\r\n                  <p className=\"text-gray-800\">{review.comment}</p>\r\n                  <p className=\"text-blue-500 absolute top-2 right-2 text-sm\">{new Date(review.createdAt).toLocaleDateString()}</p>\r\n                </Paper>\r\n              ))\r\n            ) : (\r\n              <p>No reviews yet.</p>\r\n            )}\r\n             <div className=\"flex justify-center p-4\">\r\n            <Pagination\r\n              count={reviews.totalPages}\r\n              page={reviewsPage}\r\n              onChange={handleReviewsPageChange}\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n            />\r\n            </div>\r\n          </div>\r\n    \r\n            </div>\r\n          </div>\r\n    \r\n       {/* Related Books Section */}\r\n       <div className=\"mt-8\">\r\n            <h3 className=\"text-lg font-semibold\">Listen</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              {relatedContent.length > 0 ? relatedContent.map((content, index) => (\r\n                <ContentCard\r\n                  key={index}\r\n                  title={content.title}\r\n                  coverImage={content.coverImage}\r\n                  itemType={content.type} // Make sure 'type' is a valid prop as per your data\r\n                  itemId={content._id}\r\n                  rating={content.rating}\r\n                />\r\n              )) : (\r\n                <p>No related content found.</p>\r\n              )}\r\n            </div>\r\n            <div className=\"flex justify-center p-4\">\r\n            <Pagination\r\n      count={10}\r\n      page={relatedContentPage}\r\n      onChange={handleRelatedContentPageChange}\r\n      variant=\"outlined\"\r\n      color=\"primary\"\r\n    />\r\n  </div>\r\n          </div>\r\n          <Snackbar\r\n        open={opensnack}\r\n        autoHideDuration={2000}\r\n        onClose={handleSnackClose}\r\n        message={snackbarMessage}\r\n        action={action}\r\n      />\r\n        </div>\r\n      );\r\n    };\r\n    \r\n    export default AudiobookDetailPage;\r\n                 ","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Rating from '@mui/material/Rating';\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\r\nimport 'react-lazy-load-image-component/src/effects/blur.css';\r\n\r\nfunction ContentCard({ title, coverImage, itemType, itemId, rating }) {\r\n  const defaultCoverImage = \"https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png\";\r\n\r\n  const handleImageError = (e) => {\r\n    e.target.src = defaultCoverImage;\r\n  };\r\n\r\n  const renderActionButton = () => {\r\n    const buttonStyle = \"bg-transparent text-yellow-500 font-bold py-2 px-4 rounded border border-yellow-500 focus:outline-none focus:border-none focus:ring ring-transparent no-underline transition-all duration-300 hover:bg-yellow-500 hover:text-red hover:border-yellow-500 hover:scale-105\";\r\n\r\n    switch (itemType) {\r\n      case 'audiobook':\r\n        return (\r\n          <a href={`/audiobooks/${itemId}`} className={buttonStyle}>\r\n            Listen\r\n          </a>\r\n        );\r\n\r\n      case 'audiochapter':\r\n        return (\r\n          <a href={`/audiochapters/${itemId}`} className={buttonStyle}>\r\n            Listen\r\n          </a>\r\n        );\r\n\r\n      case 'Text':\r\n        return (\r\n          <Link to={`/chapters/${itemId}`} className={buttonStyle}>\r\n            Chapter\r\n          </Link>\r\n        );\r\n        case 'Chapters':\r\n          return (\r\n            <Link to={`/chapters/${itemId}`} className={buttonStyle}>\r\n              Chapter\r\n            </Link>\r\n          );\r\n          case 'chapter':\r\n            return (\r\n              <Link to={`/chapters/${itemId}`} className={buttonStyle}>\r\n                Chapter\r\n              </Link>\r\n            );\r\n            case 'chapters':\r\n            return (\r\n              <Link to={`/chapters/${itemId}`} className={buttonStyle}>\r\n                Chapter\r\n              </Link>\r\n            );\r\n            case 'Chapter':\r\n            return (\r\n              <Link to={`/chapters/${itemId}`} className={buttonStyle}>\r\n                Chapter\r\n              </Link>\r\n            );\r\n        case 'notes':\r\n          return (\r\n            <Link to={`/notespdf/${itemId}`} className={buttonStyle}>\r\n              read\r\n            </Link>\r\n          );\r\n          case 'PDF':\r\n            return (\r\n              <Link to={`/notespdf/${itemId}`} className={buttonStyle}>\r\n                read\r\n              </Link>\r\n            );\r\n      case 'ebook':\r\n        return (\r\n          <Link to={`/ebooks/${itemId}`} className={`no-underline ${buttonStyle}`}>\r\n            Book\r\n          </Link>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const renderImageLink = () => {\r\n    switch (itemType) {\r\n      case 'audiobook':\r\n        return (\r\n          <a href={`/audiobooks/${itemId}`}>\r\n            <LazyLoadImage \r\n              className=\"object-cover w-full h-full\"\r\n              src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n              alt={title}\r\n              loading=\"lazy\"\r\n              effect=\"blur\"\r\n              onError={handleImageError}\r\n            />\r\n          </a>\r\n        );\r\n\r\n      case 'audiochapter':\r\n        return (\r\n          <a href={`/audiochapters/${itemId}`}>\r\n            <LazyLoadImage \r\n              className=\"object-cover w-full h-full\"\r\n              src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n              alt={title}\r\n              loading=\"lazy\"\r\n              effect=\"blur\"\r\n              onError={handleImageError}\r\n            />\r\n          </a>\r\n        );\r\n\r\n      case 'Text':\r\n        return (\r\n          <Link to={`/chapters/${itemId}`}>\r\n            <LazyLoadImage \r\n              className=\"object-cover w-full h-full\"\r\n              src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n              alt={title}\r\n              loading=\"lazy\"\r\n              effect=\"blur\"\r\n              onError={handleImageError}\r\n            />\r\n          </Link>\r\n        );\r\n        case 'notes':\r\n          return (\r\n            <Link to={`/chapters/${itemId}`}>\r\n              <LazyLoadImage \r\n                className=\"object-cover w-full h-full\"\r\n                src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n                alt={title}\r\n                loading=\"lazy\"\r\n                effect=\"blur\"\r\n                onError={handleImageError}\r\n              />\r\n            </Link>\r\n          );\r\n          case 'chapters':\r\n            return (\r\n              <Link to={`/chapters/${itemId}`}>\r\n                <LazyLoadImage \r\n                  className=\"object-cover w-full h-full\"\r\n                  src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n                  alt={title}\r\n                  loading=\"lazy\"\r\n                  effect=\"blur\"\r\n                  onError={handleImageError}\r\n                />\r\n              </Link>\r\n            );\r\n      case 'ebook':\r\n        return (\r\n          <Link to={`/ebooks/${itemId}`}>\r\n            <LazyLoadImage \r\n              className=\"object-cover w-full h-full\"\r\n              src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n              alt={title}\r\n              loading=\"lazy\"\r\n              effect=\"blur\"\r\n              onError={handleImageError}\r\n            />\r\n          </Link>\r\n        );\r\n      default:\r\n        return (\r\n          <LazyLoadImage \r\n            className=\"object-cover w-full h-full\"\r\n            src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n            alt={title}\r\n            loading=\"lazy\"\r\n            effect=\"blur\"\r\n            onError={handleImageError}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"rounded overflow-hidden shadow-lg bg-white w-full\">\r\n      <div className=\"aspect-w-16 aspect-h-25 overflow-hidden\">\r\n        {renderImageLink()}\r\n      </div>\r\n\r\n      <div className=\"px-3 py-1\">\r\n        <div className=\"font-bold text-md mb-1 line-clamp-2\">{title}</div>\r\n        <Rating name=\"read-only\" value={rating} readOnly size=\"small\" />\r\n      </div>\r\n      <div className=\"px-3 pb-1 flex justify-center\">\r\n        {renderActionButton()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContentCard;"],"names":["props","onClose","open","type","_id","userEmail","setSnackbarMessage","review","setReview","React","rating","setRating","userReview","setUserReview","useState","loading","setLoading","snackbarOpen","setSnackbarOpen","handleClose","useEffect","async","response","fetch","concat","ok","Error","status","data","json","length","error","fetchUserReview","comment","_jsxs","Dialog","children","_jsx","DialogTitle","Box","p","Rating","name","value","onChange","handleRatingChange","event","newValue","TextField","autoFocus","margin","id","label","fullWidth","target","Button","onClick","handleSubmit","method","headers","body","JSON","stringify","updateReview","audiobookId","message","err","postReview","color","Backdrop","CircularProgress","_ref","navigate","useNavigate","DialogContent","DialogContentText","DialogActions","handleLogin","variant","AuthContext","createContext","useAuth","AuthProvider","isAuthor","setIsAuthor","user","setUser","isVerified","setIsVerified","parse","localStorage","getItem","checkAuthorStatus","useCallback","debounce","currentUser","uid","login","email","password","auth","signInWithEmailAndPassword","_result$user","result","verified","emailVerified","setItem","toString","loginWithGoogle","signInWithPopup","GoogleAuthProvider","provider","_result$user2","logout","signOut","onAuthStateChanged","unsubscribe","initializeAuth","contextValue","Provider","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","analytics","initializeApp","getAuth","isSupported","getAnalytics","initializeFirebase","logFirebaseEvent","eventName","eventParams","logEvent","AudiobookDetailPage","useParams","ebook","setEbook","setError","relatedContent","setRelatedContent","numReviewsToShow","setNumReviewsToShow","reviewsPage","setReviewsPage","relatedContentPage","setRelatedContentPage","reviews","setReviews","setOpen","signupOpen","setSignupOpen","opensnack","setOpensnack","snackbarMessage","defaultCoverImage","fetchReviews","reviewsResponse","reviewsData","fetchRelatedContent","relatedResponse","relatedContentData","filter","book","ebookResponse","audiobookData","Promise","all","then","responses","map","res","categories","fetchData","handleReadBook","LinearProgress","className","handleSnackClose","reason","action","size","IconButton","CloseIcon","fontSize","Helmet","title","content","description","keywords","genre","rel","href","coverImage","property","window","location","audioUrl","handleBack","src","endsWith","alt","style","maxWidth","height","Date","publishedDate","toLocaleDateString","ratings","readOnly","author","ISBN","join","handleClickOpen","Addreview","UserSignup","handleCloseSignup","slice","index","Paper","elevation","createdAt","Pagination","count","totalPages","page","handleReviewsPageChange","ContentCard","itemType","itemId","handleRelatedContentPageChange","Snackbar","autoHideDuration","handleImageError","e","renderImageLink","LazyLoadImage","effect","onError","Link","to","renderActionButton","buttonStyle"],"sourceRoot":""}