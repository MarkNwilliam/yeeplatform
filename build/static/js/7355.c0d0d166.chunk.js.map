{"version":3,"file":"static/js/7355.c0d0d166.chunk.js","mappings":"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","sources":["pages/AudioChapters.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ContentCard from \"../subcomponents/ContentCard\";\nimport CustomPagination from \"../subcomponents/CustomPagination\";\nimport { analytics, logEvent } from '../firebase.js'\nimport { Helmet } from 'react-helmet';\nimport SearchIcon from '@mui/icons-material/Search';\n\nexport default function AudioChapters() {\n  const [items, setItems] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(100);\n  const [searchTerm, setSearchTerm] = useState(\"\"); \n  const [isLoading, setIsLoading] = useState(true); \n\n  useEffect(() => {\n    logEvent(analytics, 'audiochapters_page_visited');\n    fetchData();\n  }, [currentPage]);\n  \n  const fetchData = async () => {\n    setIsLoading(true);\n  \n    try {\n      const url = searchTerm\n        ? `https://yeeplatformbackend.azurewebsites.net/search/audiochapters?title=${searchTerm}&page=${currentPage}&limit=15`\n        : `https://yeeplatformbackend.azurewebsites.net/getallaudiochapters?page=${currentPage}&limit=15`;\n  \n      const response = await fetch(url);\n      if (!response.ok) throw new Error(`Data fetching failed with status: ${response.status}`);\n  \n      const data = await response.json();\n      console.log(\"Response data:\", data); // Log the structure of the data\n  \n      if (data && data.data) {\n        if (Array.isArray(data.data)) {\n          setItems(data.data);\n          setTotalPages(Math.ceil(data.totalItems / 15));\n        } else {\n          setItems([data.data]); // Wrap the object in an array\n          setTotalPages(1);\n        }\n      } else {\n        setItems([]);\n        setTotalPages(0);\n      }\n      \n      \n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  \n    setIsLoading(false);\n  };\n  \n  \n\n  const handlePageChange = (event, value) => {\n    setCurrentPage(value);\n  };\n\n  const handleSearchChange = (event) => {\n    setSearchTerm(event.target.value);\n  };\n\n  const handleSearchClick = () => {\n    setCurrentPage(1)\n    console.log('Search Term:', searchTerm); \n    fetchData();\n  };\n\n  return (\n    <div className=\"flex flex-col items-center p-4\">\n\n<Helmet>\n  <title>Audio Chapters - Yee FM</title>\n  <meta name=\"description\" content=\"Search and listen to audio chapters on Yee FM.\" />\n  <meta name=\"keywords\" content=\"Yee FM, audio chapters, search, listen, literature, digital library\" />\n  <link rel=\"icon\" href=\"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp\" />\n  <meta property=\"og:title\" content=\"Audio Chapters - Yee FM\" />\n  <meta property=\"og:description\" content=\"Search and listen to audio chapters on Yee FM.\" />\n  <meta property=\"og:image\" content=\"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp\" />\n  <meta property=\"og:url\" content=\"https://www.yeefm.com/audiochapters\" />\n  <meta property=\"og:type\" content=\"website\" />\n</Helmet>\n\n      <div className=\"mb-4 flex flex-col sm:flex-row items-center\">\n       \n          <input\n          type=\"text\"\n          placeholder=\"Search for Audio chapters...\"\n          value={searchTerm}\n          onChange={handleSearchChange}\n          className=\"p-3 border border-gray-300 rounded-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-200 mb-2 sm:mb-0\"\n          style={{ width: \"100%\", maxWidth: \"300px\" }}\n        />\n          <button \n          onClick={handleSearchClick}\n          className=\"ml-0 sm:ml-2 p-3 border border-gray-300 rounded-full bg-yellow-500 text-white hover:bg-yellow-600 transition duration-200 focus:outline-none focus:ring-2 focus:ring-yellow-300 flex items-center justify-center\"\n          style={{ minWidth: \"100px\" }}\n        >\n          <SearchIcon /> {/* Search icon */}\n        </button>\n   \n      </div>\n\n      <CustomPagination totalPages={totalPages} currentPage={currentPage} onChange={handlePageChange} />\n\n      <div className=\"p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\n        {isLoading ? (\n          <p className=\"text-yellow-500 animate-pulse\">Loading ebooks...</p>\n        ) : (\n          items.map((item, index) => (\n            <ContentCard\n              key={index}\n              title={item.title}\n              coverImage={item.thumbnailUrl || item.coverImage || item.coverimage}\n              itemType={item.type}\n              itemId={item._id}\n              rating={item.rating}\n            />\n          ))\n        )}\n      </div>\n\n      <CustomPagination\n        totalPages={totalPages}\n        currentPage={currentPage}\n        onChange={handlePageChange}\n      />\n    </div>\n  );\n}\n"],"names":["AudioChapters","items","setItems","useState","currentPage","setCurrentPage","totalPages","setTotalPages","searchTerm","setSearchTerm","isLoading","setIsLoading","useEffect","logEvent","analytics","fetchData","async","url","concat","response","fetch","ok","Error","status","data","json","console","log","Array","isArray","Math","ceil","totalItems","error","handlePageChange","event","value","_jsxs","className","children","Helmet","_jsx","name","content","rel","href","property","type","placeholder","onChange","target","style","width","maxWidth","onClick","handleSearchClick","minWidth","SearchIcon","CustomPagination","map","item","index","ContentCard","title","coverImage","thumbnailUrl","coverimage","itemType","itemId","_id","rating"],"sourceRoot":""}