{"version":3,"file":"static/js/4917.5ce293d6.chunk.js","mappings":"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","sources":["components/DProfile.js","constants/countries.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\nimport Swal from 'sweetalert2';\r\nimport 'tailwindcss/tailwind.css';\r\nimport axios from 'axios';\r\nimport { auth } from \"../firebase\";\r\nimport { countries } from '../constants/countries';\r\n\r\nexport default function DProfile() {\r\n\r\n    const { user } = useContext(AuthContext);\r\n    const [userData, setUserData] = useState({});\r\n\r\n    // Handle image upload to the server\r\n    const handleImageUpload = async (event) => {\r\n        if (event.target.files.length === 0) return;\r\n\r\n        Swal.fire({\r\n            title: 'Uploading...',\r\n            text: 'Your image is being uploaded. Please wait...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading();\r\n            }\r\n        });\r\n\r\n        const formData = new FormData();\r\n        formData.append('image', event.target.files[0]);\r\n\r\n        const firebaseId = auth.currentUser.uid;\r\n\r\n        try {\r\n            const response = await axios.post(`https://yeeplatformbackend.azurewebsites.net/userprofilestore/${firebaseId}`, formData);\r\n            if (response.data?.imageUrl) {\r\n                setUserData(prev => ({ ...prev, profileImage: response.data.imageUrl }));\r\n                Swal.fire('Success', 'Image uploaded successfully!', 'success');\r\n            } else {\r\n                throw new Error('Image upload failed');\r\n            }\r\n        } catch (error) {\r\n            Swal.fire('Oops...', 'Error uploading the image!', 'error');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const firebaseId = auth.currentUser.uid;\r\n        axios.get(`https://yeeplatformbackend.azurewebsites.net/userDetails/${firebaseId}`)\r\n            .then(response => {\r\n                const user = response.data;\r\n                setUserData(user);\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error fetching user data:\", error);\r\n            });\r\n    }, []);\r\n\r\n    const updateProfile = async () => {\r\n        Swal.fire({\r\n            title: 'Updating...',\r\n            text: 'Your profile is being updated. Please wait...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading();\r\n            }\r\n        });\r\n\r\n        const firebaseId = auth.currentUser.uid;\r\n\r\n        try {\r\n            const response = await axios.put(`https://yeeplatformbackend.azurewebsites.net/updateaccountinfo/${firebaseId}`, userData);\r\n            if (response.data.success && response.data.message === 'User data updated successfully') {\r\n                Swal.fire('Success', 'Profile updated successfully!', 'success');\r\n            } else {\r\n                throw new Error('Profile update failed');\r\n            }\r\n        } catch (error) {\r\n            Swal.fire('Oops...', 'Error updating your profile!', 'error');\r\n        }\r\n    };\r\n\r\n  \r\n    return (\r\n      <div className=\"p-8 space-y-4\">\r\n          <h1 className=\"text-xl font-semibold\">Author Profile</h1>\r\n          <div className=\"flex items-center justify-center space-x-4 relative\">\r\n    <img\r\n        alt=\"Profile Picture\"\r\n        src={userData.profileImage || \"/Y.webp\"}\r\n        className=\"w-32 h-32 rounded-full\"\r\n    />\r\n\r\n    <input\r\n        type=\"file\"\r\n        id=\"profilePic\"\r\n        className=\"hidden\"\r\n        accept=\"image/*\"\r\n        onChange={handleImageUpload}\r\n    />\r\n\r\n    {/* Overlay icon on the profile picture to indicate it's clickable */}\r\n    <label htmlFor=\"profilePic\" className=\"cursor-pointer absolute bottom-2 right-2 bg-gray-600 bg-opacity-50 rounded-full p-2\">\r\n        {/* Here, ideally, you would have an SVG icon for a camera */}\r\n        ðŸ“·\r\n    </label>\r\n</div>\r\n          <input\r\n              className=\"w-full p-2 border rounded-md\"\r\n              type=\"text\"\r\n              placeholder=\"Name\"\r\n              value={userData.username || \"\"}\r\n              onChange={(e) => setUserData(prev => ({ ...prev, username: e.target.value }))}\r\n          />\r\n          <input\r\n              className=\"w-full p-2 border rounded-md\"\r\n              type=\"text\"\r\n              placeholder=\"Age\"\r\n              value={userData.age || \"\"}\r\n              onChange={(e) => setUserData(prev => ({ ...prev, age: e.target.value }))}\r\n          />\r\n          <textarea\r\n              className=\"w-full p-2 border rounded-md\"\r\n              placeholder=\"Bio\"\r\n              value={userData.bio || \"\"}\r\n              onChange={(e) => setUserData(prev => ({ ...prev, bio: e.target.value }))}\r\n          />\r\n          <select\r\n              className=\"w-full p-2 border rounded-md\"\r\n              value={userData.country || \"\"}\r\n              onChange={(e) => setUserData(prev => ({ ...prev, country: e.target.value }))}\r\n          >\r\n              <option value=\"\">Select a country</option>\r\n              {countries.map((c) => (\r\n                  <option key={c} value={c}>\r\n                      {c}\r\n                  </option>\r\n              ))}\r\n          </select>\r\n          <input\r\n              className=\"w-full p-2 border rounded-md\"\r\n              type=\"text\"\r\n              placeholder=\"Email\"\r\n              value={userData.email || \"\"}\r\n              readOnly\r\n          />\r\n          <input\r\n              className=\"w-full p-2 border rounded-md\"\r\n              type=\"text\"\r\n              placeholder=\"Phone\"\r\n              value={userData.phone || \"\"}\r\n              onChange={(e) => setUserData(prev => ({ ...prev, phone: e.target.value }))}\r\n          />\r\n          <input\r\n              className=\"w-full p-2 border rounded-md\"\r\n              type=\"text\"\r\n              placeholder=\"Twitter\"\r\n              value={userData.socialLinks?.twitter || \"\"}\r\n              onChange={(e) => setUserData(prev => ({ ...prev, socialLinks: { ...prev.socialLinks, twitter: e.target.value } }))}\r\n          />\r\n          <input\r\n              className=\"w-full p-2 border rounded-md\"\r\n              type=\"text\"\r\n              placeholder=\"Instagram\"\r\n              value={userData.socialLinks?.instagram || \"\"}\r\n              onChange={(e) => setUserData(prev => ({ ...prev, socialLinks: { ...prev.socialLinks, instagram: e.target.value } }))}\r\n          />\r\n          <input\r\n              className=\"w-full p-2 border rounded-md\"\r\n              type=\"text\"\r\n              placeholder=\"Facebook\"\r\n              value={userData.socialLinks?.facebook || \"\"}\r\n              onChange={(e) => setUserData(prev => ({ ...prev, socialLinks: { ...prev.socialLinks, facebook: e.target.value } }))}\r\n          />\r\n          <button\r\n              className=\"w-full p-2 mt-4 text-white bg-blue-500 rounded-md\"\r\n              onClick={updateProfile}\r\n          >\r\n              Update Profile\r\n          </button>\r\n      </div>\r\n  );\r\n}","export const countries = [\r\n    \"Algeria\", \"Angola\", \"Benin\", \"Botswana\", \"Burkina Faso\", \"Burundi\", \r\n    \"Cabo Verde\", \"Cameroon\", \"Central African Republic\", \"Chad\", \"Comoros\", \r\n    \"Democratic Republic of the Congo\", \"Republic of the Congo\", \"Cote d'Ivoire\", \r\n    \"Djibouti\", \"Egypt\", \"Equatorial Guinea\", \"Eritrea\", \"Eswatini\", \"Ethiopia\", \r\n    \"Gabon\", \"Gambia\", \"Ghana\", \"Guinea\", \"Guinea-Bissau\", \"Kenya\", \"Lesotho\", \r\n    \"Liberia\", \"Libya\", \"Madagascar\", \"Malawi\", \"Mali\", \"Mauritania\", \"Mauritius\", \r\n    \"Morocco\", \"Mozambique\", \"Namibia\", \"Niger\", \"Nigeria\", \"Rwanda\", \r\n    \"Sao Tome and Principe\", \"Senegal\", \"Seychelles\", \"Sierra Leone\", \"Somalia\", \r\n    \"South Africa\", \"South Sudan\", \"Sudan\", \"Tanzania\", \"Togo\", \"Tunisia\", \r\n    \"Uganda\", \"Zambia\", \"Zimbabwe\"\r\n  ];\r\n\r\n\r\n"],"names":["DProfile","_userData$socialLinks","_userData$socialLinks2","_userData$socialLinks3","user","useContext","AuthContext","userData","setUserData","useState","useEffect","firebaseId","auth","currentUser","uid","axios","get","concat","then","response","data","catch","error","console","_jsxs","className","children","_jsx","alt","src","profileImage","type","id","accept","onChange","async","event","target","files","length","Swal","title","text","allowOutsideClick","didOpen","formData","FormData","append","_response$data","post","imageUrl","Error","prev","htmlFor","placeholder","value","username","e","age","bio","country","countries","map","c","email","readOnly","phone","socialLinks","twitter","instagram","facebook","onClick","put","success","message"],"sourceRoot":""}