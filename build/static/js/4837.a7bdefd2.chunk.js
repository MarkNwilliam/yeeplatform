"use strict";(self.webpackChunkyeeplatform=self.webpackChunkyeeplatform||[]).push([[4837],{63869:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var n=o(65043),i=o(85865),r=o(79650),l=o(63336),a=o(71806),s=o(84882),c=o(28076),d=o(10039),u=o(73460),v=o(11906),h=o(90035),f=o(26600),p=o(35316),A=o(98533),m=o(88861),y=o(29347),g=o(30064),x=o.n(g),w=o(98225),S=o(70579);const b=()=>{const[e,t]=(0,n.useState)([]),[o,g]=(0,n.useState)(!1),[b,j]=(0,n.useState)(""),[k,N]=(0,n.useState)(""),C=async()=>{try{x().showLoading();const e=w.j2.currentUser.uid;console.log("here is the author id"+e);const o=await fetch("https://yeeplatformbackend.azurewebsites.net/getAllBooks/".concat(e)),n=await o.json();t(n),x().close()}catch(e){x().fire({icon:"error",title:"Oops...",text:"Something went wrong while fetching books!"})}};(0,n.useEffect)((()=>{C()}),[]);const z=()=>{g(!1)},B=async e=>{try{x().showLoading();if(200!==(await fetch("https://yeeplatformbackend.azurewebsites.net/deleteBook/".concat(e),{method:"DELETE"})).status)throw new Error("Failed to delete the book.");t((t=>t.filter((t=>t.id!==e)))),x().close()}catch(o){x().fire({icon:"error",title:"Oops...",text:"Something went wrong while deleting the book!"})}};return(0,S.jsxs)("div",{children:[(0,S.jsx)(i.A,{variant:"h4",component:"h2",children:"My Books"}),(0,S.jsxs)(r.A,{component:l.A,children:[(0,S.jsxs)(a.A,{children:[(0,S.jsx)(s.A,{children:(0,S.jsxs)(c.A,{children:[(0,S.jsx)(d.A,{children:"Title"}),(0,S.jsx)(d.A,{children:"Subtitle"}),(0,S.jsx)(d.A,{children:"Description"}),(0,S.jsx)(d.A,{children:"Publication Date"}),(0,S.jsx)(d.A,{children:"Actions"})]})}),(0,S.jsx)(u.A,{children:e.map((e=>(0,S.jsxs)(c.A,{children:[(0,S.jsx)(d.A,{children:e.title}),(0,S.jsx)(d.A,{children:e.subtitle}),(0,S.jsx)(d.A,{children:e.description}),(0,S.jsx)(d.A,{children:e.publishedDate}),(0,S.jsxs)(d.A,{children:[(0,S.jsx)(v.A,{onClick:()=>{return t=e.description,o=e._id,j(t),N(o),void g(!0);var t,o},children:"Edit"}),(0,S.jsx)(v.A,{onClick:()=>(e=>{x().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async t=>{t.isConfirmed&&(await B(e._id),C(),x().fire("Deleted!","Your book has been deleted.","success"))}))})(e),children:"Delete"})]})]},e._id)))})]}),0===e.length&&(0,S.jsx)(i.A,{variant:"h6",style:{textAlign:"center",padding:"20px",color:"grey"},children:"No data available."})]}),(0,S.jsxs)(h.A,{open:o,onClose:z,children:[(0,S.jsx)(f.A,{children:"Edit Book Description"}),(0,S.jsxs)(p.A,{children:[(0,S.jsx)(A.A,{children:"Please edit the description of the selected book."}),(0,S.jsx)(m.A,{autoFocus:!0,margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,value:b,onChange:e=>j(e.target.value)})]}),(0,S.jsxs)(y.A,{children:[(0,S.jsx)(v.A,{onClick:z,children:"Cancel"}),(0,S.jsx)(v.A,{onClick:async()=>{try{x().showLoading(),console.log("Here is book id "+k);if(200!==(await fetch("https://yeeplatformbackend.azurewebsites.net/updateDescription",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:k,description:b})})).status)throw new Error("Failed to update the description.");t((e=>e.map((e=>e.id===k?{...e,description:b}:e)))),g(!1),x().close()}catch(e){x().fire({icon:"error",title:"Oops...",text:"Something went wrong while updating the description!"})}},children:"Save"})]})]})]})}},62205:(e,t,o)=>{o.d(t,{X:()=>r});var n=o(58168),i=o(90540);function r(e,t,o){return void 0===e||(0,i.g)(e)?t:(0,n.A)({},t,{ownerState:(0,n.A)({},t.ownerState,o)})}},29279:(e,t,o)=>{function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const o={};return Object.keys(e).filter((o=>o.match(/^on[A-Z]/)&&"function"===typeof e[o]&&!t.includes(o))).forEach((t=>{o[t]=e[t]})),o}o.d(t,{h:()=>n})},90540:(e,t,o)=>{function n(e){return"string"===typeof e}o.d(t,{g:()=>n})},49965:(e,t,o)=>{o.d(t,{p:()=>s});var n=o(58168);function i(e){var t,o,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(o=i(e[t]))&&(n&&(n+=" "),n+=o)}else for(o in e)e[o]&&(n&&(n+=" "),n+=o);return n}const r=function(){for(var e,t,o=0,n="",r=arguments.length;o<r;o++)(e=arguments[o])&&(t=i(e))&&(n&&(n+=" "),n+=t);return n};var l=o(29279);function a(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((o=>{t[o]=e[o]})),t}function s(e){const{getSlotProps:t,additionalProps:o,externalSlotProps:i,externalForwardedProps:s,className:c}=e;if(!t){const e=r(null==o?void 0:o.className,c,null==s?void 0:s.className,null==i?void 0:i.className),t=(0,n.A)({},null==o?void 0:o.style,null==s?void 0:s.style,null==i?void 0:i.style),l=(0,n.A)({},o,s,i);return e.length>0&&(l.className=e),Object.keys(t).length>0&&(l.style=t),{props:l,internalRef:void 0}}const d=(0,l.h)((0,n.A)({},s,i)),u=a(i),v=a(s),h=t(d),f=r(null==h?void 0:h.className,null==o?void 0:o.className,c,null==s?void 0:s.className,null==i?void 0:i.className),p=(0,n.A)({},null==h?void 0:h.style,null==o?void 0:o.style,null==s?void 0:s.style,null==i?void 0:i.style),A=(0,n.A)({},h,o,v,u);return f.length>0&&(A.className=f),Object.keys(p).length>0&&(A.style=p),{props:A,internalRef:h.ref}}},4430:(e,t,o)=>{function n(e,t,o){return"function"===typeof e?e(t,o):e}o.d(t,{Y:()=>n})},63336:(e,t,o)=>{o.d(t,{A:()=>y});var n=o(98587),i=o(58168),r=o(65043),l=o(69292),a=o(68606),s=o(67266),c=o(34535);const d=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var u=o(72876),v=o(57056),h=o(32400);function f(e){return(0,h.Ay)("MuiPaper",e)}(0,v.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var p=o(70579);const A=["className","component","elevation","square","variant"],m=(0,c.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],!o.square&&t.rounded,"elevation"===o.variant&&t["elevation".concat(o.elevation)]]}})((e=>{let{theme:t,ownerState:o}=e;var n;return(0,i.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!o.square&&{borderRadius:t.shape.borderRadius},"outlined"===o.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===o.variant&&(0,i.A)({boxShadow:(t.vars||t).shadows[o.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,s.X4)("#fff",d(o.elevation)),", ").concat((0,s.X4)("#fff",d(o.elevation)),")")},t.vars&&{backgroundImage:null==(n=t.vars.overlays)?void 0:n[o.elevation]}))})),y=r.forwardRef((function(e,t){const o=(0,u.A)({props:e,name:"MuiPaper"}),{className:r,component:s="div",elevation:c=1,square:d=!1,variant:v="elevation"}=o,h=(0,n.A)(o,A),y=(0,i.A)({},o,{component:s,elevation:c,square:d,variant:v}),g=(e=>{const{square:t,elevation:o,variant:n,classes:i}=e,r={root:["root",n,!t&&"rounded","elevation"===n&&"elevation".concat(o)]};return(0,a.A)(r,f,i)})(y);return(0,p.jsx)(m,(0,i.A)({as:s,ownerState:y,className:(0,l.A)(g.root,r),ref:t},h))}))},59662:(e,t,o)=>{o.d(t,{A:()=>g});var n=o(58168),i=o(65043),r=o(98587),l=o(69292),a=o(68606),s=o(6803),c=o(72876),d=o(34535),u=o(57056),v=o(32400);function h(e){return(0,v.Ay)("MuiSvgIcon",e)}(0,u.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=o(70579);const p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],A=(0,d.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,"inherit"!==o.color&&t["color".concat((0,s.A)(o.color))],t["fontSize".concat((0,s.A)(o.fontSize))]]}})((e=>{let{theme:t,ownerState:o}=e;var n,i,r,l,a,s,c,d,u,v,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:o.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=t.transitions)||null==(i=n.create)?void 0:i.call(n,"fill",{duration:null==(r=t.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(l=t.typography)||null==(a=l.pxToRem)?void 0:a.call(l,20))||"1.25rem",medium:(null==(s=t.typography)||null==(c=s.pxToRem)?void 0:c.call(s,24))||"1.5rem",large:(null==(d=t.typography)||null==(u=d.pxToRem)?void 0:u.call(d,35))||"2.1875rem"}[o.fontSize],color:null!=(v=null==(h=(t.vars||t).palette)||null==(h=h[o.color])?void 0:h.main)?v:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.disabled,inherit:void 0}[o.color]}})),m=i.forwardRef((function(e,t){const o=(0,c.A)({props:e,name:"MuiSvgIcon"}),{children:d,className:u,color:v="inherit",component:m="svg",fontSize:y="medium",htmlColor:g,inheritViewBox:x=!1,titleAccess:w,viewBox:S="0 0 24 24"}=o,b=(0,r.A)(o,p),j=i.isValidElement(d)&&"svg"===d.type,k=(0,n.A)({},o,{color:v,component:m,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:x,viewBox:S,hasSvgAsChild:j}),N={};x||(N.viewBox=S);const C=(e=>{const{color:t,fontSize:o,classes:n}=e,i={root:["root","inherit"!==t&&"color".concat((0,s.A)(t)),"fontSize".concat((0,s.A)(o))]};return(0,a.A)(i,h,n)})(k);return(0,f.jsxs)(A,(0,n.A)({as:m,className:(0,l.A)(C.root,u),focusable:"false",color:g,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},N,b,j&&d.props,{ownerState:k,children:[j?d.props.children:d,w?(0,f.jsx)("title",{children:w}):null]}))}));m.muiName="SvgIcon";const y=m;function g(e,t){function o(o,i){return(0,f.jsx)(y,(0,n.A)({"data-testid":"".concat(t,"Icon"),ref:i},o,{children:e}))}return o.muiName=y.muiName,i.memo(i.forwardRef(o))}},80950:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(76440).A},90154:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(65043);const i=function(e,t){var o,i;return n.isValidElement(e)&&-1!==t.indexOf(null!=(o=e.type.muiName)?o:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},22427:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(22144).A},36078:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(46288).A},54516:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(41944).A},55013:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(63844).A},44708:(e,t,o)=>{function n(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(((e,t)=>null==t?e:function(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];e.apply(this,n),t.apply(this,n)}),(()=>{}))}o.d(t,{A:()=>n})},76440:(e,t,o)=>{function n(e){let t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),o)}return n.clear=()=>{clearTimeout(t)},n}o.d(t,{A:()=>n})},22144:(e,t,o)=>{function n(e){return e&&e.ownerDocument||document}o.d(t,{A:()=>n})},46288:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(22144);function i(e){return(0,n.A)(e).defaultView||window}},41944:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(65043);function i(e){let{controlled:t,default:o,name:i,state:r="value"}=e;const{current:l}=n.useRef(void 0!==t),[a,s]=n.useState(o);return[l?t:a,n.useCallback((e=>{l||s(e)}),[])]}},20992:(e,t,o)=>{var n;o.d(t,{A:()=>a});var i=o(65043);let r=0;const l=(n||(n=o.t(i,2)))["useId".toString()];function a(e){if(void 0!==l){const t=l();return null!=e?e:t}return function(e){const[t,o]=i.useState(e),n=e||t;return i.useEffect((()=>{null==t&&(r+=1,o("mui-".concat(r)))}),[t]),n}(e)}}}]);
//# sourceMappingURL=4837.a7bdefd2.chunk.js.map