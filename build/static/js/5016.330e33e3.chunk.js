"use strict";(self.webpackChunkyeeplatform=self.webpackChunkyeeplatform||[]).push([[5016],{35016:(e,t,a)=>{a.r(t),a.d(t,{AuthContext:()=>n,AuthProvider:()=>l,default:()=>u,useAuth:()=>c});var s=a(65043),i=a(5399),o=a(53536),r=a(70579);const n=(0,s.createContext)();function c(){return s.useContext(n)}function l(e){let{children:t}=e;const[a,c]=(0,s.useState)(!1),[l,u]=(0,s.useState)(null),[d,f]=(0,s.useState)(!0),[h,p]=(0,s.useState)((()=>JSON.parse(localStorage.getItem("isVerified"))||!1)),g=(0,s.useCallback)((0,o.debounce)((async e=>{if(e&&e.uid)try{const t=await fetch("https://yeeplatformbackend.azurewebsites.net/isAuthor/".concat(e.uid));if(t.ok){const e=await t.json();c(e.isAuthor)}}catch(t){}}),15e3),[]),m=(0,s.useCallback)((async(e,t)=>{try{var a;const s=await(0,i.x9)(i.j2,e,t);u(s.user);const o=(null===(a=s.user)||void 0===a?void 0:a.emailVerified)||!1;p(o),localStorage.setItem("isVerified",o.toString())}catch(s){}}),[]),y=(0,s.useCallback)((async()=>{const e=new i.HF;try{var t;const a=await(0,i.df)(i.j2,e);u(a.user);const s=(null===(t=a.user)||void 0===t?void 0:t.emailVerified)||!1;p(s),localStorage.setItem("isVerified",s.toString())}catch(a){}}),[]),S=(0,s.useCallback)((async()=>{try{await(0,i.CI)(i.j2),u(null),c(!1)}catch(e){}}),[]);(0,s.useEffect)((()=>{const e=(0,i.hg)(i.j2,(async e=>{u(e),f(!1),e&&(p(e.emailVerified),localStorage.setItem("isVerified",e.emailVerified.toString()))}));return()=>e()}),[]),(0,s.useEffect)((()=>{l&&g(l)}),[l,g]);const b={user:l,isAuthor:a,loading:d,isVerified:h,login:m,logout:S,loginWithGoogle:y};return(0,r.jsx)(n.Provider,{value:b,children:t})}const u=l},5399:(e,t,a)=>{a.d(t,{$s:()=>i.$s,CI:()=>o.CI,Cg:()=>l,HF:()=>o.HF,df:()=>o.df,hg:()=>o.hg,j2:()=>c,x9:()=>o.x9,zS:()=>n});var s=a(37064),i=a(82413),o=a(32813);const r=(0,s.Wp)({apiKey:"AIzaSyBXS56tIro9cd-Sd4ySn5AwLw3T6cnMHr0",authDomain:"yeeplatform.firebaseapp.com",projectId:"yeeplatform",storageBucket:"yeeplatform.appspot.com",messagingSenderId:"272587831821",appId:"1:272587831821:web:b612b427ff43968f33f344",measurementId:"G-YZV03469PP"});let n;(0,i.TT)().then((e=>{e&&(n=(0,i.P5)(r))}));const c=(0,o.xI)(r),l=(e,t)=>{n?(0,i.$s)(n,e,t):console.warn("Firebase Analytics is not initialized yet.")}}}]);
//# sourceMappingURL=5016.330e33e3.chunk.js.map