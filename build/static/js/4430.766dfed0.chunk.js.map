{"version":3,"file":"static/js/4430.766dfed0.chunk.js","mappings":"4KAKA,MAuBA,EAvBmBA,IAA+B,IAA9B,qBAAEC,GAAsBD,EAG5C,MAAOE,EAAgBC,IAAqBC,EAAAA,EAAAA,WAAS,GAQnD,OACEC,EAAAA,EAAAA,KAACC,EAAAA,OAAM,CACLL,qBAAsBA,EACtBM,MAAM,gBACNC,SAAS,mCACTC,cAAc,uEACdC,OAAO,OACPC,aAZkBC,IACpBT,GAAmBU,IAAUA,GAAK,GAYhC,C,oECRN,MAiCA,EAjCiBb,IAAiC,IAAhC,SAAEc,EAAQ,aAAEC,GAAcf,EAC1C,MAGMgB,EAAS,0BAAAC,OAA6BF,EAAY,yBAAAE,OAHjC,8BAGuE,MAAAA,OAF7E,eAIjB,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCC,SAAA,EACpDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBC,SAAA,EAChCf,EAAAA,EAAAA,KAAA,OAAKgB,IAAI,uEAAuEC,IAAI,mBAAmBH,UAAU,sBACjHd,EAAAA,EAAAA,KAAA,QAAMc,UAAU,sBAAqBC,SAAC,uCAExCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kCAAiCC,SAAA,EAC9Cf,EAAAA,EAAAA,KAACkB,EAAAA,GAAmB,CAAChB,MAAM,OAAOiB,IAAKV,EAAUW,MAAOT,EAAUI,UAChEf,EAAAA,EAAAA,KAACqB,EAAAA,GAAY,CAACC,KAAM,GAAIC,OAAO,OAEjCvB,EAAAA,EAAAA,KAACwB,EAAAA,GAAkB,CAACL,IAAKV,EAAUP,MAAOS,EAAUI,UAClDf,EAAAA,EAAAA,KAACyB,EAAAA,GAAW,CAACH,KAAM,GAAIC,OAAO,OAEhCvB,EAAAA,EAAAA,KAAC0B,EAAAA,GAAmB,CAACP,IAAKV,EAAUP,MAAOS,EAAUI,UACnDf,EAAAA,EAAAA,KAAC2B,EAAAA,GAAY,CAACL,KAAM,GAAIC,OAAO,OAEjCvB,EAAAA,EAAAA,KAAC4B,EAAAA,GAAmB,CAACT,IAAKV,EAAUP,MAAOS,EAAUI,UACnDf,EAAAA,EAAAA,KAAC6B,EAAAA,GAAY,CAACP,KAAM,GAAIC,OAAO,OAEjCvB,EAAAA,EAAAA,KAAC8B,EAAAA,GAAgB,CAACX,IAAKV,EAAUsB,QAAQ,uBAAuBC,KAAMrB,EAAUI,UAC9Ef,EAAAA,EAAAA,KAACiC,EAAAA,GAAS,CAACX,KAAM,GAAIC,OAAO,WAG5B,C,kKC/BV,MAWMW,GAAMC,EAAAA,EAAAA,IAXW,CACrBC,OAAQ,0CACRC,WAAY,8BACZC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAMjB,IAAIC,GAEJC,EAAAA,EAAAA,MAAcC,MAAMD,IACdA,IACFD,GAAYG,EAAAA,EAAAA,IAAaZ,GAGzB,IAOG,MAAMa,GAAOC,EAAAA,EAAAA,IAAQd,GAIfe,EAAmBA,CAACC,EAAWC,KACtCR,GACFS,EAAAA,EAAAA,IAAST,EAAWO,EAAWC,GAE/BE,QAAQC,KAAK,6CACf,C,iXCkkBF,QAplBA,WAA4B,IAADC,EACvB,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,MACRC,EAAWC,IAAgB5D,EAAAA,EAAAA,WAAS,IACpC6D,EAAQC,IAAa9D,EAAAA,EAAAA,UAAS,OAC9B+D,EAAcC,IAAmBhE,EAAAA,EAAAA,UAAS,OAC1CiE,EAAaC,IAAkBlE,EAAAA,EAAAA,UAAS,KACxCmE,EAAYC,IAAiBpE,EAAAA,EAAAA,UAAS,IACtCqE,EAAcC,IAAmBtE,EAAAA,EAAAA,UAAS,IAC1CuE,EAAcC,IAAiBxE,EAAAA,EAAAA,WAAS,IACxCyE,EAAUC,IAAe1E,EAAAA,EAAAA,UAAS,MAEnC2E,EAAaA,KACjBH,GAAc,EAAK,EAGfI,EAAcA,KAClBJ,GAAc,EAAM,EAGhBK,GAAWC,EAAAA,EAAAA,MAEXC,GAAgBC,EAAAA,EAAAA,GAAc,qBAC9BC,GAAkBD,EAAAA,EAAAA,GAAc,qBAEhCE,EAAeH,EAAgB,GAAM,EACrCI,EAAcF,EAAmB,OAAO,SAExCG,EAAwB,QAAnB5B,EAAGR,EAAAA,GAAKqC,mBAAW,IAAA7B,OAAA,EAAhBA,EAAkB4B,MAoChC,SAASE,EAA0BC,GACjC,OACEzE,EAAAA,EAAAA,MAAC0E,EAAAA,EAAG,CAACC,GAAI,CAAEC,SAAU,WAAYC,QAAS,eAAgB3E,SAAA,EACxDf,EAAAA,EAAAA,KAAC2F,EAAAA,EAAgB,CAACC,QAAQ,iBAAkBN,KAC5CtF,EAAAA,EAAAA,KAACuF,EAAAA,EAAG,CACFC,GAAI,CACFK,IAAK,EACLC,KAAM,EACNC,OAAQ,EACRC,MAAO,EACPP,SAAU,WACVC,QAAS,OACTO,WAAY,SACZC,eAAgB,UAChBnF,UAEFf,EAAAA,EAAAA,KAACmG,EAAAA,EAAU,CAACP,QAAQ,UAAUQ,UAAU,MAAMC,MAAM,iBAAgBtF,SAAA,GAAAH,OAC9D0F,KAAK/E,MAAM+D,EAAMiB,OAAM,WAKrC,EAEAC,EAAAA,EAAAA,YAAU,KACoBC,WACtB9C,GAAa,GACb,IACI,MAAM+C,QAAiBC,MAAM,yDAAD/F,OAA0D4C,GAAM,CAAEoD,MAAO,gBACrG,IAAKF,EAASG,GAEV,YADAxD,QAAQyD,MAAM,mBAAoBJ,GAGtC,MAAMK,QAAaL,EAASM,OAC5BjD,EAAgBgD,GAIhBlD,EAAc,OAAJkD,QAAI,IAAJA,OAAI,EAAJA,EAAME,UAChB5D,QAAQ6D,IAAQ,OAAJH,QAAI,IAAJA,OAAI,EAAJA,EAAME,SACtB,CAAE,MAAOH,GACLzD,QAAQyD,MAAM,gCAAiCA,EAAMK,QACzD,CAAC,QACGxD,GAAa,EACjB,GAGJyD,EAAmB,GACpB,CAAC5D,IAEJ,MAWM6D,EAAiBZ,UACrB,MAAMa,OAZgBb,WACtB,MAAMc,QAAYC,EAAAA,EAAAA,aAAY5D,GAAQ6D,QAEhCC,QAAaH,EAAII,QAAQvD,EAAa,GAK5C,aAJ0BsD,EAAKE,kBACHC,MAAMC,KAAIC,GAAQA,EAAKC,MAC9BC,KAAK,IAEf,EAIYC,GAEvBzD,EAAY,MAGZ,MAAQ8B,MAAO4B,SAAmBC,IAAAA,KAAU,CAC1ClI,MAAO,kBACPmI,KAAK,8kBAULC,cAAc,EACdC,WAAYA,KACV,MAAMC,EAASC,SAASC,eAAe,gBAAgBC,SAAmB,SAC1E,IAAIC,EACJ,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAOM,OAAQD,IACjC,GAAIL,EAAOK,GAAGE,QAAS,CACrBH,EAAmBJ,EAAOK,GAAGtC,MAC7B,KACF,CAEF,OAAOqC,CAAgB,IAI3B,GAAIT,EAAU,CAEZC,IAAAA,KAAU,CACRlI,MAAO,aACP8I,mBAAmB,EACnBC,aAAcA,KACZb,IAAAA,aAAkB,IAKtB,IAAIc,EADepF,EAAa5D,MACIiJ,QAAQ,OAAQ,KAAKA,QAAQ,iBAAkB,IAEnF,IAEE,MAUM3E,SAViB4E,EAAAA,EAAMC,KAAK,4CAA6C,CAC7EC,KAAMhC,EACNiC,WAAYL,EACZM,YAAapF,EAAaqF,WAC1BtB,SAAUA,GACT,CACDuB,QAAS,OAIe3C,KAAK4C,UAG/BlF,EAAY,kCAAkCD,GAG9C4D,IAAAA,OACF,CAAE,MAAOtB,GAEPsB,IAAAA,KAAU,CACRwB,KAAM,QACN1J,MAAO,UACPoJ,KAAM,wBACNO,OAAQ,0CAEVxG,QAAQyD,MAAM,uBAAwBA,EACxC,CACF,GA4DIgD,GAA2BC,EAAAA,EAAAA,qBAC/B,uBAAEC,GAA2BF,EAGzBG,GAA8BC,EAAAA,EAAAA,qBAAoB,CAEtDC,YAAcC,GAAgB,CAE5BA,EAAY,GACZA,EAAY,IAEZC,cAAgBC,IACdtK,EAAAA,EAAAA,KAACsK,EAAO,CAAAvJ,SACNuE,IACE,MAAM,iBACFiF,EAAgB,YAChBC,EAAW,gBACXC,EAAe,aACfC,EAAY,iBACZC,EAAgB,cAChBC,EAAa,kBACbC,EAAiB,KACjBC,EAAI,OACJC,EAAM,QACNC,GACA1F,EACJ,OACEzE,EAAAA,EAAAA,MAAA,OAEAoK,MAAO,CACHhF,WAAY,SAC1BP,QAAS,OACTwF,SAAU,CAAChG,eACXgB,eAAgB,gBAChBiF,MAAO,OACPC,OAAQ,OACRC,gBAAiB,UACjBC,QAAS,QACGvK,SAAA,EAGlBf,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UACff,EAAAA,EAAAA,KAAA,UAAQuL,QAASA,IAAM3G,EAAS,WAADhE,OAAY4C,IAAMzC,UAACf,EAAAA,EAAAA,KAACwL,EAAAA,IAAW,SAI5DxL,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UAC/Bf,EAAAA,EAAAA,KAAC6K,EAAiB,OAEtB7K,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UAC/Bf,EAAAA,EAAAA,KAACgL,EAAO,OAEZhL,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UAC/Bf,EAAAA,EAAAA,KAAC8K,EAAI,OAET9K,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UAC/Bf,EAAAA,EAAAA,KAAC+K,EAAM,OAEZ/K,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,UAAWG,WAAY,QAAS1K,UACpDf,EAAAA,EAAAA,KAAC2K,EAAgB,OAErB9J,EAAAA,EAAAA,MAAA,OAAKoK,MAAO,CAAEvF,QAAS,OAAQO,WAAY,SAAUqF,QAAS,WAAYvK,SAAA,EAC1Ff,EAAAA,EAAAA,KAACuK,EAAgB,IAAG,OAAGvK,EAAAA,EAAAA,KAAC4K,EAAa,QAErB5K,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UAC/Bf,EAAAA,EAAAA,KAAC0K,EAAY,OAGjB1K,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UACnDf,EAAAA,EAAAA,KAAA,UAAQuL,QAASlE,EAAetG,UAACf,EAAAA,EAAAA,KAAC0L,EAAAA,IAAM,SAGxC5G,IACAjE,EAAAA,EAAAA,MAAA8K,EAAAA,SAAA,CAAA5K,SAAA,EAEFf,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,UAAWG,WAAY,QAAS1K,UAC/Bf,EAAAA,EAAAA,KAACyK,EAAe,OAEpBzK,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,UAAWG,WAAY,QAAS1K,UACnDf,EAAAA,EAAAA,KAACwK,EAAW,OAEhBxK,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UACzCf,EAAAA,EAAAA,KAACgK,EAAsB,CAAC4B,KAAMC,EAAAA,WAAWC,cAE7C9L,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UAC/Bf,EAAAA,EAAAA,KAACgK,EAAsB,CAAC4B,KAAMC,EAAAA,WAAWE,gBAE7C/L,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UAC/Bf,EAAAA,EAAAA,KAACgK,EAAsB,CAAC4B,KAAMC,EAAAA,WAAWG,aAE7ChM,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UAC/Bf,EAAAA,EAAAA,KAACgK,EAAsB,CAAC4B,KAAMC,EAAAA,WAAWI,YAKtDnH,IACKjE,EAAAA,EAAAA,MAAA8K,EAAAA,SAAA,CAAA5K,SAAA,EACNf,EAAAA,EAAAA,KAACkM,EAAAA,EAAM,CAACX,QAAS7G,EAAW3D,SAAC,aACzBF,EAAAA,EAAAA,MAACsL,EAAAA,GAAM,CAACC,OAAO,QAAQ7L,KAAM+D,EAAc+H,QAAS1H,EAAY5D,SAAA,EAChDf,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,UAAWG,WAAY,QAAS1K,UACnDf,EAAAA,EAAAA,KAACyK,EAAe,OAEpBzK,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,UAAWG,WAAY,QAAS1K,UACnDf,EAAAA,EAAAA,KAACwK,EAAW,OAEhBxK,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UACzCf,EAAAA,EAAAA,KAACgK,EAAsB,CAAC4B,KAAMC,EAAAA,WAAWC,cAE7C9L,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UAC/Bf,EAAAA,EAAAA,KAACgK,EAAsB,CAAC4B,KAAMC,EAAAA,WAAWE,gBAE7C/L,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UAC/Bf,EAAAA,EAAAA,KAACgK,EAAsB,CAAC4B,KAAMC,EAAAA,WAAWG,aAE7ChM,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEK,QAAS,WAAYvK,UAC/Bf,EAAAA,EAAAA,KAACgK,EAAsB,CAAC4B,KAAMC,EAAAA,WAAWI,iBAK7B,MAStBK,GAAoB7F,UACxB,MAAM8F,EAAkBC,KAAKC,MAAMC,aAAaC,QAAQ,cAExD,GAAIJ,GAAmBA,EAAgBK,KACrC,IACE,MAAMlG,QAAiBC,MAAM,iEAAkE,CAC7FkG,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB9K,KAAMwK,KAAKO,UAAU,CACnBC,OAAQjK,EAAAA,GAAKqC,YAAY6H,IACzBC,OAAQX,EAAgB/I,aAGTkD,EAASM,MAE9B,CAAE,MAAOF,GACPzD,QAAQyD,MAAM,+BAAgCA,EAChD,CACF,EAIIqG,GAAoB1G,UACxB,MAAM8F,EAAkBC,KAAKC,MAAMC,aAAaC,QAAQ,cAExD,GAAIJ,EACF,UACyB5F,MAAM,iEAAkE,CAC7FkG,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB9K,KAAMwK,KAAKO,UAAU,CACnBC,OAAQjK,EAAAA,GAAKqC,YAAY6H,IACzBC,OAAQX,EAAgB/I,GACxB4J,MAAOb,EAAgBc,qBAI7B,CAAE,MAAOvG,GACPzD,QAAQyD,MAAM,+BAAgCA,EAChD,CACF,EAGIwG,GAAkB7G,UACtB,IAEE,MAAM8G,EAAUb,aAAaC,QAAQ,iBAGdhG,MAAM,+DAAgE,CAC3FkG,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB9K,KAAMwK,KAAKO,UAAU,CACnBC,OAAQjK,EAAAA,GAAKqC,YAAY6H,IACzBM,QAASA,KAMf,CAAE,MAAOzG,GACPzD,QAAQyD,MAAM,8BAA+BA,EAC/C,GAIE,OACIjG,EAAAA,EAAAA,MAAA,OAAKoK,MAAO,CAAEG,OAAQ,QAAUD,MAAO,QAAQpK,SAAA,CAItD+C,IACOjD,EAAAA,EAAAA,MAAC2M,EAAAA,EAAM,CAAAzM,SAAA,EACLf,EAAAA,EAAAA,KAAA,SAAAe,UAAoB,OAAZ+C,QAAY,IAAZA,OAAY,EAAZA,EAAc5D,QAAS,2BAC/BF,EAAAA,EAAAA,KAAA,QACEyN,KAAK,cACLC,SAAqB,OAAZ5J,QAAY,IAAZA,OAAY,EAAZA,EAAc6J,cAAe,0CAExC3N,EAAAA,EAAAA,KAAA,QAAMyN,KAAK,WAAWC,QAAQ,0DAC9B1N,EAAAA,EAAAA,KAAA,QACE4N,IAAI,OACJC,MACc,OAAZ/J,QAAY,IAAZA,OAAY,EAAZA,EAAcgK,4BACF,OAAZhK,QAAY,IAAZA,OAAY,EAAZA,EAAciK,cACF,OAAZjK,QAAY,IAAZA,OAAY,EAAZA,EAAckK,aACd,0EAGJhO,EAAAA,EAAAA,KAAA,QAAMiO,SAAS,WAAWP,SAAqB,OAAZ5J,QAAY,IAAZA,OAAY,EAAZA,EAAc5D,QAAS,2BAC1DF,EAAAA,EAAAA,KAAA,QACEiO,SAAS,iBACTP,SAAqB,OAAZ5J,QAAY,IAAZA,OAAY,EAAZA,EAAc6J,cAAe,0CAExC3N,EAAAA,EAAAA,KAAA,QACEiO,SAAS,WACTP,SACc,OAAZ5J,QAAY,IAAZA,OAAY,EAAZA,EAAciK,cACF,OAAZjK,QAAY,IAAZA,OAAY,EAAZA,EAAckK,aACd,0EAGJhO,EAAAA,EAAAA,KAAA,QAAMiO,SAAS,UAAUP,QAAQ,UACjC1N,EAAAA,EAAAA,KAAA,QAAMiO,SAAS,SAASP,QAASQ,OAAOC,SAASN,WAI3D7N,EAAAA,EAAAA,KAAA,SAAOoO,KAAG,EAAArN,SAAA,0SAcTyD,IACCxE,EAAAA,EAAAA,KAACqO,IAAS,CAAAtN,UACRF,EAAAA,EAAAA,MAAA,OAAKoK,MAAO,CACVxF,SAAU,WACVM,OAAQ,OACRD,KAAM,MACNwI,UAAW,mBACXC,OAAQ,IACRlD,gBAAiB,cACjBC,QAAS,OACTkD,aAAc,OACdC,UAAW,mCACX1N,SAAA,EACAf,EAAAA,EAAAA,KAAC0O,IAAW,CAACvN,IAAKqD,EAAUmK,UAAQ,EAACC,SAAO,KAC5C5O,EAAAA,EAAAA,KAAA,UAAQuL,QAASA,IAAM9G,EAAY,MAAOwG,MAAO,CAC/C4D,UAAW,OACXxD,gBAAiB,UACjBhF,MAAO,OACPyI,OAAQ,OACRN,aAAc,MACdlD,QAAS,WACTyD,OAAQ,WACRhO,SAAC,gBAMI2C,GACE1D,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAACvF,QAAS,OAAQQ,eAAgB,SAAUD,WAAY,SAAUmF,OAAQ,SAASrK,SAAC,eAG/F6C,GACA5D,EAAAA,EAAAA,KAACgP,EAAAA,OAAM,CAACC,UAAU,gEAA+DlO,UAC7Ef,EAAAA,EAAAA,KAACkP,EAAAA,OAAM,CACPC,QAASvL,EACTwL,2BAGCC,GACoBC,OAAOC,OAAO,CAAC,EAAGF,EAAS,CAC5CG,cAAc,EACdC,eAAe,EACfC,kBAAkB,IAKxCC,WAAY9D,EAAAA,WAAWI,KACzBhH,aAAcA,EACd2K,aA1W6BnJ,UAA4B,IAArB,YAAEoJ,GAAalQ,EAE7C0E,EAAgBwL,GAIhB5L,EAAe,IAAID,EAAa6L,IAGhC,MAAMC,EAAkB,IAAIC,IAAI/L,GAAa1C,KACvC+L,EAAqByC,EAAkB5L,EAAc,IAG3DmJ,GAAqB,WAIjBf,WACAa,MAGJ,MAAM6C,EAAY,CACdxM,GAAIA,EACJQ,YAAaA,EACb8L,gBAAiBA,EACjBzC,kBAAmBA,EACnBT,KAAMS,GAAqB,IAI/BX,aAAauD,QAAQ,YAAazD,KAAKO,UAAUiD,IAGzBxD,KAAKC,MAAMC,aAAaC,QAAQ,aAAa,EA0U3EuD,eApUsBC,IAAc,IAAb,IAAEC,GAAKD,EAI1BhM,EAAciM,EAAIC,UAGd3D,aAAaC,QAAQ,aAAenJ,IAEtCkJ,aAAauD,QAAQ,UAAWzM,GAChCkJ,aAAauD,QAAQ,SAAU,QAG/B3C,KACF,EAwTJgD,aAAeC,IACb1P,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEf,EAAAA,EAAAA,KAAA,MAAIc,UAAU,4BAA2BC,SAAC,iCAC5Cf,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEE,MAAO,QAASpK,UAG1Bf,EAAAA,EAAAA,KAACqF,EAAyB,CAACkB,MAAOD,KAAK/E,MAAMgP,UAI3BC,QAAS,CAELvG,EAA6BH,QAK3C9J,EAAAA,EAAAA,KAAA2L,EAAAA,SAAA,CAAA5K,UACAf,EAAAA,EAAAA,KAAA,OAAKiL,MAAO,CAAEvF,QAAS,OAAQQ,eAAgB,SAAUD,WAAY,SAAUmF,OAAQ,SAAUrK,UACjGf,EAAAA,EAAAA,KAACyQ,EAAAA,EAAK,CAACC,SAAS,QAAO3P,SAAC,uBAKtCf,EAAAA,EAAAA,KAAC2Q,EAAAA,EAAU,CAAC/Q,qBAljBsBgR,KAI5BC,EAAAA,EAAAA,mBAEAlK,MAAM,sCAAuC,CAC3CkG,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB9K,KAAMwK,KAAKO,UAAU,CACnB+D,SAAUhN,EAAaiN,IACvBC,MAAOJ,EACPK,QAAS9L,GAAS,QAClBjF,MAAO4D,EAAa5D,OAAU,OAC9BgR,YAAapN,EAAaoN,aAAe,WAG5CrO,MAAK6D,GAAYA,EAASM,SAC1BnE,MAAKkE,KAEJoK,EAAAA,EAAAA,oBAAmBpK,EAAKL,SAAS,IAElC0K,OAAMtK,IACLzD,QAAQyD,MAAM,SAAUA,IACxBqK,EAAAA,EAAAA,oBAAmB,+BAA+B,IAEnDE,SAAQ,MAEPR,EAAAA,EAAAA,kBAAiB,GACjB,MAshBR,C","sources":["components/ChatWidget.js","components/Sharebox.js","firebase.js","pages/EbookReaderPage.js"],"sourcesContent":["import React, { useEffect , useState} from 'react';\nimport { Widget, addResponseMessage, toggleMsgLoader } from '@ryaneewx/react-chat-widget';\nimport '@ryaneewx/react-chat-widget/lib/styles.css';\nimport '../css/chat.css';\n\nconst ChatWidget = ({ handleNewUserMessage }) => {\n\n\nconst [chatWindowOpen, setChatWindowOpen] = useState(true);\n\n\n  const handleToggle = (open) => {\n    setChatWindowOpen((prev) => !prev);\n  };\n\n\n  return (\n    <Widget\n      handleNewUserMessage={handleNewUserMessage}\n      title=\"Ebook Chatbot\"\n      subtitle=\"Ask me anything about this ebook\"\n      profileAvatar=\"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp\"\n      emojis=\"true\"\n      handleToggle={handleToggle}\n    />\n  );\n};\n\nexport default ChatWidget;\n","import React from 'react';\r\nimport {\r\n  FacebookShareButton,\r\n  TwitterShareButton,\r\n  LinkedinShareButton,\r\n  WhatsappShareButton,\r\n  EmailShareButton,\r\n} from 'react-share';\r\nimport {\r\n  EmailIcon,\r\n  FacebookIcon,\r\n  LinkedinIcon,\r\n  TwitterIcon,\r\n  WhatsappIcon,\r\n} from 'react-share';\r\n\r\nconst ShareBox = ({ shareUrl, selectedText }) => {\r\n  const yeePlatformUrl = 'https://www.yeeplatform.com';\r\n  const hashtags = 'YeePlatform'; // Add more hashtags as needed\r\n\r\n  const shareText = `Check out this quote: \"${selectedText}\" from @YeePlatform! ${yeePlatformUrl} #${hashtags}`;\r\n\r\n  return (\r\n    <div className=\"share-box w-full max-w-md mx-auto p-4\">\r\n      <div className=\"share-header mb-4\">\r\n        <img src=\"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp\" alt=\"YeePlatform Logo\" className=\"logo w-12 h-auto\" />\r\n        <span className=\"share-title text-lg\">Share this quote with friends:</span>\r\n      </div>\r\n      <div className=\"share-icons flex justify-center\">\r\n        <FacebookShareButton title=\"Test\" url={shareUrl} quote={shareText}>\r\n          <FacebookIcon size={32} round={true} />\r\n        </FacebookShareButton>\r\n        <TwitterShareButton url={shareUrl} title={shareText}>\r\n          <TwitterIcon size={32} round={true} />\r\n        </TwitterShareButton>\r\n        <LinkedinShareButton url={shareUrl} title={shareText}>\r\n          <LinkedinIcon size={32} round={true} />\r\n        </LinkedinShareButton>\r\n        <WhatsappShareButton url={shareUrl} title={shareText}>\r\n          <WhatsappIcon size={32} round={true} />\r\n        </WhatsappShareButton>\r\n        <EmailShareButton url={shareUrl} subject=\"Check out this quote\" body={shareText}>\r\n          <EmailIcon size={32} round={true} />\r\n        </EmailShareButton>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShareBox;\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics,  isSupported, logEvent } from \"firebase/analytics\";\r\nimport {\r\n  getAuth,\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  sendEmailVerification,\r\n  signOut,\r\n} from \"firebase/auth\";\r\n\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBXS56tIro9cd-Sd4ySn5AwLw3T6cnMHr0\",\r\n  authDomain: \"yeeplatform.firebaseapp.com\",\r\n  projectId: \"yeeplatform\",\r\n  storageBucket: \"yeeplatform.appspot.com\",\r\n  messagingSenderId: \"272587831821\",\r\n  appId: \"1:272587831821:web:b612b427ff43968f33f344\",\r\n  measurementId: \"G-YZV03469PP\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nlet analytics;\r\n\r\nisSupported().then((isSupported) => {\r\n  if (isSupported) {\r\n    analytics = getAnalytics(app);\r\n    //console.log(\"Firebase Analytics is supported and loaded successfully!\");\r\n  } else {\r\n    //console.log(\"Firebase Analytics is not supported in this environment\");\r\n  }\r\n});\r\n\r\n// Add console.log statement to check Firebase connection\r\n// console.log(\"Firebase connected successfully\");\r\n\r\nexport const auth = getAuth(app);\r\n\r\n\r\n// Export a function to log events after Firebase Analytics is initialized\r\nexport const logFirebaseEvent = (eventName, eventParams) => {\r\n  if (analytics) {\r\n    logEvent(analytics, eventName, eventParams);\r\n  } else {\r\n    console.warn(\"Firebase Analytics is not initialized yet.\");\r\n  }\r\n};\r\nexport {\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  sendEmailVerification,\r\n  signOut,\r\n  logEvent,\r\n  analytics,\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { Viewer, Worker ,ScrollMode} from '@react-pdf-viewer/core';\r\nimport { defaultLayoutPlugin } from '@react-pdf-viewer/default-layout';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport {auth} from '../firebase.js';\r\nimport { getDocument } from 'pdfjs-dist';\r\nimport { scrollModePlugin } from '@react-pdf-viewer/scroll-mode';\r\nimport '@react-pdf-viewer/default-layout/lib/styles/index.css';\r\nimport '@react-pdf-viewer/core/lib/styles/index.css';\r\nimport {  FaPlay, FaArrowLeft } from 'react-icons/fa';\r\nimport { PdfJs } from '@react-pdf-viewer/core';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { Helmet } from 'react-helmet';\r\nimport ShareBox from '../components/Sharebox';\r\nimport { analytics, logEvent } from '../firebase.js';\r\nimport '../App.css';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Typography from '@mui/material/Typography';\r\nimport Box from '@mui/material/Box';\r\nimport Alert from '@mui/material/Alert';\r\nimport ChatWidget from '../components/ChatWidget.js';\r\nimport { addResponseMessage, toggleMsgLoader } from '@ryaneewx/react-chat-widget';\r\nimport axios from 'axios';\r\nimport ReactPlayer from 'react-player';\r\n\r\n\r\nimport Draggable from 'react-draggable';\r\n\r\nfunction EbookReaderPage() {\r\n    const { id } = useParams();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [pdfUrl, setPdfUrl] = useState(null);\r\n    const [ebookContent, setEbookContent] = useState(null);\r\n    const [pageNumbers, setPageNumbers] = useState([]);\r\n    const [totalPages, setTotalPages] = useState(0);\r\n    const [currentPages, setCurrentPages] = useState(1);\r\n    const [isDrawerOpen, setDrawerOpen] = useState(false);\r\n    const [audioUrl, setAudioUrl] = useState(null);\r\n \r\n    const openDrawer = () => {\r\n      setDrawerOpen(true);\r\n    };\r\n  \r\n    const closeDrawer = () => {\r\n      setDrawerOpen(false);\r\n    };\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const isScreenSmall = useMediaQuery('(max-width:626px)');\r\n    const isScreenSmaller = useMediaQuery('(max-width:400px)');\r\n\r\n    const defaultScale = isScreenSmall ? 0.8 : 1; \r\n    const defaultWrap = isScreenSmaller ?  'wrap':'nowrap'; \r\n\r\n    const email = auth.currentUser?.email;\r\n    \r\n    const handleNewUserMessage = (newMessage) => {\r\n     \r\n      \r\n      // Show the loading indicator\r\n      toggleMsgLoader();\r\n  \r\n      fetch('https://yeeplatform.com/server/chat', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          ebook_id: ebookContent._id,\r\n          query: newMessage,\r\n          user_id: email || 'guest',\r\n          title: ebookContent.title ||  'test',\r\n          Description: ebookContent.Description || 'test'\r\n        })\r\n      })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        \r\n        addResponseMessage(data.response);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error:', error);\r\n        addResponseMessage('Sorry, something went wrong.');\r\n      })\r\n      .finally(() => {\r\n        // Hide the loading indicator\r\n        toggleMsgLoader();\r\n      });\r\n    };\r\n\r\n    function CircularProgressWithLabel(props) {\r\n      return (\r\n        <Box sx={{ position: 'relative', display: 'inline-flex' }}>\r\n          <CircularProgress variant=\"determinate\" {...props} />\r\n          <Box\r\n            sx={{\r\n              top: 0,\r\n              left: 0,\r\n              bottom: 0,\r\n              right: 0,\r\n              position: 'absolute',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n            }}\r\n          >\r\n            <Typography variant=\"caption\" component=\"div\" color=\"text.secondary\">\r\n              {`${Math.round(props.value)}%`}\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchEbookContent = async () => {\r\n            setIsLoading(true);\r\n            try {\r\n                const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/getEbook/${id}`, { cache: 'force-cache' });\r\n                if (!response.ok) {\r\n                    console.error('Response not OK:', response);\r\n                    return;\r\n                }\r\n                const data = await response.json();\r\n                setEbookContent(data);\r\n                //console.log('Data:', data);\r\n\r\n                // Set the PDF URL\r\n                setPdfUrl(data?.ebookUrl);\r\n                console.log(data?.ebookUrl);\r\n            } catch (error) {\r\n                console.error('Error fetching eBook content:', error.message);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchEbookContent();\r\n    }, [id]);\r\n    \r\n    const handlePlayClick = async () => {\r\n      const pdf = await getDocument(pdfUrl).promise;\r\n      //console.log(currentPages)\r\n      const page = await pdf.getPage(currentPages+1);\r\n      const textContent = await page.getTextContent();\r\n      const strings = textContent.items.map(item => item.str);\r\n      const text = strings.join(' ');\r\n     \r\n      return text;\r\n    };\r\n\r\n    const handleTTSClick = async () => {\r\n      const pageText = await handlePlayClick();\r\n      // Cancel the currently playing audio\r\n      setAudioUrl(null);\r\n    \r\n      // Ask for language selection\r\n      const { value: language } = await Swal.fire({\r\n        title: 'Select language',\r\n        html: `\r\n        <form id=\"languageForm\" style=\"display: flex; flex-direction: column; align-items: start;\">\r\n            <label><input type=\"radio\" name=\"language\" value=\"eng\"> English</label><br>\r\n            <label><input type=\"radio\" name=\"language\" value=\"swh\"> Swahili</label><br>\r\n            <label><input type=\"radio\" name=\"language\" value=\"spa\"> Spanish</label><br>\r\n            <label><input type=\"radio\" name=\"language\" value=\"arz\"> Arabic</label><br>\r\n            <label><input type=\"radio\" name=\"language\" value=\"fra\"> French</label><br>\r\n            \r\n          </form>\r\n        `,\r\n        focusConfirm: false,\r\n        preConfirm: () => {\r\n          const radios = document.getElementById('languageForm').elements['language'];\r\n          let selectedLanguage;\r\n          for (let i = 0; i < radios.length; i++) {\r\n            if (radios[i].checked) {\r\n              selectedLanguage = radios[i].value;\r\n              break;\r\n            }\r\n          }\r\n          return selectedLanguage;\r\n        }\r\n      });\r\n    \r\n      if (language) {\r\n        // Show loading Swal\r\n        Swal.fire({\r\n          title: 'Loading...',\r\n          allowOutsideClick: false,\r\n          onBeforeOpen: () => {\r\n            Swal.showLoading()\r\n          }\r\n        });\r\n    \r\n        const book_title = ebookContent.title;\r\n        let processedBookTitle = book_title.replace(/\\s+/g, '_').replace(/[^a-zA-Z0-9_]/g, '');\r\n       \r\n        try {\r\n      \r\n          const response = await axios.post('https://yeeplatform.com/server/synthesize', {\r\n            text: pageText,\r\n            book_title: processedBookTitle,\r\n            page_number: currentPages.toString(),\r\n            language: language\r\n          }, {\r\n            timeout: 6000000 \r\n          });\r\n    \r\n      \r\n          const audioUrl = response.data.audio_url;\r\n    \r\n          // Play the audio\r\n          setAudioUrl(\"https://yeeplatform.com/server/\"+audioUrl);\r\n    \r\n         \r\n          Swal.close();\r\n        } catch (error) {\r\n          \r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Oops...',\r\n            text: 'Something went wrong!',\r\n            footer: '<a href>Why do I have this issue?</a>'\r\n          });\r\n          console.error('Error playing audio:', error);\r\n        }\r\n      }\r\n    };\r\n  \r\n\r\n    const handlePageChange = async ({ currentPage }) => {\r\n\r\n      setCurrentPages(currentPage);\r\n      \r\n  \r\n      // Add the current page number to the array\r\n      setPageNumbers([...pageNumbers, currentPage]);\r\n  \r\n      // Calculate the percentage of pages visited\r\n      const uniquePageCount = new Set(pageNumbers).size;\r\n      const percentageVisited = (uniquePageCount / totalPages) * 100;\r\n  \r\n      // Check if the eBook has been read\r\n  if (percentageVisited >= 30) {\r\n    //console.log('The eBook has been read.');\r\n\r\n    // Call the functions to update viewed books and ebook scores\r\n    await updateViewedBooks();\r\n    await updateEbookScores();\r\n}\r\n      // Create an object to store the eBook ID, page numbers, and unique page count\r\n      const ebookData = {\r\n          id: id,\r\n          pageNumbers: pageNumbers,\r\n          uniquePageCount: uniquePageCount,\r\n          percentageVisited: percentageVisited,\r\n          read: percentageVisited >= 30\r\n      };\r\n  \r\n      // Store the object in local storage\r\n      localStorage.setItem('ebookData', JSON.stringify(ebookData));\r\n  \r\n      // Retrieve and print the eBook data from local storage\r\n      const storedEbookData = JSON.parse(localStorage.getItem('ebookData'));\r\n      //console.log('Stored eBook Data:', storedEbookData);\r\n\r\n  \r\n  };\r\n\r\n  const ebookviewed = ({ doc }) => {\r\n    //console.log('Number of pages:', doc.numPages);\r\n  \r\n    // Store the total number of pages\r\n    setTotalPages(doc.numPages);\r\n  \r\n    // Check if the eBook ID already exists in the local storage\r\n    if (localStorage.getItem('ebookID') !== id) {\r\n     \r\n      localStorage.setItem('ebookID', id);\r\n      localStorage.setItem('viewed', 'true');\r\n  \r\n      // Record the ebook view\r\n      recordEbookView();\r\n    }\r\n  }\r\n\r\n    const scrollModePluginInstance = scrollModePlugin();\r\nconst { SwitchScrollModeButton } = scrollModePluginInstance;\r\n\r\n    // Create new plugin instance\r\n    const defaultLayoutPluginInstance = defaultLayoutPlugin({\r\n\r\n      sidebarTabs: (defaultTabs) => [\r\n        // Remove the attachments tab (\\`defaultTabs[2]\\`)\r\n        defaultTabs[0], // Bookmarks tab\r\n        defaultTabs[1], // Thumbnails tab\r\n    ],\r\n        renderToolbar: (Toolbar) => (\r\n          <Toolbar>\r\n          {(props) => {\r\n              const {\r\n                  CurrentPageInput,\r\n                  SwitchTheme,\r\n                  EnterFullScreen,\r\n                  GoToNextPage,\r\n                  GoToPreviousPage,\r\n                  NumberOfPages,\r\n                  ShowSearchPopover,\r\n                  Zoom,\r\n                  ZoomIn,\r\n                  ZoomOut,\r\n              } = props;\r\n              return (\r\n                <div\r\n              \r\n                style={{\r\n                    alignItems: 'center',\r\n      display: 'flex',\r\n      flexWrap: {defaultWrap}, \r\n      justifyContent: 'space-between', \r\n      width: '100%',\r\n      height: 'auto',\r\n      backgroundColor: '#ffde5a',\r\n      padding: '10px', \r\n                }}\r\n            >\r\n\r\n<div style={{ padding: '0px 2px' }}>\r\n                    <button onClick={() => navigate(`/ebooks/${id}`)}><FaArrowLeft /></button>\r\n                </div>\r\n\r\n\r\n                      <div style={{ padding: '0px 2px' }}>\r\n                          <ShowSearchPopover />\r\n                      </div>\r\n                      <div style={{ padding: '0px 2px' }}>\r\n                          <ZoomOut />\r\n                      </div>\r\n                      <div style={{ padding: '0px 2px' }}>\r\n                          <Zoom />\r\n                      </div>\r\n                      <div style={{ padding: '0px 2px' }}>\r\n                          <ZoomIn />\r\n                      </div>\r\n                     <div style={{ padding: '0px 2px', marginLeft: 'auto' }}>\r\n                        <GoToPreviousPage />\r\n                    </div>\r\n                    <div style={{ display: 'flex', alignItems: 'center', padding: '0px 2px' }}>\r\n    <CurrentPageInput /> / <NumberOfPages />\r\n</div>\r\n                    <div style={{ padding: '0px 2px' }}>\r\n                        <GoToNextPage />\r\n                    </div>\r\n\r\n                    <div style={{ padding: '0px 2px' }}>\r\n    <button onClick={handleTTSClick}><FaPlay /></button>\r\n  </div>\r\n\r\n  {!isScreenSmall && (\r\n    <>\r\n\r\n  <div style={{ padding: '0px 2px', marginLeft: 'auto' }}>\r\n                          <EnterFullScreen />\r\n                      </div>\r\n                      <div style={{ padding: '0px 2px', marginLeft: 'auto' }}>\r\n                          <SwitchTheme />\r\n                      </div>\r\n                      <div style={{ padding: '0px 2px' }}>\r\n                <SwitchScrollModeButton mode={ScrollMode.Vertical} />\r\n            </div>\r\n            <div style={{ padding: '0px 2px' }}>\r\n                <SwitchScrollModeButton mode={ScrollMode.Horizontal} />\r\n            </div>\r\n            <div style={{ padding: '0px 2px' }}>\r\n                <SwitchScrollModeButton mode={ScrollMode.Wrapped} />\r\n            </div>\r\n            <div style={{ padding: '0px 2px' }}>\r\n                <SwitchScrollModeButton mode={ScrollMode.Page} />\r\n            </div>\r\n            </>\r\n    )}\r\n\r\n  {isScreenSmall && (\r\n        <>\r\n  <Button onClick={openDrawer}>Options</Button>\r\n      <Drawer anchor=\"right\" open={isDrawerOpen} onClose={closeDrawer}>\r\n                      <div style={{ padding: '0px 2px', marginLeft: 'auto' }}>\r\n                          <EnterFullScreen />\r\n                      </div>\r\n                      <div style={{ padding: '0px 2px', marginLeft: 'auto' }}>\r\n                          <SwitchTheme />\r\n                      </div>\r\n                      <div style={{ padding: '0px 2px' }}>\r\n                <SwitchScrollModeButton mode={ScrollMode.Vertical} />\r\n            </div>\r\n            <div style={{ padding: '0px 2px' }}>\r\n                <SwitchScrollModeButton mode={ScrollMode.Horizontal} />\r\n            </div>\r\n            <div style={{ padding: '0px 2px' }}>\r\n                <SwitchScrollModeButton mode={ScrollMode.Wrapped} />\r\n            </div>\r\n            <div style={{ padding: '0px 2px' }}>\r\n                <SwitchScrollModeButton mode={ScrollMode.Page} />\r\n            </div>\r\n            </Drawer>\r\n            </>\r\n      )}\r\n                      </div>\r\n              );\r\n          }}\r\n      </Toolbar>\r\n        ),\r\n    });\r\n\r\n\r\n    // Function to send a POST request to update viewed books\r\nconst updateViewedBooks = async () => {\r\n  const storedEbookData = JSON.parse(localStorage.getItem('ebookData'));\r\n\r\n  if (storedEbookData && storedEbookData.read) {\r\n    try {\r\n      const response = await fetch('https://yeeplatformbackend.azurewebsites.net/updateViewedBooks', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          userId: auth.currentUser.uid,\r\n          bookId: storedEbookData.id,\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n      //console.log(data); // Log the response from the backend\r\n    } catch (error) {\r\n      console.error('Error updating viewed books:', error);\r\n    }\r\n  }\r\n};\r\n\r\n// Function to send a POST request to update ebook scores\r\nconst updateEbookScores = async () => {\r\n  const storedEbookData = JSON.parse(localStorage.getItem('ebookData'));\r\n\r\n  if (storedEbookData) {\r\n    try {\r\n      const response = await fetch('https://yeeplatformbackend.azurewebsites.net/updateEbookScores', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          userId: auth.currentUser.uid,\r\n          bookId: storedEbookData.id,\r\n          score: storedEbookData.percentageVisited,\r\n        }),\r\n      });\r\n     \r\n    } catch (error) {\r\n      console.error('Error updating ebook scores:', error);\r\n    }\r\n  }\r\n};\r\n\r\nconst recordEbookView = async () => {\r\n  try {\r\n    // Get the eBook ID and viewed status from local storage\r\n    const ebookId = localStorage.getItem('ebookID');\r\n    \r\n\r\n    const response = await fetch('https://yeeplatformbackend.azurewebsites.net/recordEbookView', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        userId: auth.currentUser.uid,\r\n        ebookId: ebookId,\r\n       \r\n      }),\r\n    });\r\n   \r\n   \r\n  } catch (error) {\r\n    console.error('Error recording ebook view:', error);\r\n  }\r\n};\r\n\r\n\r\n    return (\r\n        <div style={{ height: '100vh' , width: '100%'}}>\r\n\r\n          \r\n\r\n{ebookContent && (\r\n        <Helmet>\r\n          <title>{ebookContent?.title || 'Ebook Reader - Yee FM'}</title>\r\n          <meta\r\n            name=\"description\"\r\n            content={ebookContent?.description || 'Read your favorite ebooks on Yee FM.'}\r\n          />\r\n          <meta name=\"keywords\" content=\"Yee FM, ebooks, reading, literature, digital library\" />\r\n          <link\r\n            rel=\"icon\"\r\n            href={\r\n              ebookContent?.coverImage_optimized_url ||\r\n              ebookContent?.coverImage ||\r\n              ebookContent?.coverimage ||\r\n              'https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp'\r\n            }\r\n          />\r\n          <meta property=\"og:title\" content={ebookContent?.title || 'Ebook Reader - Yee FM'} />\r\n          <meta\r\n            property=\"og:description\"\r\n            content={ebookContent?.description || 'Read your favorite ebooks on Yee FM.'}\r\n          />\r\n          <meta\r\n            property=\"og:image\"\r\n            content={\r\n              ebookContent?.coverImage ||\r\n              ebookContent?.coverimage ||\r\n              'https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp'\r\n            }\r\n          />\r\n          <meta property=\"og:type\" content=\"book\" />\r\n          <meta property=\"og:url\" content={window.location.href} />\r\n        </Helmet>\r\n      )}\r\n\r\n<style jsx>{`\r\n      @media only screen and (max-width: 500px) {\r\n        /* Styles for mobile devices */\r\n        .pdf-viewer {\r\n          width: 100%;\r\n          height: auto;\r\n        }\r\n      }\r\n\r\n      .rpv-core__viewer--loading .rpv-core__viewer-document {\r\n        visibility: hidden;\r\n      }\r\n    `}</style>\r\n\r\n{audioUrl && (\r\n  <Draggable>\r\n    <div style={{\r\n      position: 'absolute',\r\n      bottom: '10px',\r\n      left: '50%',\r\n      transform: 'translateX(-50%)',\r\n      zIndex: 1000,\r\n      backgroundColor: 'transparent',\r\n      padding: '10px',\r\n      borderRadius: '10px',\r\n      boxShadow: '0px 0px 10px rgba(0, 0, 0, 0.1)'\r\n    }}>\r\n      <ReactPlayer url={audioUrl} controls playing />\r\n      <button onClick={() => setAudioUrl(null)} style={{\r\n        marginTop: '10px',\r\n        backgroundColor: '#f44336',\r\n        color: '#fff',\r\n        border: 'none',\r\n        borderRadius: '5px',\r\n        padding: '5px 10px',\r\n        cursor: 'pointer'\r\n      }}>Cancel</button>\r\n    </div>\r\n  </Draggable>\r\n)}\r\n\r\n\r\n            {isLoading ? (\r\n               <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh'}}>\r\n               Loading...\r\n             </div>\r\n            ) : pdfUrl ? (\r\n                <Worker workerUrl=\"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js\">\r\n                    <Viewer \r\n                    fileUrl={pdfUrl}\r\n                    transformGetDocumentParams={/**\r\n                    * @param {PdfJs.GetDocumentParams} options\r\n                    */\r\n                    (options) => {\r\n                      const newOptions = Object.assign({}, options, {\r\n                        disableRange: false,\r\n                        disableStream: true,\r\n                        disableAutoFetch: true, \r\n                      });\r\n                      return newOptions;\r\n                    }\r\n                    }\r\n  scrollMode={ScrollMode.Page}\r\ndefaultScale={defaultScale}\r\nonPageChange={handlePageChange}\r\nonDocumentLoad={ebookviewed}\r\n\r\nrenderLoader={(percentages) => (\r\n  <div>\r\n    <h2 className=\"text-yellow-500 font-bold\">Please wait, it&apos;s coming...</h2>\r\n  <div style={{ width: '100%' }}>\r\n    \r\n\r\n      <CircularProgressWithLabel value={Math.round(percentages)} />\r\n  </div>\r\n  </div>\r\n)}\r\n                        plugins={[\r\n                            // Register plugins\r\n                            defaultLayoutPluginInstance, scrollModePluginInstance\r\n                        ]}\r\n                    />\r\n                </Worker>\r\n            ) : (\r\n              <>\r\n              <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\r\n              <Alert severity=\"error\">No PDF found.</Alert>\r\n          </div>\r\n</>\r\n            )}\r\n\r\n<ChatWidget handleNewUserMessage={handleNewUserMessage} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EbookReaderPage;\r\n"],"names":["_ref","handleNewUserMessage","chatWindowOpen","setChatWindowOpen","useState","_jsx","Widget","title","subtitle","profileAvatar","emojis","handleToggle","open","prev","shareUrl","selectedText","shareText","concat","_jsxs","className","children","src","alt","FacebookShareButton","url","quote","FacebookIcon","size","round","TwitterShareButton","TwitterIcon","LinkedinShareButton","LinkedinIcon","WhatsappShareButton","WhatsappIcon","EmailShareButton","subject","body","EmailIcon","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","isSupported","then","getAnalytics","auth","getAuth","logFirebaseEvent","eventName","eventParams","logEvent","console","warn","_auth$currentUser","id","useParams","isLoading","setIsLoading","pdfUrl","setPdfUrl","ebookContent","setEbookContent","pageNumbers","setPageNumbers","totalPages","setTotalPages","currentPages","setCurrentPages","isDrawerOpen","setDrawerOpen","audioUrl","setAudioUrl","openDrawer","closeDrawer","navigate","useNavigate","isScreenSmall","useMediaQuery","isScreenSmaller","defaultScale","defaultWrap","email","currentUser","CircularProgressWithLabel","props","Box","sx","position","display","CircularProgress","variant","top","left","bottom","right","alignItems","justifyContent","Typography","component","color","Math","value","useEffect","async","response","fetch","cache","ok","error","data","json","ebookUrl","log","message","fetchEbookContent","handleTTSClick","pageText","pdf","getDocument","promise","page","getPage","getTextContent","items","map","item","str","join","handlePlayClick","language","Swal","html","focusConfirm","preConfirm","radios","document","getElementById","elements","selectedLanguage","i","length","checked","allowOutsideClick","onBeforeOpen","processedBookTitle","replace","axios","post","text","book_title","page_number","toString","timeout","audio_url","icon","footer","scrollModePluginInstance","scrollModePlugin","SwitchScrollModeButton","defaultLayoutPluginInstance","defaultLayoutPlugin","sidebarTabs","defaultTabs","renderToolbar","Toolbar","CurrentPageInput","SwitchTheme","EnterFullScreen","GoToNextPage","GoToPreviousPage","NumberOfPages","ShowSearchPopover","Zoom","ZoomIn","ZoomOut","style","flexWrap","width","height","backgroundColor","padding","onClick","FaArrowLeft","marginLeft","FaPlay","_Fragment","mode","ScrollMode","Vertical","Horizontal","Wrapped","Page","Button","Drawer","anchor","onClose","updateViewedBooks","storedEbookData","JSON","parse","localStorage","getItem","read","method","headers","stringify","userId","uid","bookId","updateEbookScores","score","percentageVisited","recordEbookView","ebookId","Helmet","name","content","description","rel","href","coverImage_optimized_url","coverImage","coverimage","property","window","location","jsx","Draggable","transform","zIndex","borderRadius","boxShadow","ReactPlayer","controls","playing","marginTop","border","cursor","Worker","workerUrl","Viewer","fileUrl","transformGetDocumentParams","options","Object","assign","disableRange","disableStream","disableAutoFetch","scrollMode","onPageChange","currentPage","uniquePageCount","Set","ebookData","setItem","onDocumentLoad","_ref2","doc","numPages","renderLoader","percentages","plugins","Alert","severity","ChatWidget","newMessage","toggleMsgLoader","ebook_id","_id","query","user_id","Description","addResponseMessage","catch","finally"],"sourceRoot":""}