"use strict";(self.webpackChunkyeeplatform=self.webpackChunkyeeplatform||[]).push([[153,758,869,168,381],{72191:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var o=r(65043),a=r(30064),i=r.n(a),n=r(2253),s=r(77154),l=r(85865),c=r(88861),d=r(22778),h=r(10142),u=r(63713),p=r(55440),x=r(86032),m=r(54978),g=r(70579);const f=500;const j=function(){const[e,t]=(0,o.useState)(null),[r,a]=(0,o.useState)(null),[j,b]=(0,o.useState)(""),[A,v]=(0,o.useState)(""),[w,y]=(0,o.useState)([]),[k,C]=(0,o.useState)(""),[S,N]=(0,o.useState)(""),[E,P]=(0,o.useState)(""),[T,B]=(0,o.useState)(!1),[U,L]=(0,o.useState)(""),[D,F]=(0,o.useState)(""),[O,z]=(0,o.useState)(""),[I,W]=(0,o.useState)("free"),[M,q]=(0,o.useState)(""),[R,_]=(0,o.useState)(!1),[Y,H]=(0,o.useState)(!1),G=n.j2.currentUser.uid;return(0,o.useEffect)((()=>{const e=()=>{Y&&H(!1)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[Y]),(0,g.jsxs)("div",{className:"p-8 bg-white shadow-md rounded-lg max-w-md mx-auto",children:[(0,g.jsx)(l.A,{variant:"h4",className:"text-center mb-6",children:"Upload your Audiobook"}),(0,g.jsxs)("form",{onSubmit:async o=>{o.preventDefault();const n="notfree"===I;if(A.length>f)return void i().fire("Error","Description should not exceed ".concat(f," characters."),"error");if(e&&e.size>314572800)return void i().fire("Error","Audiobook file size should not exceed ".concat(300," MB."),"error");if(j.length<3||j.length>100)return void i().fire("Error","Title should be between ".concat(3," and ").concat(100," characters."),"error");if(!k)return void i().fire("Error","Please select a language.","error");const l=new Date;if(new Date(E)>l)return void i().fire("Error","Publication date cannot be in the future.","error");if(w.length<1)return void i().fire("Error","Please select at least ".concat(1," genre(s)."),"error");i().fire({title:"Uploading...",html:"Progress ....",allowEscapeKey:!1,allowOutsideClick:!1,showCancelButton:!1,showConfirmButton:!1,onBeforeOpen:()=>{i().showLoading()},onOpen:()=>{const e=i().getHtmlContainer(),t=document.createElement("div");t.setAttribute("class","sweetalert2-progress-steps"),e.appendChild(t)}});try{let o,l,c;if(r){const e=await(0,m.yh)(r,128);c=await(0,x.A)(e,!0),console.log("Here is my thumbnail url "+c)}if(e&&(o=await(0,x.A)(e)),r&&(console.log("Uploading coverFile: ",r),l=await(0,x.A)(r),console.log("This is my coverurl "+l)),A.length>f)return void i().fire("Error","Description should not exceed ".concat(f," characters."),"error");if(!o||!l)throw new Error("Please select both audio and cover files.");const d={title:j,description:A,genres:w.join(", "),categories:w.join(", "),language:k,isbn:S,ebookUrl:o,coverUrl:l,thumbnailUrl:c,publicationDate:E,author_platform_id:G,Duration:O,monetization:n,audioUrl:o},h=await s.A.post("https://yeeplatformbackend.azurewebsites.net/audiobookupload/".concat(G),d);if(i().close(),200!==h.status)throw new Error("Error while sending data to the server.");t(null),a(null),b(""),v(""),y([]),C(""),N(""),z(""),P(""),L(""),F(""),W("free"),q(""),H(!0)}catch(c){i().fire("Error","Error uploading the audio. Please try again.","error"),console.error("Error uploading the audio:",c)}},encType:"multipart/form-data",children:[(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Title:"}),(0,g.jsx)(c.A,{fullWidth:!0,variant:"outlined",value:j,onChange:e=>b(e.target.value),required:!0})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description:"}),(0,g.jsx)(c.A,{fullWidth:!0,multiline:!0,rows:4,variant:"outlined",value:A,onChange:e=>v(e.target.value),required:!0,helperText:"".concat(A.length,"/").concat(f)})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)(p.A,{label:"Upload Cover Image:",onChange:async e=>{const t=e.target.files[0];if(console.log("Handle Cover Change Function Called"),t){if(!(e=>e.size/1024/1024<=5)(t)){try{i().fire({icon:"error",title:"Error",text:"Image size should not exceed 5MB."}).then((()=>{a(null),L(""),q("")}))}catch(r){console.log(r)}return}const e=await(e=>new Promise((t=>{const r=new Image;r.onload=()=>{t(512===r.width&&800===r.height)},r.src=URL.createObjectURL(e)})))(t);if(!e){try{i().fire({icon:"error",title:"Error",text:"Image dimensions should be exactly 512x800 pixels.",timer:3e3}).then((()=>{a(null),L(""),q("")}))}catch(r){console.log(r)}return}a(t),L(t.name),q(URL.createObjectURL(t)),console.log("Function Execution Completed")}},fileName:U,accept:".jpg, .jpeg, .png",required:!0}),M&&(0,g.jsx)("div",{className:"image-preview",children:(0,g.jsx)("img",{src:M,alt:"Cover Preview",style:{maxWidth:"200px",maxHeight:"200px"}})})]}),(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsx)(d.A,{multiple:!0,options:["Fiction","Nonfiction","Science Fiction","Romance","Mystery/Thriller","Fantasy","Biography","History","Business/Economics","Self-help","Health/Fitness","Cooking/Food","Travel","Technology"],value:w,onChange:(e,t)=>y(t),renderInput:e=>(0,g.jsx)(c.A,{...e,variant:"outlined",label:"Genres"})})}),(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsx)(d.A,{options:[{code:"eng",label:"English"},{code:"French",label:"French"},{code:"swahili",label:"Swahili"},{code:"amharic",label:"Amharic"},{code:"yoruba",label:"Yoruba"},{code:"oromo",label:"Oromo"},{code:"igbo",label:"Igbo"},{code:"zulu",label:"Zulu"},{code:"shona",label:"Shona"},{code:"xhosa",label:"Xhosa"},{code:"hausa",label:"Hausa"},{code:"fulani",label:"Fulani"}].map((e=>e.label)),value:k,onChange:(e,t)=>C(t),renderInput:e=>(0,g.jsx)(c.A,{...e,variant:"outlined",label:"Language"})})}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"ISBN:"}),(0,g.jsx)(c.A,{fullWidth:!0,variant:"outlined",value:S,onChange:e=>N(e.target.value)})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Monetization:"}),(0,g.jsxs)("select",{value:I,onChange:e=>W(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[(0,g.jsx)("option",{value:"free",children:"Free"}),(0,g.jsx)("option",{value:"notfree",children:"Not Free"})]})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Publication Date:"}),(0,g.jsx)(c.A,{type:"date",fullWidth:!0,variant:"outlined",value:E,onChange:e=>P(e.target.value),required:!0})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)(p.A,{label:"Upload Audio File:",onChange:e=>{var r;t(e.target.files[0]),F((null===(r=e.target.files[0])||void 0===r?void 0:r.name)||""),(e=>{const t=URL.createObjectURL(e);let r=new Audio(t);r.onloadedmetadata=()=>{z(Math.floor(r.duration)),URL.revokeObjectURL(t)}})(e.target.files[0])},fileName:D,accept:".mp3, .wav",required:!0}),(0,g.jsxs)("div",{className:"text-sm text-gray-600",children:["Maximum file size: ",300," MB"]})]}),(0,g.jsx)("div",{className:"flex justify-center",children:(0,g.jsx)(u.A,{buttonText:"Upload"})})]}),Y&&(0,g.jsx)(h.A,{isOpen:Y,onClose:()=>{console.log("Closing success dialog"),H(!1)},points:100,message:"Well done! You're a real YeePlatform author."})]})}},48414:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var o=r(65043),a=r(77154),i=r(30064),n=r.n(i),s=r(2253),l=r(22778),c=(r(43845),r(85865)),d=r(96446),h=r(88861),u=r(10142),p=r(86032),x=r(54978),m=r(55440),g=r(63713),f=r(70579);const j=function(){const[e,t]=(0,o.useState)(null),[r,i]=(0,o.useState)(""),[j,b]=(0,o.useState)("free"),[A,v]=(0,o.useState)(!1),[w,y]=(0,o.useState)(""),[k,C]=(0,o.useState)(""),[S,N]=(0,o.useState)(!1),[E,P]=(0,o.useState)(""),[T,B]=(0,o.useState)(!1),[U,L]=(0,o.useState)(0),[D,F]=(0,o.useState)(""),[O,z]=(0,o.useState)({duration:0,url:""}),[I,W]=(0,o.useState)(null),[M,q]=(0,o.useState)(null),[R,_]=(0,o.useState)({title:"",description:"",content:"",coverimage:"",type:"Audio",author_platform_id:"",categories:[],genres:[]}),Y=s.j2.currentUser.uid;return(0,o.useEffect)((()=>{const e=()=>{S&&B(!1)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[S]),(0,f.jsxs)("div",{className:"p-8 bg-white shadow-md rounded-lg max-w-md mx-auto",children:[(0,f.jsx)(c.A,{variant:"h4",gutterBottom:!0,children:"Upload Audio Chapter"}),(0,f.jsxs)("form",{onSubmit:async r=>{r.preventDefault();try{if(!e||!I)return void n().fire({icon:"error",title:"Missing Files",text:"Please ensure all required files are selected."});if(B(!0),L(5),F("Well done! You're a real YeePlatform author."),!R.coverimage)return void n().fire({icon:"error",title:"Oops...",text:"Please provide a cover image."});if(R.title.length<3||R.title.length>100)return void n().fire("Error","Title should be between ".concat(3," and ").concat(100," characters."),"error");if(!(e=>e&&e.size<=157286400)(e))return void n().fire("Error","Audio file size should not exceed ".concat(150,"MB."),"error");if(R.categories.length<1)return void n().fire("Error","Please select at least ".concat(1," category(ies)."),"error");n().fire({title:"Uploading...",text:"Please wait while your chapter is being uploaded.",showConfirmButton:!1,allowOutsideClick:!1,onBeforeOpen:()=>{n().showLoading()}});const r=await(0,p.A)(R.coverimage),o=await(0,p.A)(R.coverimage,!0),l=await(0,p.A)(e),c=s.j2.currentUser;if(!c)return void n().fire({icon:"error",title:"Oops...",text:"No user logged in."});const d=await a.A.post("https://yeeplatformbackend.azurewebsites.net/AudioChapterupload/".concat(c.uid),{...R,content:l,duration:O.duration,author_platform_id:Y,coverimage:r,thumbnailUrl:o});console.log("Attempting to close Swal and open dialog..."),n().close(),d.data&&d.data.message?(t(null),b("free"),y(""),C(""),_({title:"",description:"",content:"",coverimage:"",type:"Audio",author_platform_id:"",categories:[],genres:[]}),i(""),console.log("Form reset, attempting to open dialog..."),N(!0),console.log("Dialog should now be open:",A)):n().fire({icon:"error",title:"Oops...",text:"Failed to save chapter details."})}catch(o){n().fire({icon:"error",title:"Oops...",text:"Error during chapter upload."})}},children:[(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)(m.A,{label:"Upload Cover Image:",onChange:async e=>{const t=e.target.files[0];if(t){if(!(e=>e.size/1024/1024<=5)(t))return void n().fire("Error","Image size should not exceed 5MB.","error");const e=await(e=>new Promise((t=>{const r=new Image;r.onload=()=>{t(512===r.width&&800===r.height)},r.src=URL.createObjectURL(e)})))(t);if(!e)return void n().fire("Error","Image dimensions should be exactly 512x800 pixels.","error");W(t);const r=await(0,x.yh)(t,256);q(r),y(t.name),i(URL.createObjectURL(t)),_({...R,coverimage:URL.createObjectURL(t)})}},fileName:w,accept:"image/*",required:!0}),r&&(0,f.jsx)(d.A,{component:"img",src:r,alt:"Cover Preview",sx:{width:"100%",height:"auto",maxWidth:"200px",marginTop:"10px"}})]}),(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Title:"}),(0,f.jsx)(h.A,{fullWidth:!0,variant:"outlined",type:"text",placeholder:"Title",value:R.title,onChange:e=>_({...R,title:e.target.value}),required:!0})]}),(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Categories:"}),(0,f.jsx)(l.A,{multiple:!0,id:"tags-outlined",options:["Fiction","Nonfiction","Science Fiction","Romance","Mystery/Thriller","Fantasy","Biography","History","Business/Economics","Self-help","Health/Fitness","Cooking/Food","Travel","Technology"],getOptionLabel:e=>e,filterSelectedOptions:!0,value:R.categories,onChange:(e,t)=>{_({...R,categories:t})},renderInput:e=>(0,f.jsx)(h.A,{...e,variant:"outlined",label:"Select Categories",placeholder:"Categories"})})]}),(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Monetization:"}),(0,f.jsxs)("select",{value:j,onChange:e=>b(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[(0,f.jsx)("option",{value:"free",children:"Free"}),(0,f.jsx)("option",{value:"notfree",children:"Not Free"})]})]}),(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description:"}),(0,f.jsx)(h.A,{fullWidth:!0,multiline:!0,rows:4,variant:"outlined",value:R.description,onChange:e=>{e.target.value.length<=500&&_({...R,description:e.target.value})},helperText:"".concat(R.description.length,"/").concat(500),required:!0})]}),(0,f.jsx)("div",{className:"mb-4",children:(0,f.jsx)(m.A,{label:"Upload Audio File:",onChange:e=>{const r=e.target.files[0];if(r){t(r),C(r.name);const e=new Audio(URL.createObjectURL(r));e.onloadedmetadata=function(){z({...O,duration:e.duration})}}},fileName:k,accept:"audio/*",required:!0})}),S&&(0,f.jsx)(u.A,{isOpen:T,onClose:()=>B(!1),points:U,message:D}),(0,f.jsx)(g.A,{buttonText:"Upload Chapter"})]})]})}},72058:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var o=r(65043),a=r(12110),i=r(36591),n=r(85865),s=r(2828),l=r(26494),c=r(90035),d=r(26600),h=r(35316),u=r(98533),p=r(29347),x=r(11906),m=r(46060),g=r(70579);const f=(0,m.A)(a.A)({maxWidth:345}),j=(0,m.A)(i.A)({height:140});const b=function(){const[e,t]=(0,o.useState)(!1),r=()=>{t(!1)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n.A,{component:"h1",variant:"h4",children:"\ud83d\udcf0 News"}),(0,g.jsx)(f,{onClick:()=>{t(!0)},children:(0,g.jsxs)(s.A,{children:[(0,g.jsx)(j,{component:"img",alt:"Logo",image:"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp",title:"Logo"}),(0,g.jsxs)(l.A,{children:[(0,g.jsx)(n.A,{gutterBottom:!0,variant:"h5",component:"div",children:"Welcome to YeePlatform!"}),(0,g.jsx)(n.A,{variant:"body2",color:"text.secondary",children:"Click here to learn more about our platform."})]})]})}),(0,g.jsxs)(c.A,{open:e,onClose:r,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,g.jsx)(d.A,{id:"scroll-dialog-title",children:"Welcome to YeePlatform!"}),(0,g.jsx)(h.A,{dividers:!0,children:(0,g.jsx)(u.A,{id:"scroll-dialog-description",tabIndex:-1,children:"YeePlatform is an innovative subscription platform for authors and readers. We aim to provide an excellent user experience, allowing authors to share their work and readers to access a diverse range of content. Our platform offers a unique way for authors to publish their eBooks and audiobooks, with a subscription model that rewards creators based on the engagement of their work. Readers can enjoy access to a vast library of content, with various genres and target audiences to suit their preferences. Join us today and become a part of the YeePlatform community!"})}),(0,g.jsx)(p.A,{children:(0,g.jsx)(x.A,{onClick:r,color:"primary",children:"Close"})})]})]})}},77069:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});r(65043);var o=r(11906),a=r(85865),i=r(68903),n=r(88861),s=r(43845),l=r(96446),c=r(46060),d=r(24858),h=r(94327),u=r(22778),p=r(70579);const x=(0,c.A)("input")({display:"none"}),m=(0,c.A)("form")((e=>{let{theme:t}=e;return{width:"100%",marginTop:t.spacing(1)}})),g=(0,c.A)(o.A)((e=>{let{theme:t}=e;return{margin:t.spacing(3,0,2)}}));const f=function(){var e,t,r,c,f,j,b;const{register:A,handleSubmit:v,control:w,formState:{errors:y}}=(0,d.mN)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.A,{variant:"h4",gutterBottom:!0,children:"Create NFT"}),(0,p.jsx)(a.A,{color:"error",variant:"subtitle1",children:"Note: This page is still in the test phase."}),(0,p.jsx)(m,{onSubmit:v((e=>{console.log(e)})),children:(0,p.jsxs)(i.Ay,{container:!0,spacing:2,children:[(0,p.jsx)(i.Ay,{item:!0,xs:12,children:(0,p.jsx)(n.A,{fullWidth:!0,label:"Number of Shares",variant:"outlined",type:"number",...A("shares",{required:"Please enter the number of shares"}),error:!!y.shares,helperText:null===(e=y.shares)||void 0===e?void 0:e.message})}),(0,p.jsx)(i.Ay,{item:!0,xs:12,children:(0,p.jsx)(n.A,{fullWidth:!0,label:"Share Price (in ETH)",variant:"outlined",type:"number",...A("sharePrice",{required:"Please enter the share price in ETH"}),error:!!y.sharePrice,helperText:null===(t=y.sharePrice)||void 0===t?void 0:t.message})}),(0,p.jsx)(i.Ay,{item:!0,xs:12,children:(0,p.jsx)(n.A,{fullWidth:!0,label:"Book Title",variant:"outlined",...A("title",{required:"Please enter the book title"}),error:!!y.title,helperText:null===(r=y.title)||void 0===r?void 0:r.message})}),(0,p.jsx)(i.Ay,{item:!0,xs:12,children:(0,p.jsx)(n.A,{fullWidth:!0,label:"Book Subtitle",variant:"outlined",...A("subtitle"),error:!!y.subtitle,helperText:null===(c=y.subtitle)||void 0===c?void 0:c.message})}),(0,p.jsx)(i.Ay,{item:!0,xs:12,children:(0,p.jsx)(n.A,{fullWidth:!0,multiline:!0,rows:4,label:"Book Description",variant:"outlined",...A("description",{required:"Please enter the book description"}),error:!!y.description,helperText:null===(f=y.description)||void 0===f?void 0:f.message})}),(0,p.jsx)(i.Ay,{item:!0,xs:12,children:(0,p.jsx)(u.A,{multiple:!0,options:["Fiction","Nonfiction","Science Fiction","Romance","Mystery/Thriller","Fantasy","Biography","History","Business/Economics","Self-help","Health/Fitness","Cooking/Food","Travel","Technology"],getOptionLabel:e=>e,renderTags:(e,t)=>e.map(((e,r)=>(0,p.jsx)(s.A,{label:e,...t({index:r}),disabled:!0},r))),renderInput:e=>{var t;return(0,p.jsx)(n.A,{...e,label:"Categories",variant:"outlined",fullWidth:!0,helperText:null===(t=y.categories)||void 0===t?void 0:t.message,error:!!y.categories})},control:w,name:"categories",rules:{required:"Please select at least one category"}})}),(0,p.jsx)(i.Ay,{item:!0,xs:12,children:(0,p.jsx)(u.A,{multiple:!0,options:["Children","Young Adult","Adult","Senior"],getOptionLabel:e=>e,renderTags:(e,t)=>e.map(((e,r)=>(0,p.jsx)(s.A,{label:e,...t({index:r}),disabled:!0},r))),renderInput:e=>{var t;return(0,p.jsx)(n.A,{...e,label:"Target Audiences",variant:"outlined",fullWidth:!0,helperText:null===(t=y.targetAudiences)||void 0===t?void 0:t.message,error:!!y.targetAudiences})},control:w,name:"targetAudiences",rules:{required:"Please select at least one target audience"}})}),(0,p.jsx)(i.Ay,{item:!0,xs:12,children:(0,p.jsx)(n.A,{fullWidth:!0,label:"Publication Date (if published)",type:"date",variant:"outlined",InputLabelProps:{shrink:!0},...A("publicationDate"),error:!!y.publicationDate,helperText:null===(j=y.publicationDate)||void 0===j?void 0:j.message})}),(0,p.jsx)(i.Ay,{item:!0,xs:12,children:(0,p.jsx)(n.A,{fullWidth:!0,label:"ISBN (if applicable)",variant:"outlined",...A("isbn"),error:!!y.isbn,helperText:null===(b=y.isbn)||void 0===b?void 0:b.message})}),(0,p.jsxs)(i.Ay,{item:!0,xs:12,children:[(0,p.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Upload Cover Image (JPG, PNG)"}),(0,p.jsx)(x,{accept:"image/jpeg, image/png",id:"cover-image",type:"file",...A("coverImage",{required:"Please upload a cover image in JPG or PNG format"})}),(0,p.jsx)("label",{htmlFor:"cover-image",children:(0,p.jsx)(o.A,{component:"span",variant:"outlined",startIcon:(0,p.jsx)(h.A,{}),children:"Upload Cover Image"})}),y.coverImage&&(0,p.jsx)(l.A,{mt:1,children:(0,p.jsx)(a.A,{variant:"caption",color:"error",children:y.coverImage.message})})]}),(0,p.jsxs)(i.Ay,{item:!0,xs:12,children:[(0,p.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Upload Back Image (JPG, PNG)"}),(0,p.jsx)(x,{accept:"image/jpeg, image/png",id:"back-image",type:"file",...A("backImage",{required:"Please upload a back image in JPG or PNG format"})}),(0,p.jsx)("label",{htmlFor:"back-image",children:(0,p.jsx)(o.A,{component:"span",variant:"outlined",startIcon:(0,p.jsx)(h.A,{}),children:"Upload Back Image"})}),y.backImage&&(0,p.jsx)(l.A,{mt:1,children:(0,p.jsx)(a.A,{variant:"caption",color:"error",children:y.backImage.message})})]}),(0,p.jsxs)(i.Ay,{item:!0,xs:12,children:[(0,p.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Upload Ebook (PDF format)"}),(0,p.jsx)(x,{accept:".pdf",id:"ebook-pdf",type:"file",...A("ebookPdf",{required:"Please upload the ebook in PDF format"})}),(0,p.jsx)("label",{htmlFor:"ebook-pdf",children:(0,p.jsx)(o.A,{component:"span",variant:"outlined",startIcon:(0,p.jsx)(h.A,{}),children:"Upload Ebook PDF"})}),y.ebookPdf&&(0,p.jsx)(l.A,{mt:1,children:(0,p.jsx)(a.A,{variant:"caption",color:"error",children:y.ebookPdf.message})})]}),(0,p.jsx)(i.Ay,{item:!0,xs:12,children:(0,p.jsx)(g,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"Submit"})})]})})]})}},7144:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var o=r(65043),a=r(30064),i=r.n(a),n=(r(21785),r(77154)),s=r(2253),l=r(70360),c=r(35016),d=r(70579);function h(){var e,t,r;const{user:a}=(0,o.useContext)(c.cy),[h,u]=(0,o.useState)({}),[p,x]=(0,o.useState)(!1);(0,o.useEffect)((()=>{x(a.providerData&&"google.com"===a.providerData[0].providerId)}),[a]);(0,o.useEffect)((()=>{const e=s.j2.currentUser.uid;n.A.get("https://yeeplatformbackend.azurewebsites.net/userDetails/".concat(e)).then((e=>{const t=e.data;u(t)})).catch((e=>{console.error("Error fetching user data:",e)}))}),[]);return(0,d.jsxs)("div",{className:"p-8 space-y-4",children:[(0,d.jsx)("h1",{className:"text-xl font-semibold",children:"Author Profile"}),(0,d.jsxs)("div",{className:"flex items-center justify-center space-x-4 relative",children:[(0,d.jsx)("img",{alt:"Profile Picture",src:h.profileImage||"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp",className:"w-32 h-32 rounded-full"}),(0,d.jsx)("input",{type:"file",id:"profilePic",className:"hidden",accept:"image/*",onChange:async e=>{if(0===e.target.files.length)return;i().fire({title:"Uploading...",text:"Your image is being uploaded. Please wait...",allowOutsideClick:!1,didOpen:()=>{i().showLoading()}});const t=new FormData;t.append("image",e.target.files[0]);const r=s.j2.currentUser.uid;try{var o;const e=await n.A.post("https://yeeplatformbackend.azurewebsites.net/userprofilestore/".concat(r),t);if(null===(o=e.data)||void 0===o||!o.imageUrl)throw new Error("Image upload failed");u((t=>({...t,profileImage:e.data.imageUrl}))),i().fire("Success","Image uploaded successfully!","success")}catch(a){i().fire("Oops...","Error uploading the image!","error")}}}),(0,d.jsx)("label",{htmlFor:"profilePic",className:"cursor-pointer absolute bottom-2 right-2 bg-gray-600 bg-opacity-50 rounded-full p-2",children:"\ud83d\udcf7"})]}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Name",value:h.username||"",onChange:e=>u((t=>({...t,username:e.target.value})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Age",value:h.age||"",onChange:e=>u((t=>({...t,age:e.target.value})))}),(0,d.jsx)("textarea",{className:"w-full p-2 border rounded-md",placeholder:"Bio",value:h.bio||"",onChange:e=>u((t=>({...t,bio:e.target.value})))}),(0,d.jsxs)("select",{className:"w-full p-2 border rounded-md",value:h.country||"",onChange:e=>u((t=>({...t,country:e.target.value}))),children:[(0,d.jsx)("option",{value:"",children:"Select a country"}),l.X.map((e=>(0,d.jsx)("option",{value:e,children:e},e)))]}),!p&&(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Email",value:h.email||"",readOnly:!0}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Phone",value:h.phone||"",onChange:e=>u((t=>({...t,phone:e.target.value})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Twitter",value:(null===(e=h.socialLinks)||void 0===e?void 0:e.twitter)||"",onChange:e=>u((t=>({...t,socialLinks:{...t.socialLinks,twitter:e.target.value}})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Instagram",value:(null===(t=h.socialLinks)||void 0===t?void 0:t.instagram)||"",onChange:e=>u((t=>({...t,socialLinks:{...t.socialLinks,instagram:e.target.value}})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Facebook",value:(null===(r=h.socialLinks)||void 0===r?void 0:r.facebook)||"",onChange:e=>u((t=>({...t,socialLinks:{...t.socialLinks,facebook:e.target.value}})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Email",value:h.email||"",readOnly:!0}),(0,d.jsx)("button",{className:"w-full p-2 mt-4 text-white bg-blue-500 rounded-md",onClick:async()=>{i().fire({title:"Updating...",text:"Your profile is being updated. Please wait...",allowOutsideClick:!1,didOpen:()=>{i().showLoading()}});const e=s.j2.currentUser.uid;try{const t=await n.A.put("https://yeeplatformbackend.azurewebsites.net/updateaccountinfo/".concat(e),h);if(!t.data.success||"User data updated successfully"!==t.data.message)throw new Error("Profile update failed");i().fire("Success","Profile updated successfully!","success")}catch(t){i().fire("Oops...","Error updating your profile!","error")}},children:"Update Profile"}),!p&&(0,d.jsx)("button",{className:"w-full p-2 mt-2 text-white bg-yellow-500 rounded-md",onClick:()=>{i().fire("Change Email","Email change functionality will be implemented soon.","info")},children:"Change Email"})]})}},20758:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});r(65043);var o=r(50108),a=r(75748),i=r(87734),n=r(52185),s=r(6026),l=r(86150),c=r(21327),d=r(90168),h=r(82291),u=r(58763),p=r(19252),x=r(85865),m=r(68903),g=r(96446),f=r(70579);const j=[],b=[];const A=function(){return(0,f.jsxs)(p.A,{children:[(0,f.jsx)(x.A,{variant:"h4",gutterBottom:!0,children:"Author Statistics"}),(0,f.jsxs)(m.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(m.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(x.A,{variant:"h6",gutterBottom:!0,children:"Total monthly earnings"}),(0,f.jsx)(o.u,{width:"100%",height:300,children:(0,f.jsxs)(a.b,{data:b,children:[(0,f.jsx)(i.d,{strokeDasharray:"3 3"}),(0,f.jsx)(n.W,{dataKey:"month"}),(0,f.jsx)(s.h,{}),(0,f.jsx)(l.m,{}),(0,f.jsx)(c.s,{}),(0,f.jsx)(d.N,{type:"monotone",dataKey:"earnings",stroke:"#8884d8",activeDot:{r:8}})]})})]}),(0,f.jsxs)(m.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(x.A,{variant:"h6",gutterBottom:!0,children:"Readers vs. Listeners"}),(0,f.jsx)(o.u,{width:"100%",height:300,children:(0,f.jsxs)(h.E,{data:j,children:[(0,f.jsx)(i.d,{strokeDasharray:"3 3"}),(0,f.jsx)(n.W,{dataKey:"content"}),(0,f.jsx)(s.h,{}),(0,f.jsx)(l.m,{}),(0,f.jsx)(c.s,{}),(0,f.jsx)(u.y,{dataKey:"readers",fill:"#8884d8"}),(0,f.jsx)(u.y,{dataKey:"listeners",fill:"#82ca9d"})]})})]}),(0,f.jsxs)(m.Ay,{item:!0,xs:12,sm:4,children:[(0,f.jsx)(x.A,{variant:"h6",gutterBottom:!0,children:"Number of eBooks"}),(0,f.jsx)(g.A,{fontWeight:"fontWeightBold",fontSize:"h4.fontSize",children:"0"})]}),(0,f.jsxs)(m.Ay,{item:!0,xs:12,sm:4,children:[(0,f.jsx)(x.A,{variant:"h6",gutterBottom:!0,children:"Number of Audiobooks"}),(0,f.jsx)(g.A,{fontWeight:"fontWeightBold",fontSize:"h4.fontSize",children:"0"})]}),(0,f.jsxs)(m.Ay,{item:!0,xs:12,sm:4,children:[(0,f.jsx)(x.A,{variant:"h6",gutterBottom:!0,children:"Total Earnings"}),(0,f.jsx)(g.A,{fontWeight:"fontWeightBold",fontSize:"h4.fontSize",children:"$0"})]})]})]})}},75750:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});r(65043);var o=r(85865),a=r(11906),i=r(61430),n=r(37402),s=r(70579);function l(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{children:"\n          @keyframes yellowBubbles {\n            0% {\n              background-position: 0% 50%;\n            }\n            50% {\n              background-position: 100% 50%;\n            }\n            100% {\n              background-position: 0% 50%;\n            }\n          }\n\n          .yellowBubblesAnimation {\n            background: radial-gradient(circle, rgba(255,255,224,1) 0%, rgba(255,255,224,0) 70%);\n            background-size: 200% 200%;\n            animation: yellowBubbles 5s ease infinite;\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n          }\n        "}),(0,s.jsx)("div",{className:"yellowBubblesAnimation"}),(0,s.jsx)(o.A,{component:"h1",variant:"h5",children:"Support"}),(0,s.jsx)(a.A,{variant:"contained",color:"primary",startIcon:(0,s.jsx)(i.A,{}),onClick:()=>{window.open("https://wa.me/256784906354","_blank")},sx:{mt:2},children:"Contact via WhatsApp"}),(0,s.jsx)(a.A,{variant:"outlined",color:"primary",startIcon:(0,s.jsx)(n.A,{}),onClick:()=>{window.location.href="mailto:nkugwamarkwilliam@gmail.com"},sx:{mt:2,ml:2},children:"Contact via Email"})]})}},69466:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var o=r(65043),a=r(30064),i=r.n(a),n=r(45812),s=r(85865),l=r(22778),c=r(88861),d=r(55440),h=r(63713),u=r(10142),p=r(54978),x=r(86032),m=r(70579);const g=()=>{var e;const[t,r]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=()=>{t&&r(!1)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[t]);const[a,g]=(0,o.useState)(""),[f,j]=(0,o.useState)(""),[b,A]=(0,o.useState)(""),[v,w]=(0,o.useState)(null),[y,k]=(0,o.useState)(""),[C,S]=(0,o.useState)(!1),[N,E]=(0,o.useState)([]),[P,T]=(0,o.useState)(""),[B,U]=(0,o.useState)(null),L=e=>new Promise((t=>{const r=new Image;r.onload=()=>{t(512===r.width&&800===r.height)},r.src=URL.createObjectURL(e)})),D=null===(e=(0,n.xI)().currentUser)||void 0===e?void 0:e.uid;return(0,m.jsxs)("div",{className:"p-8 bg-white shadow-md rounded-lg max-w-md mx-auto",children:[(0,m.jsx)(s.A,{variant:"h4",className:"text-center mb-6",children:"Upload a Chapter"}),(0,m.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a.length<5||f.length<20||b.length<100)return void i().fire("Error!","Please ensure all fields meet the minimum length requirements.","error");i().fire({title:"Uploading...",text:"Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,showConfirmButton:!1,onBeforeOpen:()=>{i().showLoading()}});let t="";if(B)try{const e=await(0,p.yh)(v,256);t=await(0,x.A)(e,!0)}catch(n){return console.error("Error resizing image:",n),void i().fire("Error","Failed to resize the image.","error")}const o=new FormData;o.append("title",a),o.append("description",f),o.append("content",b),o.append("type","Text"),o.append("author_platform_id",D),o.append("categories",N.join(", ")),o.append("thumbnailUrl",t),v&&o.append("coverimage",v);try{const e=await fetch("https://yeeplatformbackend.azurewebsites.net/uploadchapter/".concat(D),{method:"POST",body:o}),t=await e.text();if(console.log("Response Status:",e.status),console.log("Response Body:",t),i().close(),!e.ok)throw new Error("Error uploading chapter");JSON.parse(t);r(!0),g(""),j(""),A(""),w(null),k(""),T(""),E([])}catch(n){i().close(),i().fire("Error!",n.message,"error")}},children:[(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{htmlFor:"title",className:"block text-gray-700 text-sm font-bold mb-2",children:"Title"}),(0,m.jsx)("input",{type:"text",id:"title",className:"w-full p-2 border rounded",value:a,onChange:e=>g(e.target.value),required:!0}),(0,m.jsxs)("p",{className:"text-right text-xs",children:[a.length,"/",100]})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{htmlFor:"description",className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),(0,m.jsx)("textarea",{id:"description",className:"w-full p-2 border rounded",value:f,onChange:e=>j(e.target.value),required:!0}),(0,m.jsxs)("p",{className:"text-right text-xs",children:[f.length,"/",500]})]}),(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsx)(l.A,{multiple:!0,options:["Fiction","Nonfiction","Science Fiction","Romance","Mystery/Thriller","Fantasy","Biography","History","Business/Economics","Self-help","Health/Fitness","Cooking/Food","Travel","Technology"],getOptionLabel:e=>e,filterSelectedOptions:!0,value:N,onChange:(e,t)=>E(t),renderInput:e=>(0,m.jsx)(c.A,{...e,variant:"outlined",label:"Categories",placeholder:"Select Categories"})})}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{htmlFor:"content",className:"block text-gray-700 text-sm font-bold mb-2",children:"Content"}),(0,m.jsx)("textarea",{id:"content",rows:"10",className:"w-full p-2 border rounded",value:b,onChange:e=>A(e.target.value),required:!0}),(0,m.jsxs)("p",{className:"text-right text-xs",children:[b.length,"/",1e4]})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)(d.A,{onChange:async e=>{const t=e.target.files[0];if(t){if(!(0,p.S1)(t,.001,5))return void i().fire("Error","Image size should not exceed 5MB.","error");if(!await L(t,512,800))return void i().fire("Error","Invalid image dimensions.","error");try{w(t),k(t.name),T(URL.createObjectURL(t))}catch(r){console.error("Error resizing image:",r),i().fire("Error","Failed to resize the image.","error")}}},fileName:y,accept:".jpg, .jpeg, .png",label:"Upload Cover Image (Max size: ".concat(5,"MB)")}),P&&(0,m.jsx)("img",{src:P,alt:"Cover Preview",className:"mt-4 w-full h-auto"})]}),(0,m.jsx)("div",{className:"flex justify-center",children:(0,m.jsx)(h.A,{buttonText:"Upload"})})]}),t&&(0,m.jsx)(u.A,{isOpen:t,onClose:()=>r(!1),points:5,message:"Well done! You're a real YeePlatform author."})]})}},38168:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var o=r(65043),a=r(85865),i=r(79650),n=r(63336),s=r(71806),l=r(84882),c=r(28076),d=r(10039),h=r(73460),u=r(11906),p=r(90035),x=r(26600),m=r(35316),g=r(98533),f=r(88861),j=r(29347),b=r(2253),A=r(30064),v=r.n(A),w=r(70579);const y=()=>{const[e,t]=(0,o.useState)([]),[r,A]=(0,o.useState)(!1),[y,k]=(0,o.useState)(""),[C,S]=(0,o.useState)(""),N=async()=>{v().showLoading();try{const e=await fetch("https://yeeplatformbackend.azurewebsites.net/getauthoraudios?userId=".concat(b.j2.currentUser.uid));if(!e.ok)throw new Error("Error fetching audiobooks: ".concat(e.statusText));{const r=await e.json();t(r)}}catch(e){console.error("Error fetching audiobooks:",e)}finally{v().close()}};(0,o.useEffect)((()=>{N()}),[]);const E=()=>{A(!1)};return(0,w.jsxs)("div",{children:[(0,w.jsx)(a.A,{variant:"h4",component:"h2",children:"My Audio books"}),(0,w.jsxs)(i.A,{component:n.A,children:[(0,w.jsxs)(s.A,{children:[(0,w.jsx)(l.A,{children:(0,w.jsxs)(c.A,{children:[(0,w.jsx)(d.A,{children:"Title"}),(0,w.jsx)(d.A,{children:"Published On"}),(0,w.jsx)(d.A,{children:"Description"}),(0,w.jsx)(d.A,{children:"Duration"}),(0,w.jsx)(d.A,{children:"Actions"})]})}),(0,w.jsx)(h.A,{children:e.map((e=>(0,w.jsxs)(c.A,{children:[(0,w.jsx)(d.A,{children:e.title}),(0,w.jsx)(d.A,{children:e.publishedDate}),(0,w.jsx)(d.A,{children:e.description}),(0,w.jsx)(d.A,{children:e.duration}),(0,w.jsxs)(d.A,{children:[(0,w.jsx)(u.A,{onClick:()=>{return t=e.description,r=e._id,k(t),S(r),void A(!0);var t,r},children:"Edit"}),(0,w.jsx)(u.A,{onClick:()=>(async e=>{v().fire({title:"Are you sure?",text:"This will permanently delete the audiobook.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async r=>{if(r.isConfirmed)try{v().showLoading();const r=await fetch("https://yeeplatformbackend.azurewebsites.net/deleteAudiobook/".concat(e),{method:"DELETE"});if(!r.ok)throw new Error("Failed to delete the book: ".concat(r.statusText));t((t=>t.filter((t=>t._id!==e)))),v().fire("Deleted!","The audiobook has been deleted.","success"),N()}catch(o){v().fire("Oops...","Something went wrong while deleting the book!","error")}finally{v().close(),E()}}))})(e._id),children:"Delete"})]})]},e._id)))})]}),0===e.length&&(0,w.jsx)(a.A,{variant:"h6",style:{textAlign:"center",padding:"20px",color:"grey"},children:"No data available."})]}),(0,w.jsxs)(p.A,{open:r,onClose:E,children:[(0,w.jsx)(x.A,{children:"Edit Audiobook Description"}),(0,w.jsxs)(m.A,{children:[(0,w.jsx)(g.A,{children:"Please edit the description of the selected audiobook."}),(0,w.jsx)(f.A,{autoFocus:!0,margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,value:y,onChange:e=>k(e.target.value)})]}),(0,w.jsxs)(j.A,{children:[(0,w.jsx)(u.A,{onClick:E,children:"Cancel"}),(0,w.jsx)(u.A,{onClick:async()=>{try{v().showLoading();const e=await fetch("https://yeeplatformbackend.azurewebsites.net/updateABD",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:C,description:y})});if(!e.ok)throw new Error("Failed to update the description: ".concat(e.statusText));{const r=await e.json();t((e=>e.map((e=>e._id===C?r:e)))),A(!1),N()}}catch(e){v().fire("Oops...","Something went wrong while updating the description!","error")}finally{v().close(),E()}},children:"Save"})]})]})]})}},41381:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var o=r(65043),a=r(85865),i=r(79650),n=r(63336),s=r(71806),l=r(84882),c=r(28076),d=r(10039),h=r(73460),u=r(11906),p=r(90035),x=r(26600),m=r(35316),g=r(98533),f=r(88861),j=r(29347),b=r(2253),A=r(30064),v=r.n(A),w=r(70579);const y=()=>{const[e,t]=(0,o.useState)([]),[r,A]=(0,o.useState)(!1),[y,k]=(0,o.useState)(""),[C,S]=(0,o.useState)([]),[N,E]=(0,o.useState)(null),[P,T]=(0,o.useState)(null),[B,U]=(0,o.useState)(""),[L,D]=(0,o.useState)(!1),[F,O]=(0,o.useState)(""),z=async()=>{const e=b.j2.currentUser;if(e)try{const r=await fetch("https://yeeplatformbackend.azurewebsites.net/getauthorchapter/".concat(e.uid));if(!r.ok){const e=await r.json();throw new Error(e.message||"An error occurred while fetching the chapters.")}const o=await r.json();t(o),k("")}catch(y){console.error("Error fetching text chapters:",y),k(y.toString()),t([])}else k("No user found in auth.")},I=async()=>{const e=b.j2.currentUser;if(e)try{const t=await fetch("https://yeeplatformbackend.azurewebsites.net/getAudioChapters/".concat(e.uid));if(!t.ok){const e=await t.json();throw new Error(e.message||"An error occurred while fetching the audio chapters.")}const r=await t.json();S(r),k("")}catch(y){console.error("Error fetching audio chapters:",y),k(y.toString()),S([])}else k("No user found in auth.")},W=()=>{z(),I()};(0,o.useEffect)((()=>{z(),I()}),[]);const M=()=>{A(!1)},q=async function(r){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async a=>{if(a.isConfirmed){v().showLoading();try{const a=o?"https://yeeplatformbackend.azurewebsites.net/deleteaudiochapter/".concat(r):"https://yeeplatformbackend.azurewebsites.net/deletechapter/".concat(r);if(!(await fetch(a,{method:"DELETE"})).ok)throw new Error("Failed to delete the chapter.");W(),o?S(C.filter((e=>e.id!==r))):t(e.filter((e=>e.id!==r))),v().hideLoading(),v().fire("Deleted!","Your file has been deleted.","success")}catch(y){v().hideLoading(),v().fire("Error!","There was an issue deleting your chapter.","error"),console.error("Error deleting chapter:",y)}}}))};return(0,w.jsxs)("div",{children:[(0,w.jsx)(a.A,{variant:"h4",component:"h2",children:"My Chapters"}),(0,w.jsx)(i.A,{component:n.A,children:(0,w.jsxs)(s.A,{children:[(0,w.jsx)(l.A,{children:(0,w.jsxs)(c.A,{children:[(0,w.jsx)(d.A,{children:"Book Title"}),(0,w.jsx)(d.A,{children:"Description"}),(0,w.jsx)(d.A,{children:"Actions"})]})}),(0,w.jsx)(h.A,{children:e.map((e=>(0,w.jsxs)(c.A,{children:[(0,w.jsx)(d.A,{children:e.title}),(0,w.jsx)(d.A,{children:e.description}),(0,w.jsxs)(d.A,{children:[(0,w.jsx)(u.A,{onClick:()=>((e,t)=>{console.log("Opening chapter for edit:",e),E(e),U(t),A(!0)})(e,e._id),children:"Edit"}),(0,w.jsx)(u.A,{onClick:()=>q(e._id),children:"Delete"})]})]},e._id)))}),0===e.length&&(0,w.jsx)(a.A,{variant:"h6",style:{textAlign:"center",padding:"20px",color:"grey"},children:"No data available."})]})}),(0,w.jsx)(a.A,{variant:"h4",component:"h2",style:{marginTop:"20px"},children:"My Audio Chapters"}),(0,w.jsxs)(i.A,{component:n.A,children:[(0,w.jsxs)(s.A,{children:[(0,w.jsx)(l.A,{children:(0,w.jsxs)(c.A,{children:[(0,w.jsx)(d.A,{children:"Book Title"}),(0,w.jsx)(d.A,{children:"Duration"}),(0,w.jsx)(d.A,{children:"Description"}),(0,w.jsx)(d.A,{children:"Audio File"}),(0,w.jsx)(d.A,{children:"Actions"})]})}),(0,w.jsx)(h.A,{children:C.map((e=>(0,w.jsxs)(c.A,{children:[(0,w.jsx)(d.A,{children:e.title}),(0,w.jsx)(d.A,{children:e.duration}),(0,w.jsx)(d.A,{children:e.description}),(0,w.jsx)(d.A,{children:(0,w.jsxs)("audio",{controls:!0,onError:e=>console.log("Error playing audio:",e),children:[(0,w.jsx)("source",{src:e.content,type:"audio/mpeg"}),"Your browser does not support the audio element."]})}),(0,w.jsxs)(d.A,{children:[(0,w.jsx)(u.A,{onClick:()=>{return t=e,r=e._id,T(t),O(r),void D(!0);var t,r},children:"Edit"}),(0,w.jsx)(u.A,{onClick:()=>q(e._id,!0),children:"Delete"})]})]},e._id)))})]}),0===C.length&&(0,w.jsx)(a.A,{variant:"h6",style:{textAlign:"center",padding:"20px",color:"grey"},children:"No audio data available."})]}),(0,w.jsxs)(p.A,{open:r,onClose:M,children:[(0,w.jsx)(x.A,{children:"Edit Chapter"}),(0,w.jsxs)(m.A,{children:[(0,w.jsx)(g.A,{children:"Please edit the chapter information."}),(0,w.jsx)(f.A,{margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,multiline:!0,rows:10,value:(null===N||void 0===N?void 0:N.description)||"",onChange:e=>{E({...N,description:e.target.value})}})]}),(0,w.jsxs)(j.A,{children:[(0,w.jsx)(u.A,{onClick:M,children:"Cancel"}),(0,w.jsx)(u.A,{onClick:async()=>{v().fire({title:"Saving chapter...",onBeforeOpen:()=>{v().showLoading()},allowOutsideClick:()=>!v().isLoading()});try{if(!(await fetch("https://yeeplatformbackend.azurewebsites.net/updatechapter/".concat(B),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).ok)throw new Error("Failed to update the chapter.");A(!1),v().fire("Success","Chapter updated successfully","success"),W()}catch(y){console.error("Error updating chapter:",y),v().fire("Error","There was a problem saving the chapter","error")}},children:"Save"})]})]}),(0,w.jsxs)(p.A,{open:L,onClose:()=>D(!1),children:[(0,w.jsx)(x.A,{children:"Edit Audio Chapter"}),(0,w.jsx)(m.A,{children:(0,w.jsx)(f.A,{margin:"dense",id:"description",label:"Description",multiline:!0,rows:4,type:"text",fullWidth:!0,value:(null===P||void 0===P?void 0:P.description)||"",onChange:e=>((e,t)=>{T({...P,[t]:e.target.value})})(e,"description")})}),(0,w.jsxs)(j.A,{children:[(0,w.jsx)(u.A,{onClick:()=>D(!1),children:"Cancel"}),(0,w.jsx)(u.A,{onClick:async()=>{v().fire({title:"Saving Audio Chapter...",didOpen:()=>{v().showLoading()}});try{const e={description:P.description},t=await fetch("https://yeeplatformbackend.azurewebsites.net/updateAudioChapter/".concat(F),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to update the audio chapter.")}D(!1),v().fire("Success!","Audio chapter updated successfully.","success"),W()}catch(y){v().fire("Error!","There was an issue saving your audio chapter: ".concat(y.message),"error"),console.error("Error updating audio chapter:",y)}},children:"Save"})]})]})]})}},63869:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var o=r(65043),a=r(85865),i=r(79650),n=r(63336),s=r(71806),l=r(84882),c=r(28076),d=r(10039),h=r(73460),u=r(11906),p=r(90035),x=r(26600),m=r(35316),g=r(98533),f=r(88861),j=r(29347),b=r(30064),A=r.n(b),v=r(2253),w=r(70579);const y=()=>{const[e,t]=(0,o.useState)([]),[r,b]=(0,o.useState)(!1),[y,k]=(0,o.useState)(""),[C,S]=(0,o.useState)(""),N=async()=>{try{A().showLoading();const e=v.j2.currentUser.uid;console.log("here is the author id"+e);const r=await fetch("https://yeeplatformbackend.azurewebsites.net/getAllBooks/".concat(e)),o=await r.json();t(o),A().close()}catch(e){A().fire({icon:"error",title:"Oops...",text:"Something went wrong while fetching books!"})}};(0,o.useEffect)((()=>{N()}),[]);const E=()=>{b(!1)},P=async e=>{try{A().showLoading();if(200!==(await fetch("https://yeeplatformbackend.azurewebsites.net/deleteBook/".concat(e),{method:"DELETE"})).status)throw new Error("Failed to delete the book.");t((t=>t.filter((t=>t.id!==e)))),A().close()}catch(r){A().fire({icon:"error",title:"Oops...",text:"Something went wrong while deleting the book!"})}};return(0,w.jsxs)("div",{children:[(0,w.jsx)(a.A,{variant:"h4",component:"h2",children:"My Books"}),(0,w.jsxs)(i.A,{component:n.A,children:[(0,w.jsxs)(s.A,{children:[(0,w.jsx)(l.A,{children:(0,w.jsxs)(c.A,{children:[(0,w.jsx)(d.A,{children:"Title"}),(0,w.jsx)(d.A,{children:"Subtitle"}),(0,w.jsx)(d.A,{children:"Description"}),(0,w.jsx)(d.A,{children:"Publication Date"}),(0,w.jsx)(d.A,{children:"Actions"})]})}),(0,w.jsx)(h.A,{children:e.map((e=>(0,w.jsxs)(c.A,{children:[(0,w.jsx)(d.A,{children:e.title}),(0,w.jsx)(d.A,{children:e.subtitle}),(0,w.jsx)(d.A,{children:e.description}),(0,w.jsx)(d.A,{children:e.publishedDate}),(0,w.jsxs)(d.A,{children:[(0,w.jsx)(u.A,{onClick:()=>{return t=e.description,r=e._id,k(t),S(r),void b(!0);var t,r},children:"Edit"}),(0,w.jsx)(u.A,{onClick:()=>(e=>{A().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async t=>{t.isConfirmed&&(await P(e._id),N(),A().fire("Deleted!","Your book has been deleted.","success"))}))})(e),children:"Delete"})]})]},e._id)))})]}),0===e.length&&(0,w.jsx)(a.A,{variant:"h6",style:{textAlign:"center",padding:"20px",color:"grey"},children:"No data available."})]}),(0,w.jsxs)(p.A,{open:r,onClose:E,children:[(0,w.jsx)(x.A,{children:"Edit Book Description"}),(0,w.jsxs)(m.A,{children:[(0,w.jsx)(g.A,{children:"Please edit the description of the selected book."}),(0,w.jsx)(f.A,{autoFocus:!0,margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,value:y,onChange:e=>k(e.target.value)})]}),(0,w.jsxs)(j.A,{children:[(0,w.jsx)(u.A,{onClick:E,children:"Cancel"}),(0,w.jsx)(u.A,{onClick:async()=>{try{A().showLoading(),console.log("Here is book id "+C);if(200!==(await fetch("https://yeeplatformbackend.azurewebsites.net/updateDescription",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:C,description:y})})).status)throw new Error("Failed to update the description.");t((e=>e.map((e=>e.id===C?{...e,description:y}:e)))),b(!1),A().close()}catch(e){A().fire({icon:"error",title:"Oops...",text:"Something went wrong while updating the description!"})}},children:"Save"})]})]})]})}},70360:(e,t,r)=>{r.d(t,{X:()=>o});const o=["Algeria","Angola","Benin","Botswana","Burkina Faso","Burundi","Cabo Verde","Cameroon","Central African Republic","Chad","Comoros","Democratic Republic of the Congo","Republic of the Congo","Cote d'Ivoire","Djibouti","Egypt","Equatorial Guinea","Eritrea","Eswatini","Ethiopia","Gabon","Gambia","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Libya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Morocco","Mozambique","Namibia","Niger","Nigeria","Rwanda","Sao Tome and Principe","Senegal","Seychelles","Sierra Leone","Somalia","South Africa","South Sudan","Sudan","Tanzania","Togo","Tunisia","Uganda","Zambia","Zimbabwe"]},88153:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ne});var o=r(65043),a=r(96446),i=r(94109),n=r(55263),s=r(72058),l=r(1888),c=r(75750),d=r(20758),h=r(69466),u=r(48414),p=r(77069),x=r(7144),m=r(72191),g=r(88279),f=r(45969),j=r(92314),b=r(17392),A=r(32994),v=r(95622),w=r(63336),y=r(50044),k=r(86328),C=r(30922),S=r(32143),N=r(55376),E=r(89611),P=r(69804),T=r(70579);function B(e){const[t,r]=o.useState(!1),i=o.useRef(null),s=e=>{i.current&&i.current.contains(e.target)||r(!1)};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(N.Ay,{}),(0,T.jsx)(j.A,{position:"fixed",sx:{width:{md:"calc(100% - ".concat(e.drawerWidth,"px)")},ml:{md:"".concat(e.drawerWidth,"px")},bgcolor:"success.main"},children:(0,T.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,T.jsx)(b.A,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:e.handleDrawerToggle,sx:{mr:2,display:{md:"none"}},children:(0,T.jsx)(E.A,{})}),(0,T.jsx)(a.A,{sx:{flexGrow:1}}),e.width<830?(0,T.jsx)(b.A,{class:" ml-12 ",size:"large",color:"inherit",ref:i,id:"composition-button","aria-controls":t?"composition-menu":void 0,"aria-expanded":t?"true":void 0,"aria-haspopup":"true",onClick:()=>{r((e=>!e))},children:(0,T.jsx)(A.A,{sx:{fontSize:30}})}):(0,T.jsx)(P.A,{}),(0,T.jsx)("div",{children:(0,T.jsx)(v.A,{open:t,anchorEl:i.current,role:void 0,placement:"bottom-start",transition:!0,disablePortal:!0,children:e=>{let{TransitionProps:r,placement:o}=e;return(0,T.jsx)(k.A,{...r,style:{transformOrigin:"bottom-start"===o?"left top":"left bottom"},children:(0,T.jsx)(w.A,{children:(0,T.jsx)(y.x,{onClickAway:s,children:(0,T.jsxs)(C.A,{autoFocusItem:t,id:"composition-menu","aria-labelledby":"composition-button",onKeyDown:s,children:[(0,T.jsx)(S.A,{onClick:s,children:"Home"}),(0,T.jsx)(S.A,{onClick:s,children:"Premium"}),(0,T.jsx)(S.A,{onClick:s,children:"Support"}),(0,T.jsx)(S.A,{onClick:s,children:"Download"})]})})})})}})})]})})]})}var U=r(63869),L=r(41381),D=r(38168),F=r(35721),O=r(87241),z=r(39336),I=r(30681),W=r(38968),M=r(2050),q=r(26353),R=r(52177),_=r(49167),Y=r(35475),H=r(70569),G=r(57875),J=r(81045),K=r(1137),X=r(81693),Z=r(45009),V=r(48190),$=r(95540),Q=r(49462),ee=r(57043);function te(){return(0,T.jsxs)("div",{children:[(0,T.jsx)(J.A,{src:"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp",sx:{width:50,height:50,justifyContent:"center",textAlign:"center",mx:"auto",mt:-5}}),(0,T.jsx)(F.A,{children:[{name:"Upload Ebook",path:"/dashboard/Upload",icon:(0,T.jsx)(Z.A,{})},{name:"Upload Audio",path:"/dashboard/Audio",icon:(0,T.jsx)(O.A,{})},{name:"Upload Audio Chapter",path:"/dashboard/AudioChapter",icon:(0,T.jsx)(Q.A,{})},{name:"Write Chapter",path:"/dashboard/Write",icon:(0,T.jsx)($.A,{})},{name:"My Audios",path:"/dashboard/MyAudios",icon:(0,T.jsx)(ee.A,{})},{name:"My Books",path:"/dashboard/MyBooks",icon:(0,T.jsx)(_.A,{})},{name:"My Chapters",path:"/dashboard/MyChapters",icon:(0,T.jsx)(H.A,{})},{name:"Statistics",path:"/dashboard/Statistics",icon:(0,T.jsx)(G.A,{})}].map(((e,t)=>(0,T.jsx)(I.Ay,{disablePadding:!0,children:(0,T.jsx)(Y.N_,{to:e.path,children:(0,T.jsxs)(W.A,{children:[(0,T.jsx)(M.A,{children:e.icon}),(0,T.jsx)(q.A,{primary:e.name})]})})},e.name)))}),(0,T.jsx)(z.A,{}),(0,T.jsx)(F.A,{children:[{name:"Profile",path:"/dashboard/Profile",value:"3",icon:(0,T.jsx)(R.A,{})},{name:"News",path:"/dashboard/News",icon:(0,T.jsx)(X.A,{})},{name:"NFTs",path:"/dashboard/Nfts",icon:(0,T.jsx)(K.A,{})},{name:"Support",path:"/dashboard/AuthorSupport",icon:(0,T.jsx)(V.A,{})}].map(((e,t)=>(0,T.jsx)(I.Ay,{disablePadding:!0,children:(0,T.jsx)(Y.N_,{to:e.path,children:(0,T.jsxs)(W.A,{children:[(0,T.jsx)(M.A,{children:e.icon}),(0,T.jsx)(q.A,{primary:e.name})]})})},e.name)))})]})}var re=r(76185),oe=r(73216);const ae=(0,g.A)({palette:{background:{paper:"#fff"},text:{primary:"#173A5E",secondary:"#46505A"},action:{active:"#001E3C"},success:{main:"#ffde59"},outline:{main:"#fff"}}}),ie=240;const ne=function(e){const t=(0,re.SO)(),{window:r}=e,[g,j]=o.useState(!1),b=()=>{j(!g)},[A,v]=o.useState(!1),w=o.useRef(null),y=o.useRef(A);o.useEffect((()=>{!0===y.current&&!1===A&&w.current.focus(),y.current=A}),[A]);const k=(0,T.jsxs)("div",{children:[(0,T.jsx)(n.A,{}),(0,T.jsx)(te,{})]}),C=void 0!==r?()=>r().document.body:void 0;return(0,T.jsx)(f.A,{theme:ae,children:(0,T.jsxs)(a.A,{sx:{display:"flex"},children:[(0,T.jsx)(B,{handleDrawerToggle:b,width:t,drawerWidth:ie,handleClose:e=>{w.current&&w.current.contains(e.target)||v(!1)},handleListKeyDown:function(e){"Tab"===e.key?(e.preventDefault(),v(!1)):"Escape"===e.key&&v(!1)},anchorRef:w.current,handleToggle:()=>{v((e=>!e))},anchorRef1:w}),(0,T.jsxs)(a.A,{component:"nav",sx:{width:{md:ie},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,T.jsx)(i.Ay,{container:C,variant:"temporary",open:g,onClose:b,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:ie}},children:k}),(0,T.jsx)(i.Ay,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:ie}},open:!0,children:k})]}),(0,T.jsxs)(a.A,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(ie,"px)")}},children:[(0,T.jsx)(n.A,{}),(0,T.jsxs)(oe.BV,{children:[(0,T.jsx)(oe.qh,{path:"/",index:!0,element:(0,T.jsx)(s.default,{})}),(0,T.jsx)(oe.qh,{path:"Upload",element:(0,T.jsx)(l.default,{})}),(0,T.jsx)(oe.qh,{path:"Write",element:(0,T.jsx)(h.default,{})}),(0,T.jsx)(oe.qh,{path:"Profile",element:(0,T.jsx)(x.default,{})}),(0,T.jsx)(oe.qh,{path:"News",index:!0,element:(0,T.jsx)(s.default,{})}),(0,T.jsx)(oe.qh,{path:"Audio",index:!0,element:(0,T.jsx)(m.default,{})}),(0,T.jsx)(oe.qh,{path:"AudioChapter",element:(0,T.jsx)(u.default,{})}),(0,T.jsx)(oe.qh,{path:"Nfts",index:!0,element:(0,T.jsx)(p.default,{})}),(0,T.jsx)(oe.qh,{path:"AuthorSupport",index:!0,element:(0,T.jsx)(c.default,{})}),(0,T.jsx)(oe.qh,{path:"Statistics",index:!0,element:(0,T.jsx)(d.default,{})}),(0,T.jsx)(oe.qh,{path:"Mybooks",index:!0,element:(0,T.jsx)(U.default,{})}),(0,T.jsx)(oe.qh,{path:"MyAudios",index:!0,element:(0,T.jsx)(D.default,{})}),(0,T.jsx)(oe.qh,{path:"MyChapters",index:!0,element:(0,T.jsx)(L.default,{})})]})]})]})})}},69804:(e,t,r)=>{r.d(t,{A:()=>s});r(65043);var o=r(88911),a=r(85865),i=r(35475),n=r(70579);const s=function(){return(0,n.jsxs)(o.A,{spacing:5,direction:"row",className:"hidden lg:flex",sx:{marginLeft:"auto"},children:[(0,n.jsx)(i.N_,{to:"/",className:"no-underline text-white hover:text-yellow-300",children:(0,n.jsx)(a.A,{variant:"body2",children:"Home"})}),(0,n.jsx)(i.N_,{to:"/Permium",className:"no-underline text-white hover:text-yellow-300",children:(0,n.jsx)(a.A,{variant:"body2",children:"Permium"})}),(0,n.jsx)(i.N_,{to:"/Support",className:"no-underline text-white hover:text-yellow-300",children:(0,n.jsx)(a.A,{variant:"body2",children:"Support"})}),(0,n.jsx)(i.N_,{to:"/Download",className:"no-underline text-white hover:text-yellow-300",children:(0,n.jsx)(a.A,{variant:"body2",children:"Download"})})]})}}}]);
//# sourceMappingURL=153.90c49556.chunk.js.map