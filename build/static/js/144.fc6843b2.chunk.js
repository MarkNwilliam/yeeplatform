"use strict";(self.webpackChunkyeeplatform=self.webpackChunkyeeplatform||[]).push([[144],{7144:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var l=t(65043),r=t(30064),i=t.n(r),o=(t(31425),t(77154)),s=t(2253),n=t(70360),u=t(35016),d=t(70579);function c(){var e,a,t;const{user:r}=(0,l.useContext)(u.cy),[c,p]=(0,l.useState)({}),[m,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{f(r.providerData&&"google.com"===r.providerData[0].providerId)}),[r]);(0,l.useEffect)((()=>{const e=s.j2.currentUser.uid;o.A.get("https://yeeplatformbackend.azurewebsites.net/userDetails/".concat(e)).then((e=>{const a=e.data;p(a)})).catch((e=>{console.error("Error fetching user data:",e)}))}),[]);return(0,d.jsxs)("div",{className:"p-8 space-y-4",children:[(0,d.jsx)("h1",{className:"text-xl font-semibold",children:"Author Profile"}),(0,d.jsxs)("div",{className:"flex items-center justify-center space-x-4 relative",children:[(0,d.jsx)("img",{alt:"Profile Picture",src:c.profileImage||"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp",className:"w-32 h-32 rounded-full"}),(0,d.jsx)("input",{type:"file",id:"profilePic",className:"hidden",accept:"image/*",onChange:async e=>{if(0===e.target.files.length)return;i().fire({title:"Uploading...",text:"Your image is being uploaded. Please wait...",allowOutsideClick:!1,didOpen:()=>{i().showLoading()}});const a=new FormData;a.append("image",e.target.files[0]);const t=s.j2.currentUser.uid;try{var l;const e=await o.A.post("https://yeeplatformbackend.azurewebsites.net/userprofilestore/".concat(t),a);if(null===(l=e.data)||void 0===l||!l.imageUrl)throw new Error("Image upload failed");p((a=>({...a,profileImage:e.data.imageUrl}))),i().fire("Success","Image uploaded successfully!","success")}catch(r){i().fire("Oops...","Error uploading the image!","error")}}}),(0,d.jsx)("label",{htmlFor:"profilePic",className:"cursor-pointer absolute bottom-2 right-2 bg-gray-600 bg-opacity-50 rounded-full p-2",children:"\ud83d\udcf7"})]}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Name",value:c.username||"",onChange:e=>p((a=>({...a,username:e.target.value})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Age",value:c.age||"",onChange:e=>p((a=>({...a,age:e.target.value})))}),(0,d.jsx)("textarea",{className:"w-full p-2 border rounded-md",placeholder:"Bio",value:c.bio||"",onChange:e=>p((a=>({...a,bio:e.target.value})))}),(0,d.jsxs)("select",{className:"w-full p-2 border rounded-md",value:c.country||"",onChange:e=>p((a=>({...a,country:e.target.value}))),children:[(0,d.jsx)("option",{value:"",children:"Select a country"}),n.X.map((e=>(0,d.jsx)("option",{value:e,children:e},e)))]}),!m&&(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Email",value:c.email||"",readOnly:!0}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Phone",value:c.phone||"",onChange:e=>p((a=>({...a,phone:e.target.value})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Twitter",value:(null===(e=c.socialLinks)||void 0===e?void 0:e.twitter)||"",onChange:e=>p((a=>({...a,socialLinks:{...a.socialLinks,twitter:e.target.value}})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Instagram",value:(null===(a=c.socialLinks)||void 0===a?void 0:a.instagram)||"",onChange:e=>p((a=>({...a,socialLinks:{...a.socialLinks,instagram:e.target.value}})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Facebook",value:(null===(t=c.socialLinks)||void 0===t?void 0:t.facebook)||"",onChange:e=>p((a=>({...a,socialLinks:{...a.socialLinks,facebook:e.target.value}})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Email",value:c.email||"",readOnly:!0}),(0,d.jsx)("button",{className:"w-full p-2 mt-4 text-white bg-blue-500 rounded-md",onClick:async()=>{i().fire({title:"Updating...",text:"Your profile is being updated. Please wait...",allowOutsideClick:!1,didOpen:()=>{i().showLoading()}});const e=s.j2.currentUser.uid;try{const a=await o.A.put("https://yeeplatformbackend.azurewebsites.net/updateaccountinfo/".concat(e),c);if(!a.data.success||"User data updated successfully"!==a.data.message)throw new Error("Profile update failed");i().fire("Success","Profile updated successfully!","success")}catch(a){i().fire("Oops...","Error updating your profile!","error")}},children:"Update Profile"}),!m&&(0,d.jsx)("button",{className:"w-full p-2 mt-2 text-white bg-yellow-500 rounded-md",onClick:()=>{i().fire("Change Email","Email change functionality will be implemented soon.","info")},children:"Change Email"})]})}},70360:(e,a,t)=>{t.d(a,{X:()=>l});const l=["Algeria","Angola","Benin","Botswana","Burkina Faso","Burundi","Cabo Verde","Cameroon","Central African Republic","Chad","Comoros","Democratic Republic of the Congo","Republic of the Congo","Cote d'Ivoire","Djibouti","Egypt","Equatorial Guinea","Eritrea","Eswatini","Ethiopia","Gabon","Gambia","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Libya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Morocco","Mozambique","Namibia","Niger","Nigeria","Rwanda","Sao Tome and Principe","Senegal","Seychelles","Sierra Leone","Somalia","South Africa","South Sudan","Sudan","Tanzania","Togo","Tunisia","Uganda","Zambia","Zimbabwe"]},31425:()=>{}}]);
//# sourceMappingURL=144.fc6843b2.chunk.js.map