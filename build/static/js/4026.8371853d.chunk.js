(self.webpackChunkyeeplatform=self.webpackChunkyeeplatform||[]).push([[4026],{97949:(e,t,o)=>{"use strict";o.d(t,{A:()=>a});o(65043);var n=o(519),r=o(70579);const a=e=>{let{shareUrl:t,selectedText:o}=e;const a='Check out this quote: "'.concat(o,'" from @YeePlatform! ').concat("https://www.yeeplatform.com"," #").concat("YeePlatform");return(0,r.jsxs)("div",{className:"share-box w-full max-w-md mx-auto p-4",children:[(0,r.jsxs)("div",{className:"share-header mb-4",children:[(0,r.jsx)("img",{src:"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp",alt:"YeePlatform Logo",className:"logo w-12 h-auto"}),(0,r.jsx)("span",{className:"share-title text-lg",children:"Share this quote with friends:"})]}),(0,r.jsxs)("div",{className:"share-icons flex justify-center",children:[(0,r.jsx)(n.uI,{title:"Test",url:t,quote:a,children:(0,r.jsx)(n.ik,{size:32,round:!0})}),(0,r.jsx)(n.r6,{url:t,title:a,children:(0,r.jsx)(n.Fi,{size:32,round:!0})}),(0,r.jsx)(n.wk,{url:t,title:a,children:(0,r.jsx)(n._z,{size:32,round:!0})}),(0,r.jsx)(n.Kz,{url:t,title:a,children:(0,r.jsx)(n.Y4,{size:32,round:!0})}),(0,r.jsx)(n.Ot,{url:t,subject:"Check out this quote",body:a,children:(0,r.jsx)(n.aZ,{size:32,round:!0})})]})]})}},84026:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>j});var n=o(65043),r=o(73216),a=o(73237),i=o(64980),s=o(86691),c=o(98225),l=o(46749),d=o(56409),u=(o(89709),o(91148),o(85369)),p=(o(49938),o(30064)),h=o.n(p),g=o(41591),f=(o(97949),o(48698),o(8606)),m=o(39085),y=o(68016),x=o(81637),w=o(85865),v=o(96446),b=o(67254),S=o(70579);const j=function(){const{id:e}=(0,r.g)(),[t,o]=(0,n.useState)(!1),[p,j]=(0,n.useState)(null),[k,E]=(0,n.useState)(null),[A,L]=(0,n.useState)([]),[O,I]=(0,n.useState)(0),{speak:T,cancel:P}=(0,f.o3)(),[R,_]=(0,n.useState)(!1),[C,M]=(0,n.useState)(""),[N,z]=(0,n.useState)(!1),[D,F]=(0,n.useState)(1),[U,B]=(0,n.useState)(!1),Y=()=>{B(!0)},W=()=>{B(!1)},G=(0,r.Zp)(),K=(0,s.A)("(max-width:626px)"),V=(0,s.A)("(max-width:400px)"),H=K?.8:1,J=V?"wrap":"nowrap";function Z(e){return(0,S.jsxs)(v.A,{sx:{position:"relative",display:"inline-flex"},children:[(0,S.jsx)(x.A,{variant:"determinate",...e}),(0,S.jsx)(v.A,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,S.jsx)(w.A,{variant:"caption",component:"div",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})}(0,n.useEffect)((()=>{(async()=>{o(!0);try{const t=await fetch("https://yeeplatformbackend.azurewebsites.net/getChapter/".concat(e),{cache:"force-cache"});if(!t.ok)return void console.error("Response not OK:",t);const o=await t.json();E(o),j(null===o||void 0===o?void 0:o.doc_location)}catch(t){console.error("Error fetching eBook content:",t.message)}finally{o(!1)}})()}),[e]);const q=async()=>{if(!t&&k)try{if(R)P(),_(!1);else{ee();window.speechSynthesis.getVoices();const e=await(async()=>{const e=await(0,l.getDocument)(p).promise,t=await e.getPage(D+1);return(await t.getTextContent()).items.map((e=>e.str)).join(" ")})();T({text:e,rate:.9}),M(e),h().close(),te(),_(!0)}}catch(e){h().close(),console.error("Error extracting page text:",e)}},Q=(0,d.scrollModePlugin)(),{SwitchScrollModeButton:X}=Q,$=(0,i.defaultLayoutPlugin)({sidebarTabs:e=>[e[0],e[1]],renderToolbar:e=>(0,S.jsx)(e,{children:e=>{const{CurrentPageInput:t,SwitchTheme:o,EnterFullScreen:n,GoToNextPage:r,GoToPreviousPage:i,NumberOfPages:s,SwitchScrollModeMenuItem:c,ShowSearchPopover:l,SwitchScrollMode:d,Zoom:p,ZoomIn:h,ZoomOut:g}=e;return(0,S.jsxs)("div",{style:{alignItems:"center",display:"flex",flexWrap:{defaultWrap:J},justifyContent:"space-between",width:"100%",height:"auto",backgroundColor:"#ffde5a",padding:"10px"},children:[(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)("button",{onClick:()=>G("/chapters"),children:(0,S.jsx)(u.QVr,{})})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(l,{})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(g,{})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(p,{})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(h,{})}),(0,S.jsx)("div",{style:{padding:"0px 2px",marginLeft:"auto"},children:(0,S.jsx)(i,{})}),(0,S.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"0px 2px"},children:[(0,S.jsx)(t,{})," / ",(0,S.jsx)(s,{})]}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(r,{})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)("button",{onClick:q,children:(0,S.jsx)(u.gSK,{})})}),!K&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{style:{padding:"0px 2px",marginLeft:"auto"},children:(0,S.jsx)(n,{})}),(0,S.jsx)("div",{style:{padding:"0px 2px",marginLeft:"auto"},children:(0,S.jsx)(o,{})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(X,{mode:a.ScrollMode.Vertical})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(X,{mode:a.ScrollMode.Horizontal})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(X,{mode:a.ScrollMode.Wrapped})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(X,{mode:a.ScrollMode.Page})})]}),K&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(y.A,{onClick:Y,children:"Options"}),(0,S.jsxs)(m.Ay,{anchor:"right",open:U,onClose:W,children:[(0,S.jsx)("div",{style:{padding:"0px 2px",marginLeft:"auto"},children:(0,S.jsx)(n,{})}),(0,S.jsx)("div",{style:{padding:"0px 2px",marginLeft:"auto"},children:(0,S.jsx)(o,{})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(X,{mode:a.ScrollMode.Vertical})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(X,{mode:a.ScrollMode.Horizontal})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(X,{mode:a.ScrollMode.Wrapped})}),(0,S.jsx)("div",{style:{padding:"0px 2px"},children:(0,S.jsx)(X,{mode:a.ScrollMode.Page})})]})]})]})}})}),ee=()=>{h().fire({title:"Loading",showClass:{popup:"\n            animate__animated\n            animate__fadeInUp\n            animate__faster\n          "},hideClass:{popup:"\n            animate__animated\n            animate__fadeOutDown\n            animate__faster\n          "},html:"Processing your request...",allowOutsideClick:!1,showConfirmButton:!1,onBeforeOpen:()=>{h().showLoading()}})},te=()=>{_(!0),h().fire({title:"Playing",html:"Text is being played...",showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"Stop",allowOutsideClick:!1,cancelButtonClass:"#ffff00",didClose:()=>{_(!1)}}).then((e=>{e.dismiss===h().DismissReason.cancel&&P()}))},oe=async()=>{const e=JSON.parse(localStorage.getItem("ebookData"));if(e&&e.read)try{const t=await fetch("https://yeeplatformbackend.azurewebsites.net/updateViewedBooks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:c.j2.currentUser.uid,bookId:e.id})});await t.json()}catch(t){console.error("Error updating viewed books:",t)}},ne=async()=>{const e=JSON.parse(localStorage.getItem("ebookData"));if(e)try{const t=await fetch("https://yeeplatformbackend.azurewebsites.net/updateEbookScores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:c.j2.currentUser.uid,bookId:e.id,score:e.percentageVisited})});await t.json()}catch(t){console.error("Error updating ebook scores:",t)}},re=async()=>{try{const e=localStorage.getItem("ebookID"),t=(localStorage.getItem("viewed"),await fetch("https://yeeplatformbackend.azurewebsites.net/recordEbookView",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:c.j2.currentUser.uid,ebookId:e})}));await t.json()}catch(e){console.error("Error recording ebook view:",e)}};return(0,S.jsxs)("div",{style:{height:"100vh",width:"100%"},children:[k&&(0,S.jsxs)(g.m,{children:[(0,S.jsx)("title",{children:(null===k||void 0===k?void 0:k.title)||"Ebook Reader - Yee FM"}),(0,S.jsx)("meta",{name:"description",content:(null===k||void 0===k?void 0:k.description)||"Read your favorite ebooks on Yee FM."}),(0,S.jsx)("meta",{name:"keywords",content:"Yee FM, ebooks, reading, literature, digital library"}),(0,S.jsx)("link",{rel:"icon",href:(null===k||void 0===k?void 0:k.coverImage)||(null===k||void 0===k?void 0:k.coverimage)||"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp"}),(0,S.jsx)("meta",{property:"og:title",content:(null===k||void 0===k?void 0:k.title)||"Ebook Reader - Yee FM"}),(0,S.jsx)("meta",{property:"og:description",content:(null===k||void 0===k?void 0:k.description)||"Read your favorite ebooks on Yee FM."}),(0,S.jsx)("meta",{property:"og:image",content:(null===k||void 0===k?void 0:k.coverImage)||(null===k||void 0===k?void 0:k.coverimage)||"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp"}),(0,S.jsx)("meta",{property:"og:type",content:"book"}),(0,S.jsx)("meta",{property:"og:url",content:window.location.href})]}),(0,S.jsx)("style",{jsx:!0,children:"\n      @media only screen and (max-width: 500px) {\n        /* Styles for mobile devices */\n        .pdf-viewer {\n          width: 100%;\n          height: auto;\n        }\n      }\n\n      .rpv-core__viewer--loading .rpv-core__viewer-document {\n        visibility: hidden;\n      }\n    "}),t?(0,S.jsx)("div",{children:"Loading..."}):p?(0,S.jsx)(a.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:(0,S.jsx)(a.Viewer,{transformGetDocumentParams:e=>Object.assign({},e,{url:p,disableRange:!1,disableStream:!1,rangeChunkSize:65536,disableAutoFetch:!1,disableFontFace:!0}),scrollMode:a.ScrollMode.Page,defaultScale:H,onPageChange:async t=>{let{currentPage:o}=t;F(o),L([...A,o]);const n=new Set(A).size,r=n/O*100;r>=30&&(await oe(),await ne());const a={id:e,pageNumbers:A,uniquePageCount:n,percentageVisited:r,read:r>=30};localStorage.setItem("ebookData",JSON.stringify(a));JSON.parse(localStorage.getItem("ebookData"))},onDocumentLoad:t=>{let{doc:o}=t;I(o.numPages),localStorage.getItem("ebookID")!==e&&(localStorage.setItem("ebookID",e),localStorage.setItem("viewed","true"),re())},renderLoader:e=>(0,S.jsxs)("div",{children:[(0,S.jsx)("h2",{className:"text-yellow-500 font-bold",children:"Please wait, it's coming..."}),(0,S.jsx)("div",{style:{width:"100%"},children:(0,S.jsx)(Z,{value:Math.round(e)})})]}),plugins:[$,Q]})}):(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,S.jsx)(b.A,{severity:"error",children:"No PDF found."})})})]})}},4053:e=>{e.exports=function(){return"undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type||(!("undefined"===typeof process||"object"!==typeof process.versions||!process.versions.electron)||"object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}},8606:(e,t,o)=>{"use strict";var n=o(87216);var r=o(38441);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"o3",{enumerable:!0,get:function(){return a(r).default}})},87216:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(o.push(i.value),!t||o.length!==t);n=!0);}catch(c){r=!0,a=c}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=o(65043);var a=function(e,t){var o=(0,r.useRef)((function(){throw new Error("Cannot call an event handler while rendering.")}));return(0,r.useEffect)((function(){o.current=e}),[e].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(t))),(0,r.useCallback)((function(e){return(0,o.current)(e)}),[o])};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onEnd,o=void 0===t?function(){}:t,i=e.onResult,s=void 0===i?function(){}:i,c=e.onError,l=void 0===c?function(){}:c,d=(0,r.useRef)(null),u=(0,r.useState)(!1),p=n(u,2),h=p[0],g=p[1],f=(0,r.useState)(!1),m=n(f,2),y=m[0],x=m[1],w=function(e){var t=Array.from(e.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");s(t)},v=function(e){"not-allowed"===e.error&&(d.current.onend=function(){},g(!1)),l(e)},b=a((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h&&y){var t=e.lang,o=void 0===t?"":t,n=e.interimResults,r=void 0===n||n,a=e.continuous,i=void 0!==a&&a,s=e.maxAlternatives,c=void 0===s?1:s,l=e.grammars;g(!0),d.current.lang=o,d.current.interimResults=r,d.current.onresult=w,d.current.onerror=v,d.current.continuous=i,d.current.maxAlternatives=c,l&&(d.current.grammars=l),d.current.onend=function(){return d.current.start()},d.current.start()}}),[h,y,d]),S=a((function(){h&&y&&(d.current.onresult=function(){},d.current.onend=function(){},d.current.onerror=function(){},g(!1),d.current.stop(),o())}),[h,y,d,o]);return(0,r.useEffect)((function(){"undefined"!==typeof window&&(window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,window.SpeechRecognition&&(x(!0),d.current=new window.SpeechRecognition))}),[]),{listen:b,listening:h,stop:S,supported:y}}},38441:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(o.push(i.value),!t||o.length!==t);n=!0);}catch(c){r=!0,a=c}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=o(65043);t.default=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onEnd,t=void 0===e?function(){}:e,o=(0,r.useState)([]),a=n(o,2),i=a[0],s=a[1],c=(0,r.useState)(!1),l=n(c,2),d=l[0],u=l[1],p=(0,r.useState)(!1),h=n(p,2),g=h[0],f=h[1],m=function(e){s(e)},y=function(){u(!1),t()};(0,r.useEffect)((function(){"undefined"!==typeof window&&window.speechSynthesis&&(f(!0),function(){var e=window.speechSynthesis.getVoices();e.length>0?m(e):window.speechSynthesis.onvoiceschanged=function(t){e=t.target.getVoices(),m(e)}}())}),[]);return{supported:g,speak:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.voice,o=void 0===t?null:t,n=e.text,r=void 0===n?"":n,a=e.rate,i=void 0===a?1:a,s=e.pitch,c=void 0===s?1:s,l=e.volume,d=void 0===l?1:l;if(g){u(!0);var p=new window.SpeechSynthesisUtterance;p.text=r,p.voice=o,p.onend=y,p.rate=i,p.pitch=c,p.volume=d,window.speechSynthesis.speak(p)}},speaking:d,cancel:function(){g&&(u(!1),window.speechSynthesis.cancel())},voices:i}}},36884:(e,t,o)=>{const n=o(27346);e.exports={recognize:async(e,t,o)=>{const r=await n(t,1,o);return r.recognize(e).finally((async()=>{await r.terminate()}))},detect:async(e,t)=>{const o=await n("osd",0,t);return o.detect(e).finally((async()=>{await o.terminate()}))}}},39511:e=>{e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},94588:e=>{e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},55147:e=>{e.exports={workerBlobURL:!0,logger:()=>{}}},95571:e=>{e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},75701:(e,t,o)=>{const n=o(49593);let r=0;e.exports=e=>{let{id:t,action:o,payload:a={}}=e,i=t;return"undefined"===typeof i&&(i=n("Job",r),r+=1),{id:i,action:o,payload:a}}},34447:function(e,t,o){const n=o(75701),{log:r}=o(9926),a=o(49593);let i=0;e.exports=()=>{const e=a("Scheduler",i),t={},o={};let s=[];i+=1;const c=()=>Object.keys(t).length,l=()=>{if(0!==s.length){const e=Object.keys(t);for(let n=0;n<e.length;n+=1)if("undefined"===typeof o[e[n]]){s[0](t[e[n]]);break}}},d=(t,a)=>new Promise(((i,c)=>{const d=n({action:t,payload:a});s.push((async e=>{s.shift(),o[e.id]=d;try{i(await e[t].apply(this,[...a,d.id]))}catch(n){c(n)}finally{delete o[e.id],l()}})),r("[".concat(e,"]: Add ").concat(d.id," to JobQueue")),r("[".concat(e,"]: JobQueue length=").concat(s.length)),l()}));return{addWorker:o=>(t[o.id]=o,r("[".concat(e,"]: Add ").concat(o.id)),r("[".concat(e,"]: Number of workers=").concat(c())),l(),o.id),addJob:async function(t){if(0===c())throw Error("[".concat(e,"]: You need to have at least one worker before adding jobs"));for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return d(t,n)},terminate:async()=>{Object.keys(t).forEach((async e=>{await t[e].terminate()})),s=[]},getQueueLen:()=>s.length,getNumWorkers:c}}},27346:(e,t,o)=>{const n=o(24402),r=o(63057),a=o(75701),{log:i}=o(9926),s=o(49593),c=o(39511),{defaultOptions:l,spawnWorker:d,terminateWorker:u,onMessage:p,loadImage:h,send:g}=o(62034);let f=0;e.exports=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.LSTM_ONLY,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const y=s("Worker",f),{logger:x,errorHandler:w,...v}=n({...l,...o}),b={},S={},j="string"===typeof e?e.split("+"):e;let k=t,E=m;const A=[c.DEFAULT,c.LSTM_ONLY].includes(t)&&!v.legacyCore;let L,O;const I=new Promise(((e,t)=>{O=e,L=t}));let T=d(v);T.onerror=e=>{L(e.message)},f+=1;const P=(e,t)=>{b[e]=t},R=(e,t)=>{S[e]=t},_=e=>{let{id:t,action:o,payload:n}=e;return new Promise(((e,r)=>{i("[".concat(y,"]: Start ").concat(t,", action=").concat(o));const a="".concat(o,"-").concat(t);P(a,e),R(a,r),g(T,{workerId:y,jobId:t,action:o,payload:n})}))},C=(e,t)=>_(a({id:t,action:"loadLanguage",payload:{langs:e,options:{langPath:v.langPath,dataPath:v.dataPath,cachePath:v.cachePath,cacheMethod:v.cacheMethod,gzip:v.gzip,lstmOnly:[c.LSTM_ONLY,c.TESSERACT_LSTM_COMBINED].includes(k)&&!v.legacyLang}}})),M=(e,t,o,n)=>_(a({id:n,action:"initialize",payload:{langs:e,oem:t,config:o}}));p(T,(e=>{let{workerId:t,jobId:o,status:n,action:a,data:s}=e;const c="".concat(a,"-").concat(o);if("resolve"===n){i("[".concat(t,"]: Complete ").concat(o));let e=s;"recognize"===a?e=r(s):"getPDF"===a&&(e=Array.from({...s,length:Object.keys(s).length})),b[c]({jobId:o,data:e})}else if("reject"===n){if(S[c](s),"load"===a&&L(s),!w)throw Error(s);w(s)}else"progress"===n&&x({...s,userJobId:o})}));const N={id:y,worker:T,setResolve:P,setReject:R,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,o)=>_(a({id:o,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>_(a({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>_(a({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,o)=>_(a({id:o,action:"FS",payload:{method:e,args:t}})),loadLanguage:()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),initialize:()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),reinitialize:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(A&&[c.TESSERACT_ONLY,c.TESSERACT_LSTM_COMBINED].includes(t))throw Error("Legacy model requested but code missing.");const r=t||k;k=r;const a=o||E;E=a;const i=("string"===typeof e?e.split("+"):e).filter((e=>!j.includes(e)));return j.push(...i),i.length>0?C(i,n).then((()=>M(e,r,a,n))):M(e,r,a,n)},setParameters:function(){return _(a({id:arguments.length>1?arguments[1]:void 0,action:"setParameters",payload:{params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}))},recognize:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{blocks:!0,text:!0,hocr:!0,tsv:!0};return _(a({id:arguments.length>3?arguments[3]:void 0,action:"recognize",payload:{image:await h(e),options:t,output:o}}))},getPDF:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Tesseract OCR Result",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;return console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),_(a({id:o,action:"getPDF",payload:{title:e,textonly:t}}))},detect:async(e,t)=>{if(A)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return _(a({id:t,action:"detect",payload:{image:await h(e)}}))},terminate:async()=>(null!==T&&(u(T),T=null),Promise.resolve())};var z;return _(a({id:z,action:"load",payload:{options:{lstmOnly:A,corePath:v.corePath,logging:v.logging}}})).then((()=>C(e))).then((()=>M(e,t,m))).then((()=>O(N))).catch((()=>{})),I}},49938:(e,t,o)=>{const n=o(34447),r=o(27346),a=o(36884),i=o(95571),s=o(39511),c=o(94588),{setLogging:l}=o(9926);e.exports={languages:i,OEM:s,PSM:c,createScheduler:n,createWorker:r,setLogging:l,...a}},63057:e=>{e.exports=e=>{const t=[],o=[],n=[],r=[],a=[];return e.blocks&&e.blocks.forEach((i=>{i.paragraphs.forEach((t=>{t.lines.forEach((o=>{o.words.forEach((n=>{n.symbols.forEach((r=>{a.push({...r,page:e,block:i,paragraph:t,line:o,word:n})})),r.push({...n,page:e,block:i,paragraph:t,line:o})})),n.push({...o,page:e,block:i,paragraph:t})})),o.push({...t,page:e,block:i})})),t.push({...i,page:e})})),{...e,blocks:t,paragraphs:o,lines:n,words:r,symbols:a}}},59003:(e,t,o)=>{const n=o(4053);e.exports=e=>{const t={};return"undefined"!==typeof WorkerGlobalScope?t.type="webworker":n()?t.type="electron":"object"===typeof document?t.type="browser":"object"===typeof process&&(t.type="node"),"undefined"===typeof e?t:t[e]}},49593:e=>{e.exports=(e,t)=>"".concat(e,"-").concat(t,"-").concat(Math.random().toString(16).slice(3,8))},9926:function(e,t){var o=this;let n=!1;t.logging=n,t.setLogging=e=>{n=e},t.log=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n?console.log.apply(o,t):null}},24402:(e,t,o)=>{const n="browser"===o(59003)("type")?e=>new URL(e,window.location.href).href:e=>e;e.exports=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach((o=>{e[o]&&(t[o]=n(t[o]))})),t}},91597:(e,t,o)=>{const n=o(76125).rE,r=o(55147);e.exports={...r,workerPath:"https://cdn.jsdelivr.net/npm/tesseract.js@v".concat(n,"/dist/worker.min.js")}},62034:(e,t,o)=>{const n=o(91597),r=o(85095),a=o(24871),i=o(71942),s=o(27870),c=o(40383);e.exports={defaultOptions:n,spawnWorker:r,terminateWorker:a,onMessage:i,send:s,loadImage:c}},40383:e=>{const t=e=>new Promise(((t,o)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=e=>{let{target:{error:{code:t}}}=e;o(Error("File could not be read! Code=".concat(t)))},n.readAsArrayBuffer(e)})),o=async e=>{let n=e;if("undefined"===typeof e)return"undefined";if("string"===typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))n=atob(e.split(",")[1]).split("").map((e=>e.charCodeAt(0)));else{const t=await fetch(e);n=await t.arrayBuffer()}else if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(n=await o(e.src)),"VIDEO"===e.tagName&&(n=await o(e.poster)),"CANVAS"===e.tagName&&await new Promise((o=>{e.toBlob((async e=>{n=await t(e),o()}))}));else if("undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas){const o=await e.convertToBlob();n=await t(o)}else(e instanceof File||e instanceof Blob)&&(n=await t(e));return new Uint8Array(n)};e.exports=o},71942:e=>{e.exports=(e,t)=>{e.onmessage=e=>{let{data:o}=e;t(o)}}},27870:e=>{e.exports=async(e,t)=>{e.postMessage(t)}},85095:e=>{e.exports=e=>{let t,{workerPath:o,workerBlobURL:n}=e;if(Blob&&URL&&n){const e=new Blob(['importScripts("'.concat(o,'");')],{type:"application/javascript"});t=new Worker(URL.createObjectURL(e))}else t=new Worker(o);return t}},24871:e=>{e.exports=e=>{e.terminate()}},76125:e=>{"use strict";e.exports={rE:"5.1.0"}}}]);
//# sourceMappingURL=4026.8371853d.chunk.js.map