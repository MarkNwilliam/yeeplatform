{"version":3,"file":"static/js/7858.1b15d030.chunk.js","mappings":"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","sources":["pages/Chapters.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport ContentCard from \"../subcomponents/ContentCard\";\r\nimport CustomPagination from \"../subcomponents/CustomPagination\";\r\nimport { Link } from 'react-router-dom';\r\nimport { logEvent } from '../firebase.js'\r\nimport { Helmet } from 'react-helmet';\r\n\r\nexport default function Chapters() {\r\n  const [items, setItems] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(100);\r\n  const [searchTerm, setSearchTerm] = useState(\"\"); \r\n  const [isLoading, setIsLoading] = useState(true); \r\n\r\n  useEffect(() => {\r\n    logEvent('chapters_page_visited');\r\n    \r\n    fetchData();\r\n  }, [currentPage, searchTerm]);\r\n  \r\n  const fetchData = async () => {\r\n    setIsLoading(true);\r\n  \r\n    try {\r\n      const url = searchTerm\r\n        ? `https://yeeplatformbackend.azurewebsites.net/search/chapters?title=${searchTerm}&page=${currentPage}&limit=15`\r\n        : `https://yeeplatformbackend.azurewebsites.net/getallchapters?page=${currentPage}&limit=15`;\r\n  \r\n      const response = await fetch(url);\r\n      if (!response.ok) throw new Error(`Data fetching failed with status: ${response.status}`);\r\n  \r\n      const data = await response.json();\r\n      console.log(\"Response data:\", data); // Log the structure of the data\r\n  \r\n      if (data && data.data) {\r\n        if (Array.isArray(data.data)) {\r\n          setItems(data.data);\r\n          setTotalPages(Math.ceil(data.totalItems / 15));\r\n        } else {\r\n          setItems([data.data]); // Wrap the object in an array\r\n          setTotalPages(1);\r\n        }\r\n      } else {\r\n        setItems([]);\r\n        setTotalPages(0);\r\n      }\r\n      \r\n      \r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  \r\n    setIsLoading(false);\r\n  };\r\n  \r\n  \r\n\r\n  const handlePageChange = (event, value) => {\r\n    setCurrentPage(value);\r\n  };\r\n\r\n  const handleSearchChange = (event) => {\r\n    setSearchTerm(event.target.value);\r\n  };\r\n\r\n  const handleSearchClick = () => {\r\n    console.log('Search Term:', searchTerm); \r\n    fetchData();\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center p-4\">\r\n\r\n<Helmet>\r\n  <title>Chapters - Yee FM</title>\r\n  <meta name=\"description\" content=\"Search and explore chapters on Yee FM. Find your favorite books and start reading now!\" />\r\n  <meta name=\"keywords\" content=\"Yee FM, chapters, search, explore, reading, literature, digital library\" />\r\n  <link rel=\"icon\" href=\"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp\" />\r\n  <meta property=\"og:title\" content=\"Chapters - Yee FM\" />\r\n  <meta property=\"og:description\" content=\"Search and explore chapters on Yee FM. Find your favorite books and start reading now!\" />\r\n  <meta property=\"og:image\" content=\"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp\" />\r\n  <meta property=\"og:url\" content=\"https://www.yeefm.com/echapters\" />\r\n  <meta property=\"og:type\" content=\"website\" />\r\n</Helmet>\r\n\r\n\r\n      <div className=\"mb-4 flex items-center\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search for chapters...\"\r\n          value={searchTerm}\r\n          onChange={handleSearchChange}\r\n          className=\"p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-200\"\r\n          style={{ width: \"300px\" }}\r\n        />\r\n        <button \r\n          onClick={handleSearchClick}\r\n          className=\"ml-2 p-3 border border-gray-300 rounded-lg bg-yellow-500 text-white hover:bg-yellow-600 transition duration-200 focus:outline-none focus:ring-2 focus:ring-yellow-300\"\r\n          style={{ minWidth: \"100px\" }}\r\n        >\r\n          Search\r\n        </button>\r\n      </div>\r\n\r\n      <CustomPagination totalPages={totalPages} currentPage={currentPage} onChange={handlePageChange} />\r\n\r\n      <div className=\"p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\r\n        {isLoading ? (\r\n          <p className=\"text-yellow-500 animate-pulse\">Loading ebooks...</p>\r\n        ) : (\r\n          items.map((item, index) => (\r\n            <ContentCard\r\n              key={index}\r\n              title={item.title}\r\n              coverImage={item.thumbnailUrl || item.coverImage || item.coverimage}\r\n              itemType=\"Text\"\r\n              itemId={item._id}\r\n              rating={item.rating}\r\n            />\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      <CustomPagination\r\n        totalPages={totalPages}\r\n        currentPage={currentPage}\r\n        onChange={handlePageChange}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Chapters","items","setItems","useState","currentPage","setCurrentPage","totalPages","setTotalPages","searchTerm","setSearchTerm","isLoading","setIsLoading","useEffect","logEvent","fetchData","async","url","concat","response","fetch","ok","Error","status","data","json","console","log","Array","isArray","Math","ceil","totalItems","error","handlePageChange","event","value","_jsxs","className","children","Helmet","_jsx","name","content","rel","href","property","type","placeholder","onChange","target","style","width","onClick","handleSearchClick","minWidth","CustomPagination","map","item","index","ContentCard","title","coverImage","thumbnailUrl","coverimage","itemType","itemId","_id","rating"],"sourceRoot":""}