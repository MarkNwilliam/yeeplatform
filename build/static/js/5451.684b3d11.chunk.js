"use strict";(self.webpackChunkyeeplatform=self.webpackChunkyeeplatform||[]).push([[5451,8522,6576,8914],{46265:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var o=r(72791),a=r(21830),i=r.n(a),n=r(61567),s=r(55294),l=r(20890),c=r(40412),d=r(15770),h=r(17638),u=r(90602),p=r(48969),x=r(86251),m=r(29675),g=r(80184);const f=500;const j=function(){const[e,t]=(0,o.useState)(null),[r,a]=(0,o.useState)(null),[j,b]=(0,o.useState)(""),[v,w]=(0,o.useState)(""),[Z,y]=(0,o.useState)([]),[k,C]=(0,o.useState)(""),[S,N]=(0,o.useState)(""),[E,P]=(0,o.useState)(""),[T,A]=(0,o.useState)(!1),[B,U]=(0,o.useState)(""),[L,D]=(0,o.useState)(""),[F,I]=(0,o.useState)(""),[O,W]=(0,o.useState)("free"),[z,M]=(0,o.useState)(""),[R,q]=(0,o.useState)(!1),[Y,_]=(0,o.useState)(!1),H=n.I8.currentUser.uid;return(0,o.useEffect)((()=>{const e=()=>{Y&&_(!1)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[Y]),(0,g.jsxs)("div",{className:"p-8 bg-white shadow-md rounded-lg max-w-md mx-auto",children:[(0,g.jsx)(l.Z,{variant:"h4",className:"text-center mb-6",children:"Upload your Audiobook"}),(0,g.jsxs)("form",{onSubmit:async o=>{o.preventDefault();const n="notfree"===O;if(v.length>f)return void i().fire("Error","Description should not exceed ".concat(f," characters."),"error");if(e&&e.size>314572800)return void i().fire("Error","Audiobook file size should not exceed ".concat(300," MB."),"error");if(j.length<3||j.length>100)return void i().fire("Error","Title should be between ".concat(3," and ").concat(100," characters."),"error");if(!k)return void i().fire("Error","Please select a language.","error");const l=new Date;if(new Date(E)>l)return void i().fire("Error","Publication date cannot be in the future.","error");if(Z.length<1)return void i().fire("Error","Please select at least ".concat(1," genre(s)."),"error");i().fire({title:"Uploading...",html:"Progress ....",allowEscapeKey:!1,allowOutsideClick:!1,showCancelButton:!1,showConfirmButton:!1,onBeforeOpen:()=>{i().showLoading()},onOpen:()=>{const e=i().getHtmlContainer(),t=document.createElement("div");t.setAttribute("class","sweetalert2-progress-steps"),e.appendChild(t)}});try{let o,l,c;if(r){const e=await(0,m.tg)(r,128);c=await(0,x.Z)(e,!0),console.log("Here is my thumbnail url "+c)}if(e&&(o=await(0,x.Z)(e)),r&&(console.log("Uploading coverFile: ",r),l=await(0,x.Z)(r),console.log("This is my coverurl "+l)),v.length>f)return void i().fire("Error","Description should not exceed ".concat(f," characters."),"error");if(!o||!l)throw new Error("Please select both audio and cover files.");const d={title:j,description:v,genres:Z.join(", "),categories:Z.join(", "),language:k,isbn:S,ebookUrl:o,coverUrl:l,thumbnailUrl:c,publicationDate:E,author_platform_id:H,Duration:F,monetization:n,audioUrl:o},h=await s.Z.post("https://yeeplatformbackend.azurewebsites.net/audiobookupload/".concat(H),d);if(i().close(),200!==h.status)throw new Error("Error while sending data to the server.");t(null),a(null),b(""),w(""),y([]),C(""),N(""),I(""),P(""),U(""),D(""),W("free"),M(""),_(!0)}catch(c){i().fire("Error","Error uploading the audio. Please try again.","error"),console.error("Error uploading the audio:",c)}},encType:"multipart/form-data",children:[(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Title:"}),(0,g.jsx)(c.Z,{fullWidth:!0,variant:"outlined",value:j,onChange:e=>b(e.target.value),required:!0})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description:"}),(0,g.jsx)(c.Z,{fullWidth:!0,multiline:!0,rows:4,variant:"outlined",value:v,onChange:e=>w(e.target.value),required:!0,helperText:"".concat(v.length,"/").concat(f)})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)(p.Z,{label:"Upload Cover Image:",onChange:async e=>{const t=e.target.files[0];if(console.log("Handle Cover Change Function Called"),t){if(!(e=>e.size/1024/1024<=5)(t)){try{i().fire({icon:"error",title:"Error",text:"Image size should not exceed 5MB."}).then((()=>{a(null),U(""),M("")}))}catch(r){console.log(r)}return}const e=await(e=>new Promise((t=>{const r=new Image;r.onload=()=>{t(512===r.width&&800===r.height)},r.src=URL.createObjectURL(e)})))(t);if(!e){try{i().fire({icon:"error",title:"Error",text:"Image dimensions should be exactly 512x800 pixels.",timer:3e3}).then((()=>{a(null),U(""),M("")}))}catch(r){console.log(r)}return}a(t),U(t.name),M(URL.createObjectURL(t)),console.log("Function Execution Completed")}},fileName:B,accept:".jpg, .jpeg, .png",required:!0}),z&&(0,g.jsx)("div",{className:"image-preview",children:(0,g.jsx)("img",{src:z,alt:"Cover Preview",style:{maxWidth:"200px",maxHeight:"200px"}})})]}),(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsx)(d.Z,{multiple:!0,options:["Fiction","Nonfiction","Science Fiction","Romance","Mystery/Thriller","Fantasy","Biography","History","Business/Economics","Self-help","Health/Fitness","Cooking/Food","Travel","Technology"],value:Z,onChange:(e,t)=>y(t),renderInput:e=>(0,g.jsx)(c.Z,{...e,variant:"outlined",label:"Genres"})})}),(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsx)(d.Z,{options:[{code:"eng",label:"English"},{code:"French",label:"French"},{code:"swahili",label:"Swahili"},{code:"amharic",label:"Amharic"},{code:"yoruba",label:"Yoruba"},{code:"oromo",label:"Oromo"},{code:"igbo",label:"Igbo"},{code:"zulu",label:"Zulu"},{code:"shona",label:"Shona"},{code:"xhosa",label:"Xhosa"},{code:"hausa",label:"Hausa"},{code:"fulani",label:"Fulani"}].map((e=>e.label)),value:k,onChange:(e,t)=>C(t),renderInput:e=>(0,g.jsx)(c.Z,{...e,variant:"outlined",label:"Language"})})}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"ISBN:"}),(0,g.jsx)(c.Z,{fullWidth:!0,variant:"outlined",value:S,onChange:e=>N(e.target.value)})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Monetization:"}),(0,g.jsxs)("select",{value:O,onChange:e=>W(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[(0,g.jsx)("option",{value:"free",children:"Free"}),(0,g.jsx)("option",{value:"notfree",children:"Not Free"})]})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Publication Date:"}),(0,g.jsx)(c.Z,{type:"date",fullWidth:!0,variant:"outlined",value:E,onChange:e=>P(e.target.value),required:!0})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)(p.Z,{label:"Upload Audio File:",onChange:e=>{var r;t(e.target.files[0]),D((null===(r=e.target.files[0])||void 0===r?void 0:r.name)||""),(e=>{const t=URL.createObjectURL(e);let r=new Audio(t);r.onloadedmetadata=()=>{I(Math.floor(r.duration)),URL.revokeObjectURL(t)}})(e.target.files[0])},fileName:L,accept:".mp3, .wav",required:!0}),(0,g.jsxs)("div",{className:"text-sm text-gray-600",children:["Maximum file size: ",300," MB"]})]}),(0,g.jsx)("div",{className:"flex justify-center",children:(0,g.jsx)(u.Z,{buttonText:"Upload"})})]}),Y&&(0,g.jsx)(h.Z,{isOpen:Y,onClose:()=>{console.log("Closing success dialog"),_(!1)},points:100,message:"Well done! You're a real YeePlatform author."})]})}},74321:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var o=r(72791),a=r(55294),i=r(21830),n=r.n(i),s=r(61567),l=r(15770),c=(r(81918),r(20890)),d=r(697),h=r(40412),u=r(17638),p=(r(59741),r(58510),r(86251)),x=r(29675),m=r(48969),g=r(90602),f=r(80184);const j=function(){const[e,t]=(0,o.useState)(null),[r,i]=(0,o.useState)(""),[j,b]=(0,o.useState)("free"),[v,w]=(0,o.useState)(!1),[Z,y]=(0,o.useState)(""),[k,C]=(0,o.useState)(""),[S,N]=(0,o.useState)(!1),[E,P]=(0,o.useState)(""),[T,A]=(0,o.useState)(!1),[B,U]=(0,o.useState)(0),[L,D]=(0,o.useState)(""),[F,I]=(0,o.useState)({duration:0,url:""}),[O,W]=(0,o.useState)(null),[z,M]=(0,o.useState)(null),[R,q]=(0,o.useState)({title:"",description:"",content:"",coverimage:"",type:"Audio",author_platform_id:"",categories:[],genres:[]}),Y=s.I8.currentUser.uid;return(0,o.useEffect)((()=>{const e=()=>{S&&A(!1)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[S]),(0,f.jsxs)("div",{className:"p-8 bg-white shadow-md rounded-lg max-w-md mx-auto",children:[(0,f.jsx)(c.Z,{variant:"h4",gutterBottom:!0,children:"Upload Audio Chapter"}),(0,f.jsxs)("form",{onSubmit:async r=>{r.preventDefault();try{if(!e||!O)return void n().fire({icon:"error",title:"Missing Files",text:"Please ensure all required files are selected."});if(A(!0),U(5),D("Well done! You're a real YeePlatform author."),!R.coverimage)return void n().fire({icon:"error",title:"Oops...",text:"Please provide a cover image."});if(R.title.length<3||R.title.length>100)return void n().fire("Error","Title should be between ".concat(3," and ").concat(100," characters."),"error");if(!(e=>e&&e.size<=157286400)(e))return void n().fire("Error","Audio file size should not exceed ".concat(150,"MB."),"error");if(R.categories.length<1)return void n().fire("Error","Please select at least ".concat(1," category(ies)."),"error");n().fire({title:"Uploading...",text:"Please wait while your chapter is being uploaded.",showConfirmButton:!1,allowOutsideClick:!1,onBeforeOpen:()=>{n().showLoading()}});const r=await(0,p.Z)(R.coverimage),o=await(0,p.Z)(R.coverimage,!0),l=await(0,p.Z)(e),c=s.I8.currentUser;if(!c)return void n().fire({icon:"error",title:"Oops...",text:"No user logged in."});const d=await a.Z.post("https://yeeplatformbackend.azurewebsites.net/AudioChapterupload/".concat(c.uid),{...R,content:l,duration:F.duration,author_platform_id:Y,coverimage:r,thumbnailUrl:o});console.log("Attempting to close Swal and open dialog..."),n().close(),d.data&&d.data.message?(t(null),b("free"),y(""),C(""),q({title:"",description:"",content:"",coverimage:"",type:"Audio",author_platform_id:"",categories:[],genres:[]}),i(""),console.log("Form reset, attempting to open dialog..."),N(!0),console.log("Dialog should now be open:",v)):n().fire({icon:"error",title:"Oops...",text:"Failed to save chapter details."})}catch(o){n().fire({icon:"error",title:"Oops...",text:"Error during chapter upload."})}},children:[(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)(m.Z,{label:"Upload Cover Image:",onChange:async e=>{const t=e.target.files[0];if(t){if(!(e=>e.size/1024/1024<=5)(t))return void n().fire("Error","Image size should not exceed 5MB.","error");const e=await(e=>new Promise((t=>{const r=new Image;r.onload=()=>{t(512===r.width&&800===r.height)},r.src=URL.createObjectURL(e)})))(t);if(!e)return void n().fire("Error","Image dimensions should be exactly 512x800 pixels.","error");W(t);const r=await(0,x.tg)(t,256);M(r),y(t.name),i(URL.createObjectURL(t)),q({...R,coverimage:URL.createObjectURL(t)})}},fileName:Z,accept:"image/*",required:!0}),r&&(0,f.jsx)(d.Z,{component:"img",src:r,alt:"Cover Preview",sx:{width:"100%",height:"auto",maxWidth:"200px",marginTop:"10px"}})]}),(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Title:"}),(0,f.jsx)(h.Z,{fullWidth:!0,variant:"outlined",type:"text",placeholder:"Title",value:R.title,onChange:e=>q({...R,title:e.target.value}),required:!0})]}),(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Categories:"}),(0,f.jsx)(l.Z,{multiple:!0,id:"tags-outlined",options:["Fiction","Nonfiction","Science Fiction","Romance","Mystery/Thriller","Fantasy","Biography","History","Business/Economics","Self-help","Health/Fitness","Cooking/Food","Travel","Technology"],getOptionLabel:e=>e,filterSelectedOptions:!0,value:R.categories,onChange:(e,t)=>{q({...R,categories:t})},renderInput:e=>(0,f.jsx)(h.Z,{...e,variant:"outlined",label:"Select Categories",placeholder:"Categories"})})]}),(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Monetization:"}),(0,f.jsxs)("select",{value:j,onChange:e=>b(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[(0,f.jsx)("option",{value:"free",children:"Free"}),(0,f.jsx)("option",{value:"notfree",children:"Not Free"})]})]}),(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description:"}),(0,f.jsx)(h.Z,{fullWidth:!0,multiline:!0,rows:4,variant:"outlined",value:R.description,onChange:e=>{e.target.value.length<=500&&q({...R,description:e.target.value})},helperText:"".concat(R.description.length,"/").concat(500),required:!0})]}),(0,f.jsx)("div",{className:"mb-4",children:(0,f.jsx)(m.Z,{label:"Upload Audio File:",onChange:e=>{const r=e.target.files[0];if(r){t(r),C(r.name);const e=new Audio(URL.createObjectURL(r));e.onloadedmetadata=function(){I({...F,duration:e.duration})}}},fileName:k,accept:"audio/*",required:!0})}),S&&(0,f.jsx)(u.Z,{isOpen:T,onClose:()=>A(!1),points:B,message:L}),(0,f.jsx)(g.Z,{buttonText:"Upload Chapter"})]})]})}},42246:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var o=r(72791),a=r(57621),i=r(42169),n=r(20890),s=r(66647),l=r(39504),c=r(5289),d=r(10387),h=r(39157),u=r(51691),p=r(97123),x=r(94294),m=r(93457),g=r(80184);const f=(0,m.Z)(a.Z)({maxWidth:345}),j=(0,m.Z)(i.Z)({height:140});const b=function(){const[e,t]=(0,o.useState)(!1),r=()=>{t(!1)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n.Z,{component:"h1",variant:"h4",children:"\ud83d\udcf0 News"}),(0,g.jsx)(f,{onClick:()=>{t(!0)},children:(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(j,{component:"img",alt:"Logo",image:"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp",title:"Logo"}),(0,g.jsxs)(l.Z,{children:[(0,g.jsx)(n.Z,{gutterBottom:!0,variant:"h5",component:"div",children:"Welcome to YeePlatform!"}),(0,g.jsx)(n.Z,{variant:"body2",color:"text.secondary",children:"Click here to learn more about our platform."})]})]})}),(0,g.jsxs)(c.Z,{open:e,onClose:r,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,g.jsx)(d.Z,{id:"scroll-dialog-title",children:"Welcome to YeePlatform!"}),(0,g.jsx)(h.Z,{dividers:!0,children:(0,g.jsx)(u.Z,{id:"scroll-dialog-description",tabIndex:-1,children:"YeePlatform is an innovative subscription platform for authors and readers. We aim to provide an excellent user experience, allowing authors to share their work and readers to access a diverse range of content. Our platform offers a unique way for authors to publish their eBooks and audiobooks, with a subscription model that rewards creators based on the engagement of their work. Readers can enjoy access to a vast library of content, with various genres and target audiences to suit their preferences. Join us today and become a part of the YeePlatform community!"})}),(0,g.jsx)(p.Z,{children:(0,g.jsx)(x.Z,{onClick:r,color:"primary",children:"Close"})})]})]})}},24826:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});r(72791);var o=r(94294),a=r(20890),i=r(61889),n=r(40412),s=r(81918),l=r(697),c=r(93457),d=r(61134),h=r(95764),u=r(15770),p=r(80184);const x=(0,c.Z)("input")({display:"none"}),m=(0,c.Z)("form")((e=>{let{theme:t}=e;return{width:"100%",marginTop:t.spacing(1)}})),g=(0,c.Z)(o.Z)((e=>{let{theme:t}=e;return{margin:t.spacing(3,0,2)}}));const f=function(){var e,t,r,c,f,j,b;const{register:v,handleSubmit:w,control:Z,formState:{errors:y}}=(0,d.cI)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.Z,{variant:"h4",gutterBottom:!0,children:"Create NFT"}),(0,p.jsx)(a.Z,{color:"error",variant:"subtitle1",children:"Note: This page is still in the test phase."}),(0,p.jsx)(m,{onSubmit:w((e=>{console.log(e)})),children:(0,p.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,p.jsx)(i.ZP,{item:!0,xs:12,children:(0,p.jsx)(n.Z,{fullWidth:!0,label:"Number of Shares",variant:"outlined",type:"number",...v("shares",{required:"Please enter the number of shares"}),error:!!y.shares,helperText:null===(e=y.shares)||void 0===e?void 0:e.message})}),(0,p.jsx)(i.ZP,{item:!0,xs:12,children:(0,p.jsx)(n.Z,{fullWidth:!0,label:"Share Price (in ETH)",variant:"outlined",type:"number",...v("sharePrice",{required:"Please enter the share price in ETH"}),error:!!y.sharePrice,helperText:null===(t=y.sharePrice)||void 0===t?void 0:t.message})}),(0,p.jsx)(i.ZP,{item:!0,xs:12,children:(0,p.jsx)(n.Z,{fullWidth:!0,label:"Book Title",variant:"outlined",...v("title",{required:"Please enter the book title"}),error:!!y.title,helperText:null===(r=y.title)||void 0===r?void 0:r.message})}),(0,p.jsx)(i.ZP,{item:!0,xs:12,children:(0,p.jsx)(n.Z,{fullWidth:!0,label:"Book Subtitle",variant:"outlined",...v("subtitle"),error:!!y.subtitle,helperText:null===(c=y.subtitle)||void 0===c?void 0:c.message})}),(0,p.jsx)(i.ZP,{item:!0,xs:12,children:(0,p.jsx)(n.Z,{fullWidth:!0,multiline:!0,rows:4,label:"Book Description",variant:"outlined",...v("description",{required:"Please enter the book description"}),error:!!y.description,helperText:null===(f=y.description)||void 0===f?void 0:f.message})}),(0,p.jsx)(i.ZP,{item:!0,xs:12,children:(0,p.jsx)(u.Z,{multiple:!0,options:["Fiction","Nonfiction","Science Fiction","Romance","Mystery/Thriller","Fantasy","Biography","History","Business/Economics","Self-help","Health/Fitness","Cooking/Food","Travel","Technology"],getOptionLabel:e=>e,renderTags:(e,t)=>e.map(((e,r)=>(0,p.jsx)(s.Z,{label:e,...t({index:r}),disabled:!0},r))),renderInput:e=>{var t;return(0,p.jsx)(n.Z,{...e,label:"Categories",variant:"outlined",fullWidth:!0,helperText:null===(t=y.categories)||void 0===t?void 0:t.message,error:!!y.categories})},control:Z,name:"categories",rules:{required:"Please select at least one category"}})}),(0,p.jsx)(i.ZP,{item:!0,xs:12,children:(0,p.jsx)(u.Z,{multiple:!0,options:["Children","Young Adult","Adult","Senior"],getOptionLabel:e=>e,renderTags:(e,t)=>e.map(((e,r)=>(0,p.jsx)(s.Z,{label:e,...t({index:r}),disabled:!0},r))),renderInput:e=>{var t;return(0,p.jsx)(n.Z,{...e,label:"Target Audiences",variant:"outlined",fullWidth:!0,helperText:null===(t=y.targetAudiences)||void 0===t?void 0:t.message,error:!!y.targetAudiences})},control:Z,name:"targetAudiences",rules:{required:"Please select at least one target audience"}})}),(0,p.jsx)(i.ZP,{item:!0,xs:12,children:(0,p.jsx)(n.Z,{fullWidth:!0,label:"Publication Date (if published)",type:"date",variant:"outlined",InputLabelProps:{shrink:!0},...v("publicationDate"),error:!!y.publicationDate,helperText:null===(j=y.publicationDate)||void 0===j?void 0:j.message})}),(0,p.jsx)(i.ZP,{item:!0,xs:12,children:(0,p.jsx)(n.Z,{fullWidth:!0,label:"ISBN (if applicable)",variant:"outlined",...v("isbn"),error:!!y.isbn,helperText:null===(b=y.isbn)||void 0===b?void 0:b.message})}),(0,p.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,p.jsx)(a.Z,{variant:"h6",gutterBottom:!0,children:"Upload Cover Image (JPG, PNG)"}),(0,p.jsx)(x,{accept:"image/jpeg, image/png",id:"cover-image",type:"file",...v("coverImage",{required:"Please upload a cover image in JPG or PNG format"})}),(0,p.jsx)("label",{htmlFor:"cover-image",children:(0,p.jsx)(o.Z,{component:"span",variant:"outlined",startIcon:(0,p.jsx)(h.Z,{}),children:"Upload Cover Image"})}),y.coverImage&&(0,p.jsx)(l.Z,{mt:1,children:(0,p.jsx)(a.Z,{variant:"caption",color:"error",children:y.coverImage.message})})]}),(0,p.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,p.jsx)(a.Z,{variant:"h6",gutterBottom:!0,children:"Upload Back Image (JPG, PNG)"}),(0,p.jsx)(x,{accept:"image/jpeg, image/png",id:"back-image",type:"file",...v("backImage",{required:"Please upload a back image in JPG or PNG format"})}),(0,p.jsx)("label",{htmlFor:"back-image",children:(0,p.jsx)(o.Z,{component:"span",variant:"outlined",startIcon:(0,p.jsx)(h.Z,{}),children:"Upload Back Image"})}),y.backImage&&(0,p.jsx)(l.Z,{mt:1,children:(0,p.jsx)(a.Z,{variant:"caption",color:"error",children:y.backImage.message})})]}),(0,p.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,p.jsx)(a.Z,{variant:"h6",gutterBottom:!0,children:"Upload Ebook (PDF format)"}),(0,p.jsx)(x,{accept:".pdf",id:"ebook-pdf",type:"file",...v("ebookPdf",{required:"Please upload the ebook in PDF format"})}),(0,p.jsx)("label",{htmlFor:"ebook-pdf",children:(0,p.jsx)(o.Z,{component:"span",variant:"outlined",startIcon:(0,p.jsx)(h.Z,{}),children:"Upload Ebook PDF"})}),y.ebookPdf&&(0,p.jsx)(l.Z,{mt:1,children:(0,p.jsx)(a.Z,{variant:"caption",color:"error",children:y.ebookPdf.message})})]}),(0,p.jsx)(i.ZP,{item:!0,xs:12,children:(0,p.jsx)(g,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"Submit"})})]})})]})}},24917:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var o=r(72791),a=r(73575),i=r(21830),n=r.n(i),s=(r(48876),r(55294)),l=r(61567),c=r(34083),d=r(80184);function h(){var e,t,r;const{user:i}=(0,o.useContext)(a.Vo),[h,u]=(0,o.useState)({});(0,o.useEffect)((()=>{const e=l.I8.currentUser.uid;s.Z.get("https://yeeplatformbackend.azurewebsites.net/userDetails/".concat(e)).then((e=>{const t=e.data;u(t)})).catch((e=>{console.error("Error fetching user data:",e)}))}),[]);return(0,d.jsxs)("div",{className:"p-8 space-y-4",children:[(0,d.jsx)("h1",{className:"text-xl font-semibold",children:"Author Profile"}),(0,d.jsxs)("div",{className:"flex items-center justify-center space-x-4 relative",children:[(0,d.jsx)("img",{alt:"Profile Picture",src:h.profileImage||"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp",className:"w-32 h-32 rounded-full"}),(0,d.jsx)("input",{type:"file",id:"profilePic",className:"hidden",accept:"image/*",onChange:async e=>{if(0===e.target.files.length)return;n().fire({title:"Uploading...",text:"Your image is being uploaded. Please wait...",allowOutsideClick:!1,didOpen:()=>{n().showLoading()}});const t=new FormData;t.append("image",e.target.files[0]);const r=l.I8.currentUser.uid;try{var o;const e=await s.Z.post("https://yeeplatformbackend.azurewebsites.net/userprofilestore/".concat(r),t);if(null===(o=e.data)||void 0===o||!o.imageUrl)throw new Error("Image upload failed");u((t=>({...t,profileImage:e.data.imageUrl}))),n().fire("Success","Image uploaded successfully!","success")}catch(a){n().fire("Oops...","Error uploading the image!","error")}}}),(0,d.jsx)("label",{htmlFor:"profilePic",className:"cursor-pointer absolute bottom-2 right-2 bg-gray-600 bg-opacity-50 rounded-full p-2",children:"\ud83d\udcf7"})]}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Name",value:h.username||"",onChange:e=>u((t=>({...t,username:e.target.value})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Age",value:h.age||"",onChange:e=>u((t=>({...t,age:e.target.value})))}),(0,d.jsx)("textarea",{className:"w-full p-2 border rounded-md",placeholder:"Bio",value:h.bio||"",onChange:e=>u((t=>({...t,bio:e.target.value})))}),(0,d.jsxs)("select",{className:"w-full p-2 border rounded-md",value:h.country||"",onChange:e=>u((t=>({...t,country:e.target.value}))),children:[(0,d.jsx)("option",{value:"",children:"Select a country"}),c.h.map((e=>(0,d.jsx)("option",{value:e,children:e},e)))]}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Email",value:h.email||"",readOnly:!0}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Phone",value:h.phone||"",onChange:e=>u((t=>({...t,phone:e.target.value})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Twitter",value:(null===(e=h.socialLinks)||void 0===e?void 0:e.twitter)||"",onChange:e=>u((t=>({...t,socialLinks:{...t.socialLinks,twitter:e.target.value}})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Instagram",value:(null===(t=h.socialLinks)||void 0===t?void 0:t.instagram)||"",onChange:e=>u((t=>({...t,socialLinks:{...t.socialLinks,instagram:e.target.value}})))}),(0,d.jsx)("input",{className:"w-full p-2 border rounded-md",type:"text",placeholder:"Facebook",value:(null===(r=h.socialLinks)||void 0===r?void 0:r.facebook)||"",onChange:e=>u((t=>({...t,socialLinks:{...t.socialLinks,facebook:e.target.value}})))}),(0,d.jsx)("button",{className:"w-full p-2 mt-4 text-white bg-blue-500 rounded-md",onClick:async()=>{n().fire({title:"Updating...",text:"Your profile is being updated. Please wait...",allowOutsideClick:!1,didOpen:()=>{n().showLoading()}});const e=l.I8.currentUser.uid;try{const t=await s.Z.put("https://yeeplatformbackend.azurewebsites.net/updateaccountinfo/".concat(e),h);if(!t.data.success||"User data updated successfully"!==t.data.message)throw new Error("Profile update failed");n().fire("Success","Profile updated successfully!","success")}catch(t){n().fire("Oops...","Error updating your profile!","error")}},children:"Update Profile"})]})}},57805:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});r(72791);var o=r(19913),a=r(82165),i=r(82839),n=r(90466),s=r(12891),l=r(71827),c=r(27281),d=r(62066),h=r(38725),u=r(2339),p=r(89164),x=r(20890),m=r(61889),g=r(697),f=r(80184);const j=[],b=[];const v=function(){return(0,f.jsxs)(p.Z,{children:[(0,f.jsx)(x.Z,{variant:"h4",gutterBottom:!0,children:"Author Statistics"}),(0,f.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,f.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:"Total monthly earnings"}),(0,f.jsx)(o.h,{width:"100%",height:300,children:(0,f.jsxs)(a.w,{data:b,children:[(0,f.jsx)(i.q,{strokeDasharray:"3 3"}),(0,f.jsx)(n.K,{dataKey:"month"}),(0,f.jsx)(s.B,{}),(0,f.jsx)(l.u,{}),(0,f.jsx)(c.D,{}),(0,f.jsx)(d.x,{type:"monotone",dataKey:"earnings",stroke:"#8884d8",activeDot:{r:8}})]})})]}),(0,f.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:"Readers vs. Listeners"}),(0,f.jsx)(o.h,{width:"100%",height:300,children:(0,f.jsxs)(h.v,{data:j,children:[(0,f.jsx)(i.q,{strokeDasharray:"3 3"}),(0,f.jsx)(n.K,{dataKey:"content"}),(0,f.jsx)(s.B,{}),(0,f.jsx)(l.u,{}),(0,f.jsx)(c.D,{}),(0,f.jsx)(u.$,{dataKey:"readers",fill:"#8884d8"}),(0,f.jsx)(u.$,{dataKey:"listeners",fill:"#82ca9d"})]})})]}),(0,f.jsxs)(m.ZP,{item:!0,xs:12,sm:4,children:[(0,f.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:"Number of eBooks"}),(0,f.jsx)(g.Z,{fontWeight:"fontWeightBold",fontSize:"h4.fontSize",children:"0"})]}),(0,f.jsxs)(m.ZP,{item:!0,xs:12,sm:4,children:[(0,f.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:"Number of Audiobooks"}),(0,f.jsx)(g.Z,{fontWeight:"fontWeightBold",fontSize:"h4.fontSize",children:"0"})]}),(0,f.jsxs)(m.ZP,{item:!0,xs:12,sm:4,children:[(0,f.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:"Total Earnings"}),(0,f.jsx)(g.Z,{fontWeight:"fontWeightBold",fontSize:"h4.fontSize",children:"$0"})]})]})]})}},36995:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});r(72791);var o=r(20890),a=r(94294),i=r(6409),n=r(44281),s=r(80184);function l(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{children:"\n          @keyframes yellowBubbles {\n            0% {\n              background-position: 0% 50%;\n            }\n            50% {\n              background-position: 100% 50%;\n            }\n            100% {\n              background-position: 0% 50%;\n            }\n          }\n\n          .yellowBubblesAnimation {\n            background: radial-gradient(circle, rgba(255,255,224,1) 0%, rgba(255,255,224,0) 70%);\n            background-size: 200% 200%;\n            animation: yellowBubbles 5s ease infinite;\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n          }\n        "}),(0,s.jsx)("div",{className:"yellowBubblesAnimation"}),(0,s.jsx)(o.Z,{component:"h1",variant:"h5",children:"Support"}),(0,s.jsx)(a.Z,{variant:"contained",color:"primary",startIcon:(0,s.jsx)(i.Z,{}),onClick:()=>{window.open("https://wa.me/256784906354","_blank")},sx:{mt:2},children:"Contact via WhatsApp"}),(0,s.jsx)(a.Z,{variant:"outlined",color:"primary",startIcon:(0,s.jsx)(n.Z,{}),onClick:()=>{window.location.href="mailto:nkugwamarkwilliam@gmail.com"},sx:{mt:2,ml:2},children:"Contact via Email"})]})}},79912:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var o=r(72791),a=r(21830),i=r.n(a),n=r(98011),s=r(20890),l=r(15770),c=r(40412),d=r(48969),h=r(90602),u=r(17638),p=r(29675),x=r(86251),m=r(80184);const g=()=>{var e;const[t,r]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=()=>{t&&r(!1)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[t]);const[a,g]=(0,o.useState)(""),[f,j]=(0,o.useState)(""),[b,v]=(0,o.useState)(""),[w,Z]=(0,o.useState)(null),[y,k]=(0,o.useState)(""),[C,S]=(0,o.useState)(!1),[N,E]=(0,o.useState)([]),[P,T]=(0,o.useState)(""),[A,B]=(0,o.useState)(null),U=e=>new Promise((t=>{const r=new Image;r.onload=()=>{t(512===r.width&&800===r.height)},r.src=URL.createObjectURL(e)})),L=null===(e=(0,n.v0)().currentUser)||void 0===e?void 0:e.uid;return(0,m.jsxs)("div",{className:"p-8 bg-white shadow-md rounded-lg max-w-md mx-auto",children:[(0,m.jsx)(s.Z,{variant:"h4",className:"text-center mb-6",children:"Upload a Chapter"}),(0,m.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a.length<5||f.length<20||b.length<100)return void i().fire("Error!","Please ensure all fields meet the minimum length requirements.","error");i().fire({title:"Uploading...",text:"Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,showConfirmButton:!1,onBeforeOpen:()=>{i().showLoading()}});let t="";if(A)try{const e=await(0,p.tg)(w,256);t=await(0,x.Z)(e,!0)}catch(n){return console.error("Error resizing image:",n),void i().fire("Error","Failed to resize the image.","error")}const o=new FormData;o.append("title",a),o.append("description",f),o.append("content",b),o.append("type","Text"),o.append("author_platform_id",L),o.append("categories",N.join(", ")),o.append("thumbnailUrl",t),w&&o.append("coverimage",w);try{const e=await fetch("https://yeeplatformbackend.azurewebsites.net/uploadchapter/".concat(L),{method:"POST",body:o}),t=await e.text();if(console.log("Response Status:",e.status),console.log("Response Body:",t),i().close(),!e.ok)throw new Error("Error uploading chapter");JSON.parse(t);r(!0),g(""),j(""),v(""),Z(null),k(""),T(""),E([])}catch(n){i().close(),i().fire("Error!",n.message,"error")}},children:[(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{htmlFor:"title",className:"block text-gray-700 text-sm font-bold mb-2",children:"Title"}),(0,m.jsx)("input",{type:"text",id:"title",className:"w-full p-2 border rounded",value:a,onChange:e=>g(e.target.value),required:!0}),(0,m.jsxs)("p",{className:"text-right text-xs",children:[a.length,"/",100]})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{htmlFor:"description",className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),(0,m.jsx)("textarea",{id:"description",className:"w-full p-2 border rounded",value:f,onChange:e=>j(e.target.value),required:!0}),(0,m.jsxs)("p",{className:"text-right text-xs",children:[f.length,"/",500]})]}),(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsx)(l.Z,{multiple:!0,options:["Fiction","Nonfiction","Science Fiction","Romance","Mystery/Thriller","Fantasy","Biography","History","Business/Economics","Self-help","Health/Fitness","Cooking/Food","Travel","Technology"],getOptionLabel:e=>e,filterSelectedOptions:!0,value:N,onChange:(e,t)=>E(t),renderInput:e=>(0,m.jsx)(c.Z,{...e,variant:"outlined",label:"Categories",placeholder:"Select Categories"})})}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)("label",{htmlFor:"content",className:"block text-gray-700 text-sm font-bold mb-2",children:"Content"}),(0,m.jsx)("textarea",{id:"content",rows:"10",className:"w-full p-2 border rounded",value:b,onChange:e=>v(e.target.value),required:!0}),(0,m.jsxs)("p",{className:"text-right text-xs",children:[b.length,"/",1e4]})]}),(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsx)(d.Z,{onChange:async e=>{const t=e.target.files[0];if(t){if(!(0,p.Rn)(t,.001,5))return void i().fire("Error","Image size should not exceed 5MB.","error");if(!await U(t,512,800))return void i().fire("Error","Invalid image dimensions.","error");try{Z(t),k(t.name),T(URL.createObjectURL(t))}catch(r){console.error("Error resizing image:",r),i().fire("Error","Failed to resize the image.","error")}}},fileName:y,accept:".jpg, .jpeg, .png",label:"Upload Cover Image (Max size: ".concat(5,"MB)")}),P&&(0,m.jsx)("img",{src:P,alt:"Cover Preview",className:"mt-4 w-full h-auto"})]}),(0,m.jsx)("div",{className:"flex justify-center",children:(0,m.jsx)(h.Z,{buttonText:"Upload"})})]}),t&&(0,m.jsx)(u.Z,{isOpen:t,onClose:()=>r(!1),points:5,message:"Well done! You're a real YeePlatform author."})]})}},86576:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var o=r(72791),a=r(20890),i=r(39281),n=r(35527),s=r(79836),l=r(56890),c=r(35855),d=r(53994),h=r(53382),u=r(94294),p=r(5289),x=r(10387),m=r(39157),g=r(51691),f=r(40412),j=r(97123),b=r(61567),v=r(21830),w=r.n(v),Z=r(80184);const y=()=>{const[e,t]=(0,o.useState)([]),[r,v]=(0,o.useState)(!1),[y,k]=(0,o.useState)(""),[C,S]=(0,o.useState)(""),N=async()=>{w().showLoading();try{const e=await fetch("https://yeeplatformbackend.azurewebsites.net/getauthoraudios?userId=".concat(b.I8.currentUser.uid));if(!e.ok)throw new Error("Error fetching audiobooks: ".concat(e.statusText));{const r=await e.json();t(r)}}catch(e){console.error("Error fetching audiobooks:",e)}finally{w().close()}};(0,o.useEffect)((()=>{N()}),[]);const E=()=>{v(!1)};return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(a.Z,{variant:"h4",component:"h2",children:"My Audio books"}),(0,Z.jsxs)(i.Z,{component:n.Z,children:[(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(l.Z,{children:(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{children:"Title"}),(0,Z.jsx)(d.Z,{children:"Published On"}),(0,Z.jsx)(d.Z,{children:"Description"}),(0,Z.jsx)(d.Z,{children:"Duration"}),(0,Z.jsx)(d.Z,{children:"Actions"})]})}),(0,Z.jsx)(h.Z,{children:e.map((e=>(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{children:e.title}),(0,Z.jsx)(d.Z,{children:e.publishedDate}),(0,Z.jsx)(d.Z,{children:e.description}),(0,Z.jsx)(d.Z,{children:e.duration}),(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(u.Z,{onClick:()=>{return t=e.description,r=e._id,k(t),S(r),void v(!0);var t,r},children:"Edit"}),(0,Z.jsx)(u.Z,{onClick:()=>(async e=>{w().fire({title:"Are you sure?",text:"This will permanently delete the audiobook.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async r=>{if(r.isConfirmed)try{w().showLoading();const r=await fetch("https://yeeplatformbackend.azurewebsites.net/deleteAudiobook/".concat(e),{method:"DELETE"});if(!r.ok)throw new Error("Failed to delete the book: ".concat(r.statusText));t((t=>t.filter((t=>t._id!==e)))),w().fire("Deleted!","The audiobook has been deleted.","success"),N()}catch(o){w().fire("Oops...","Something went wrong while deleting the book!","error")}finally{w().close(),E()}}))})(e._id),children:"Delete"})]})]},e._id)))})]}),0===e.length&&(0,Z.jsx)(a.Z,{variant:"h6",style:{textAlign:"center",padding:"20px",color:"grey"},children:"No data available."})]}),(0,Z.jsxs)(p.Z,{open:r,onClose:E,children:[(0,Z.jsx)(x.Z,{children:"Edit Audiobook Description"}),(0,Z.jsxs)(m.Z,{children:[(0,Z.jsx)(g.Z,{children:"Please edit the description of the selected audiobook."}),(0,Z.jsx)(f.Z,{autoFocus:!0,margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,value:y,onChange:e=>k(e.target.value)})]}),(0,Z.jsxs)(j.Z,{children:[(0,Z.jsx)(u.Z,{onClick:E,children:"Cancel"}),(0,Z.jsx)(u.Z,{onClick:async()=>{try{w().showLoading();const e=await fetch("https://yeeplatformbackend.azurewebsites.net/updateABD",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:C,description:y})});if(!e.ok)throw new Error("Failed to update the description: ".concat(e.statusText));{const r=await e.json();t((e=>e.map((e=>e._id===C?r:e)))),v(!1),N()}}catch(e){w().fire("Oops...","Something went wrong while updating the description!","error")}finally{w().close(),E()}},children:"Save"})]})]})]})}},18914:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var o=r(72791),a=r(20890),i=r(39281),n=r(35527),s=r(79836),l=r(56890),c=r(35855),d=r(53994),h=r(53382),u=r(94294),p=r(5289),x=r(10387),m=r(39157),g=r(51691),f=r(40412),j=r(97123),b=r(61567),v=r(21830),w=r.n(v),Z=r(80184);const y=()=>{const[e,t]=(0,o.useState)([]),[r,v]=(0,o.useState)(!1),[y,k]=(0,o.useState)(""),[C,S]=(0,o.useState)([]),[N,E]=(0,o.useState)(null),[P,T]=(0,o.useState)(null),[A,B]=(0,o.useState)(""),[U,L]=(0,o.useState)(!1),[D,F]=(0,o.useState)(""),I=async()=>{const e=b.I8.currentUser;if(e)try{const r=await fetch("https://yeeplatformbackend.azurewebsites.net/getauthorchapter/".concat(e.uid));if(!r.ok){const e=await r.json();throw new Error(e.message||"An error occurred while fetching the chapters.")}const o=await r.json();t(o),k("")}catch(y){console.error("Error fetching text chapters:",y),k(y.toString()),t([])}else k("No user found in auth.")},O=async()=>{const e=b.I8.currentUser;if(e)try{const t=await fetch("https://yeeplatformbackend.azurewebsites.net/getAudioChapters/".concat(e.uid));if(!t.ok){const e=await t.json();throw new Error(e.message||"An error occurred while fetching the audio chapters.")}const r=await t.json();S(r),k("")}catch(y){console.error("Error fetching audio chapters:",y),k(y.toString()),S([])}else k("No user found in auth.")},W=()=>{I(),O()};(0,o.useEffect)((()=>{I(),O()}),[]);const z=()=>{v(!1)},M=async function(r){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];w().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async a=>{if(a.isConfirmed){w().showLoading();try{const a=o?"https://yeeplatformbackend.azurewebsites.net/deleteaudiochapter/".concat(r):"https://yeeplatformbackend.azurewebsites.net/deletechapter/".concat(r);if(!(await fetch(a,{method:"DELETE"})).ok)throw new Error("Failed to delete the chapter.");W(),o?S(C.filter((e=>e.id!==r))):t(e.filter((e=>e.id!==r))),w().hideLoading(),w().fire("Deleted!","Your file has been deleted.","success")}catch(y){w().hideLoading(),w().fire("Error!","There was an issue deleting your chapter.","error"),console.error("Error deleting chapter:",y)}}}))};return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(a.Z,{variant:"h4",component:"h2",children:"My Chapters"}),(0,Z.jsx)(i.Z,{component:n.Z,children:(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(l.Z,{children:(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{children:"Book Title"}),(0,Z.jsx)(d.Z,{children:"Description"}),(0,Z.jsx)(d.Z,{children:"Actions"})]})}),(0,Z.jsx)(h.Z,{children:e.map((e=>(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{children:e.title}),(0,Z.jsx)(d.Z,{children:e.description}),(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(u.Z,{onClick:()=>((e,t)=>{console.log("Opening chapter for edit:",e),E(e),B(t),v(!0)})(e,e._id),children:"Edit"}),(0,Z.jsx)(u.Z,{onClick:()=>M(e._id),children:"Delete"})]})]},e._id)))}),0===e.length&&(0,Z.jsx)(a.Z,{variant:"h6",style:{textAlign:"center",padding:"20px",color:"grey"},children:"No data available."})]})}),(0,Z.jsx)(a.Z,{variant:"h4",component:"h2",style:{marginTop:"20px"},children:"My Audio Chapters"}),(0,Z.jsxs)(i.Z,{component:n.Z,children:[(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(l.Z,{children:(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{children:"Book Title"}),(0,Z.jsx)(d.Z,{children:"Duration"}),(0,Z.jsx)(d.Z,{children:"Description"}),(0,Z.jsx)(d.Z,{children:"Audio File"}),(0,Z.jsx)(d.Z,{children:"Actions"})]})}),(0,Z.jsx)(h.Z,{children:C.map((e=>(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{children:e.title}),(0,Z.jsx)(d.Z,{children:e.duration}),(0,Z.jsx)(d.Z,{children:e.description}),(0,Z.jsx)(d.Z,{children:(0,Z.jsxs)("audio",{controls:!0,onError:e=>console.log("Error playing audio:",e),children:[(0,Z.jsx)("source",{src:e.content,type:"audio/mpeg"}),"Your browser does not support the audio element."]})}),(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(u.Z,{onClick:()=>{return t=e,r=e._id,T(t),F(r),void L(!0);var t,r},children:"Edit"}),(0,Z.jsx)(u.Z,{onClick:()=>M(e._id,!0),children:"Delete"})]})]},e._id)))})]}),0===C.length&&(0,Z.jsx)(a.Z,{variant:"h6",style:{textAlign:"center",padding:"20px",color:"grey"},children:"No audio data available."})]}),(0,Z.jsxs)(p.Z,{open:r,onClose:z,children:[(0,Z.jsx)(x.Z,{children:"Edit Chapter"}),(0,Z.jsxs)(m.Z,{children:[(0,Z.jsx)(g.Z,{children:"Please edit the chapter information."}),(0,Z.jsx)(f.Z,{margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,multiline:!0,rows:10,value:(null===N||void 0===N?void 0:N.description)||"",onChange:e=>{E({...N,description:e.target.value})}})]}),(0,Z.jsxs)(j.Z,{children:[(0,Z.jsx)(u.Z,{onClick:z,children:"Cancel"}),(0,Z.jsx)(u.Z,{onClick:async()=>{w().fire({title:"Saving chapter...",onBeforeOpen:()=>{w().showLoading()},allowOutsideClick:()=>!w().isLoading()});try{if(!(await fetch("https://yeeplatformbackend.azurewebsites.net/updatechapter/".concat(A),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).ok)throw new Error("Failed to update the chapter.");v(!1),w().fire("Success","Chapter updated successfully","success"),W()}catch(y){console.error("Error updating chapter:",y),w().fire("Error","There was a problem saving the chapter","error")}},children:"Save"})]})]}),(0,Z.jsxs)(p.Z,{open:U,onClose:()=>L(!1),children:[(0,Z.jsx)(x.Z,{children:"Edit Audio Chapter"}),(0,Z.jsx)(m.Z,{children:(0,Z.jsx)(f.Z,{margin:"dense",id:"description",label:"Description",multiline:!0,rows:4,type:"text",fullWidth:!0,value:(null===P||void 0===P?void 0:P.description)||"",onChange:e=>((e,t)=>{T({...P,[t]:e.target.value})})(e,"description")})}),(0,Z.jsxs)(j.Z,{children:[(0,Z.jsx)(u.Z,{onClick:()=>L(!1),children:"Cancel"}),(0,Z.jsx)(u.Z,{onClick:async()=>{w().fire({title:"Saving Audio Chapter...",didOpen:()=>{w().showLoading()}});try{const e={description:P.description},t=await fetch("https://yeeplatformbackend.azurewebsites.net/updateAudioChapter/".concat(D),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to update the audio chapter.")}L(!1),w().fire("Success!","Audio chapter updated successfully.","success"),W()}catch(y){w().fire("Error!","There was an issue saving your audio chapter: ".concat(y.message),"error"),console.error("Error updating audio chapter:",y)}},children:"Save"})]})]})]})}},58522:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var o=r(72791),a=r(20890),i=r(39281),n=r(35527),s=r(79836),l=r(56890),c=r(35855),d=r(53994),h=r(53382),u=r(94294),p=r(5289),x=r(10387),m=r(39157),g=r(51691),f=r(40412),j=r(97123),b=r(21830),v=r.n(b),w=r(61567),Z=r(80184);const y=()=>{const[e,t]=(0,o.useState)([]),[r,b]=(0,o.useState)(!1),[y,k]=(0,o.useState)(""),[C,S]=(0,o.useState)(""),N=async()=>{try{v().showLoading();const e=w.I8.currentUser.uid;console.log("here is the author id"+e);const r=await fetch("https://yeeplatformbackend.azurewebsites.net/getAllBooks/".concat(e)),o=await r.json();t(o),v().close()}catch(e){v().fire({icon:"error",title:"Oops...",text:"Something went wrong while fetching books!"})}};(0,o.useEffect)((()=>{N()}),[]);const E=()=>{b(!1)},P=async e=>{try{v().showLoading();if(200!==(await fetch("https://yeeplatformbackend.azurewebsites.net/deleteBook/".concat(e),{method:"DELETE"})).status)throw new Error("Failed to delete the book.");t((t=>t.filter((t=>t.id!==e)))),v().close()}catch(r){v().fire({icon:"error",title:"Oops...",text:"Something went wrong while deleting the book!"})}};return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(a.Z,{variant:"h4",component:"h2",children:"My Books"}),(0,Z.jsxs)(i.Z,{component:n.Z,children:[(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(l.Z,{children:(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{children:"Title"}),(0,Z.jsx)(d.Z,{children:"Subtitle"}),(0,Z.jsx)(d.Z,{children:"Description"}),(0,Z.jsx)(d.Z,{children:"Publication Date"}),(0,Z.jsx)(d.Z,{children:"Actions"})]})}),(0,Z.jsx)(h.Z,{children:e.map((e=>(0,Z.jsxs)(c.Z,{children:[(0,Z.jsx)(d.Z,{children:e.title}),(0,Z.jsx)(d.Z,{children:e.subtitle}),(0,Z.jsx)(d.Z,{children:e.description}),(0,Z.jsx)(d.Z,{children:e.publishedDate}),(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(u.Z,{onClick:()=>{return t=e.description,r=e._id,k(t),S(r),void b(!0);var t,r},children:"Edit"}),(0,Z.jsx)(u.Z,{onClick:()=>(e=>{v().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async t=>{t.isConfirmed&&(await P(e._id),N(),v().fire("Deleted!","Your book has been deleted.","success"))}))})(e),children:"Delete"})]})]},e._id)))})]}),0===e.length&&(0,Z.jsx)(a.Z,{variant:"h6",style:{textAlign:"center",padding:"20px",color:"grey"},children:"No data available."})]}),(0,Z.jsxs)(p.Z,{open:r,onClose:E,children:[(0,Z.jsx)(x.Z,{children:"Edit Book Description"}),(0,Z.jsxs)(m.Z,{children:[(0,Z.jsx)(g.Z,{children:"Please edit the description of the selected book."}),(0,Z.jsx)(f.Z,{autoFocus:!0,margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,value:y,onChange:e=>k(e.target.value)})]}),(0,Z.jsxs)(j.Z,{children:[(0,Z.jsx)(u.Z,{onClick:E,children:"Cancel"}),(0,Z.jsx)(u.Z,{onClick:async()=>{try{v().showLoading(),console.log("Here is book id "+C);if(200!==(await fetch("https://yeeplatformbackend.azurewebsites.net/updateDescription",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:C,description:y})})).status)throw new Error("Failed to update the description.");t((e=>e.map((e=>e.id===C?{...e,description:y}:e)))),b(!1),v().close()}catch(e){v().fire({icon:"error",title:"Oops...",text:"Something went wrong while updating the description!"})}},children:"Save"})]})]})]})}},34083:(e,t,r)=>{r.d(t,{h:()=>o});const o=["Algeria","Angola","Benin","Botswana","Burkina Faso","Burundi","Cabo Verde","Cameroon","Central African Republic","Chad","Comoros","Democratic Republic of the Congo","Republic of the Congo","Cote d'Ivoire","Djibouti","Egypt","Equatorial Guinea","Eritrea","Eswatini","Ethiopia","Gabon","Gambia","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Libya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Morocco","Mozambique","Namibia","Niger","Nigeria","Rwanda","Sao Tome and Principe","Senegal","Seychelles","Sierra Leone","Somalia","South Africa","South Sudan","Sudan","Tanzania","Togo","Tunisia","Uganda","Zambia","Zimbabwe"]},45451:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ne});var o=r(72791),a=r(697),i=r(9953),n=r(34663),s=r(42246),l=r(74752),c=r(36995),d=r(57805),h=r(79912),u=r(74321),p=r(24826),x=r(24917),m=r(46265),g=r(67107),f=r(44507),j=r(84395),b=r(13400),v=r(59402),w=r(55396),Z=r(35527),y=r(53767),k=r(13208),C=r(25028),S=r(23786),N=r(4708),E=r(98008),P=r(45274),T=r(80184);function A(e){const[t,r]=o.useState(!1),i=o.useRef(null),s=e=>{i.current&&i.current.contains(e.target)||r(!1)};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(N.ZP,{}),(0,T.jsx)(j.Z,{position:"fixed",sx:{width:{md:"calc(100% - ".concat(e.drawerWidth,"px)")},ml:{md:"".concat(e.drawerWidth,"px")},bgcolor:"success.main"},children:(0,T.jsxs)(n.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,T.jsx)(b.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:e.handleDrawerToggle,sx:{mr:2,display:{md:"none"}},children:(0,T.jsx)(E.Z,{})}),(0,T.jsx)(a.Z,{sx:{flexGrow:1}}),e.width<830?(0,T.jsx)(b.Z,{class:" ml-12 ",size:"large",color:"inherit",ref:i,id:"composition-button","aria-controls":t?"composition-menu":void 0,"aria-expanded":t?"true":void 0,"aria-haspopup":"true",onClick:()=>{r((e=>!e))},children:(0,T.jsx)(v.Z,{sx:{fontSize:30}})}):(0,T.jsx)(P.Z,{}),(0,T.jsx)("div",{children:(0,T.jsx)(w.Z,{open:t,anchorEl:i.current,role:void 0,placement:"bottom-start",transition:!0,disablePortal:!0,children:e=>{let{TransitionProps:r,placement:o}=e;return(0,T.jsx)(k.Z,{...r,style:{transformOrigin:"bottom-start"===o?"left top":"left bottom"},children:(0,T.jsx)(Z.Z,{children:(0,T.jsx)(y.d,{onClickAway:s,children:(0,T.jsxs)(C.Z,{autoFocusItem:t,id:"composition-menu","aria-labelledby":"composition-button",onKeyDown:s,children:[(0,T.jsx)(S.Z,{onClick:s,children:"Home"}),(0,T.jsx)(S.Z,{onClick:s,children:"Premium"}),(0,T.jsx)(S.Z,{onClick:s,children:"Support"}),(0,T.jsx)(S.Z,{onClick:s,children:"Download"})]})})})})}})})]})})]})}var B=r(58522),U=r(18914),L=r(86576),D=r(90493),F=r(66603),I=r(94721),O=r(15021),W=r(76278),z=r(57064),M=r(49900),R=r(40501),q=r(41788),Y=r(11087),_=r(29424),H=r(4853),G=r(93044),K=r(429),J=r(75710),$=r(89013),V=r(12752),X=r(41286),Q=r(19878),ee=r(94796);function te(){return(0,T.jsxs)("div",{children:[(0,T.jsx)(G.Z,{src:"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp",sx:{width:50,height:50,justifyContent:"center",textAlign:"center",mx:"auto",mt:-5}}),(0,T.jsx)(D.Z,{children:[{name:"Upload Ebook",path:"/dashboard/Upload",icon:(0,T.jsx)($.Z,{})},{name:"Upload Audio",path:"/dashboard/Audio",icon:(0,T.jsx)(F.Z,{})},{name:"Upload Audio Chapter",path:"/dashboard/AudioChapter",icon:(0,T.jsx)(Q.Z,{})},{name:"Write Chapter",path:"/dashboard/Write",icon:(0,T.jsx)(X.Z,{})},{name:"My Audios",path:"/dashboard/MyAudios",icon:(0,T.jsx)(ee.Z,{})},{name:"My Books",path:"/dashboard/MyBooks",icon:(0,T.jsx)(q.Z,{})},{name:"My Chapters",path:"/dashboard/MyChapters",icon:(0,T.jsx)(_.Z,{})},{name:"Statistics",path:"/dashboard/Statistics",icon:(0,T.jsx)(H.Z,{})}].map(((e,t)=>(0,T.jsx)(O.ZP,{disablePadding:!0,children:(0,T.jsx)(Y.rU,{to:e.path,children:(0,T.jsxs)(W.Z,{children:[(0,T.jsx)(z.Z,{children:e.icon}),(0,T.jsx)(M.Z,{primary:e.name})]})})},e.name)))}),(0,T.jsx)(I.Z,{}),(0,T.jsx)(D.Z,{children:[{name:"Profile",path:"/dashboard/Profile",value:"3",icon:(0,T.jsx)(R.Z,{})},{name:"News",path:"/dashboard/News",icon:(0,T.jsx)(J.Z,{})},{name:"NFTs",path:"/dashboard/Nfts",icon:(0,T.jsx)(K.Z,{})},{name:"Support",path:"/dashboard/AuthorSupport",icon:(0,T.jsx)(V.Z,{})}].map(((e,t)=>(0,T.jsx)(O.ZP,{disablePadding:!0,children:(0,T.jsx)(Y.rU,{to:e.path,children:(0,T.jsxs)(W.Z,{children:[(0,T.jsx)(z.Z,{children:e.icon}),(0,T.jsx)(M.Z,{primary:e.name})]})})},e.name)))})]})}var re=r(59282),oe=r(57689);const ae=(0,g.Z)({palette:{background:{paper:"#fff"},text:{primary:"#173A5E",secondary:"#46505A"},action:{active:"#001E3C"},success:{main:"#ffde59"},outline:{main:"#fff"}}}),ie=240;const ne=function(e){const t=(0,re.Lm)(),{window:r}=e,[g,j]=o.useState(!1),b=()=>{j(!g)},[v,w]=o.useState(!1),Z=o.useRef(null),y=o.useRef(v);o.useEffect((()=>{!0===y.current&&!1===v&&Z.current.focus(),y.current=v}),[v]);const k=(0,T.jsxs)("div",{children:[(0,T.jsx)(n.Z,{}),(0,T.jsx)(te,{})]}),C=void 0!==r?()=>r().document.body:void 0;return(0,T.jsx)(f.Z,{theme:ae,children:(0,T.jsxs)(a.Z,{sx:{display:"flex"},children:[(0,T.jsx)(A,{handleDrawerToggle:b,width:t,drawerWidth:ie,handleClose:e=>{Z.current&&Z.current.contains(e.target)||w(!1)},handleListKeyDown:function(e){"Tab"===e.key?(e.preventDefault(),w(!1)):"Escape"===e.key&&w(!1)},anchorRef:Z.current,handleToggle:()=>{w((e=>!e))},anchorRef1:Z}),(0,T.jsxs)(a.Z,{component:"nav",sx:{width:{md:ie},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,T.jsx)(i.ZP,{container:C,variant:"temporary",open:g,onClose:b,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:ie}},children:k}),(0,T.jsx)(i.ZP,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:ie}},open:!0,children:k})]}),(0,T.jsxs)(a.Z,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(ie,"px)")}},children:[(0,T.jsx)(n.Z,{}),(0,T.jsxs)(oe.Z5,{children:[(0,T.jsx)(oe.AW,{path:"/",index:!0,element:(0,T.jsx)(s.default,{})}),(0,T.jsx)(oe.AW,{path:"Upload",element:(0,T.jsx)(l.default,{})}),(0,T.jsx)(oe.AW,{path:"Write",element:(0,T.jsx)(h.default,{})}),(0,T.jsx)(oe.AW,{path:"Profile",element:(0,T.jsx)(x.default,{})}),(0,T.jsx)(oe.AW,{path:"News",index:!0,element:(0,T.jsx)(s.default,{})}),(0,T.jsx)(oe.AW,{path:"Audio",index:!0,element:(0,T.jsx)(m.default,{})}),(0,T.jsx)(oe.AW,{path:"AudioChapter",element:(0,T.jsx)(u.default,{})}),(0,T.jsx)(oe.AW,{path:"Nfts",index:!0,element:(0,T.jsx)(p.default,{})}),(0,T.jsx)(oe.AW,{path:"AuthorSupport",index:!0,element:(0,T.jsx)(c.default,{})}),(0,T.jsx)(oe.AW,{path:"Statistics",index:!0,element:(0,T.jsx)(d.default,{})}),(0,T.jsx)(oe.AW,{path:"Mybooks",index:!0,element:(0,T.jsx)(B.default,{})}),(0,T.jsx)(oe.AW,{path:"MyAudios",index:!0,element:(0,T.jsx)(L.default,{})}),(0,T.jsx)(oe.AW,{path:"MyChapters",index:!0,element:(0,T.jsx)(U.default,{})})]})]})]})})}},45274:(e,t,r)=>{r.d(t,{Z:()=>s});r(72791);var o=r(36314),a=r(20890),i=r(11087),n=r(80184);const s=function(){return(0,n.jsxs)(o.Z,{spacing:5,direction:"row",className:"hidden lg:flex",sx:{marginLeft:"auto"},children:[(0,n.jsx)(i.rU,{to:"/",className:"no-underline text-white hover:text-yellow-300",children:(0,n.jsx)(a.Z,{variant:"body2",children:"Home"})}),(0,n.jsx)(i.rU,{to:"/Permium",className:"no-underline text-white hover:text-yellow-300",children:(0,n.jsx)(a.Z,{variant:"body2",children:"Permium"})}),(0,n.jsx)(i.rU,{to:"/Support",className:"no-underline text-white hover:text-yellow-300",children:(0,n.jsx)(a.Z,{variant:"body2",children:"Support"})}),(0,n.jsx)(i.rU,{to:"/Download",className:"no-underline text-white hover:text-yellow-300",children:(0,n.jsx)(a.Z,{variant:"body2",children:"Download"})})]})}}}]);
//# sourceMappingURL=5451.684b3d11.chunk.js.map