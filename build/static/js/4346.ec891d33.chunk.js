"use strict";(self.webpackChunkyeeplatform=self.webpackChunkyeeplatform||[]).push([[4346,5399],{63869:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var n=o(65043),i=o(85865),r=o(79650),l=o(63336),s=o(71806),a=o(84882),c=o(28076),d=o(10039),u=o(73460),h=o(11906),p=o(90035),A=o(26600),f=o(35316),m=o(98533),v=o(88861),g=o(29347),x=o(30064),w=o.n(x),S=o(5399),y=o(70579);const b=()=>{const[e,t]=(0,n.useState)([]),[o,x]=(0,n.useState)(!1),[b,j]=(0,n.useState)(""),[C,k]=(0,n.useState)(""),z=async()=>{try{w().showLoading();const e=S.auth.currentUser.uid;console.log("here is the author id"+e);const o=await fetch("https://yeeplatformbackend.azurewebsites.net/getAllBooks/".concat(e)),n=await o.json();t(n),w().close()}catch(e){w().fire({icon:"error",title:"Oops...",text:"Something went wrong while fetching books!"})}};(0,n.useEffect)((()=>{z()}),[]);const D=()=>{x(!1)},I=async e=>{try{w().showLoading();if(200!==(await fetch("https://yeeplatformbackend.azurewebsites.net/deleteBook/".concat(e),{method:"DELETE"})).status)throw new Error("Failed to delete the book.");t((t=>t.filter((t=>t.id!==e)))),w().close()}catch(o){w().fire({icon:"error",title:"Oops...",text:"Something went wrong while deleting the book!"})}};return(0,y.jsxs)("div",{children:[(0,y.jsx)(i.A,{variant:"h4",component:"h2",children:"My Books"}),(0,y.jsxs)(r.A,{component:l.A,children:[(0,y.jsxs)(s.A,{children:[(0,y.jsx)(a.A,{children:(0,y.jsxs)(c.A,{children:[(0,y.jsx)(d.A,{children:"Title"}),(0,y.jsx)(d.A,{children:"Subtitle"}),(0,y.jsx)(d.A,{children:"Description"}),(0,y.jsx)(d.A,{children:"Publication Date"}),(0,y.jsx)(d.A,{children:"Actions"})]})}),(0,y.jsx)(u.A,{children:e.map((e=>(0,y.jsxs)(c.A,{children:[(0,y.jsx)(d.A,{children:e.title}),(0,y.jsx)(d.A,{children:e.subtitle}),(0,y.jsx)(d.A,{children:e.description}),(0,y.jsx)(d.A,{children:e.publishedDate}),(0,y.jsxs)(d.A,{children:[(0,y.jsx)(h.A,{onClick:()=>{return t=e.description,o=e._id,j(t),k(o),void x(!0);var t,o},children:"Edit"}),(0,y.jsx)(h.A,{onClick:()=>(e=>{w().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async t=>{t.isConfirmed&&(await I(e._id),z(),w().fire("Deleted!","Your book has been deleted.","success"))}))})(e),children:"Delete"})]})]},e._id)))})]}),0===e.length&&(0,y.jsx)(i.A,{variant:"h6",style:{textAlign:"center",padding:"20px",color:"grey"},children:"No data available."})]}),(0,y.jsxs)(p.A,{open:o,onClose:D,children:[(0,y.jsx)(A.A,{children:"Edit Book Description"}),(0,y.jsxs)(f.A,{children:[(0,y.jsx)(m.A,{children:"Please edit the description of the selected book."}),(0,y.jsx)(v.A,{autoFocus:!0,margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,value:b,onChange:e=>j(e.target.value)})]}),(0,y.jsxs)(g.A,{children:[(0,y.jsx)(h.A,{onClick:D,children:"Cancel"}),(0,y.jsx)(h.A,{onClick:async()=>{try{w().showLoading(),console.log("Here is book id "+C);if(200!==(await fetch("https://yeeplatformbackend.azurewebsites.net/updateDescription",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:C,description:b})})).status)throw new Error("Failed to update the description.");t((e=>e.map((e=>e.id===C?{...e,description:b}:e)))),x(!1),w().close()}catch(e){w().fire({icon:"error",title:"Oops...",text:"Something went wrong while updating the description!"})}},children:"Save"})]})]})]})}},5399:(e,t,o)=>{o.d(t,{$s:()=>i.$s,Cg:()=>d,GoogleAuthProvider:()=>r.HF,auth:()=>a,onAuthStateChanged:()=>r.hg,signInWithEmailAndPassword:()=>r.x9,signInWithPopup:()=>r.df,signOut:()=>r.CI,zS:()=>c});var n=o(37064),i=o(82413),r=o(32813);const l={apiKey:"AIzaSyBXS56tIro9cd-Sd4ySn5AwLw3T6cnMHr0",authDomain:"yeeplatform.firebaseapp.com",projectId:"yeeplatform",storageBucket:"yeeplatform.appspot.com",messagingSenderId:"272587831821",appId:"1:272587831821:web:b612b427ff43968f33f344",measurementId:"G-YZV03469PP"};let s,a,c;(async()=>{if(!s){s=(0,n.Wp)(l),a=(0,r.xI)(s);await(0,i.TT)()&&(c=(0,i.P5)(s))}})();const d=(e,t)=>{c&&(0,i.$s)(c,e,t)}},29347:(e,t,o)=>{o.d(t,{A:()=>m});var n=o(98587),i=o(58168),r=o(65043),l=o(69292),s=o(68606),a=o(34535),c=o(72876),d=o(57056),u=o(32400);function h(e){return(0,u.Ay)("MuiDialogActions",e)}(0,d.A)("MuiDialogActions",["root","spacing"]);var p=o(70579);const A=["className","disableSpacing"],f=(0,a.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,i.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),m=r.forwardRef((function(e,t){const o=(0,c.A)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:a=!1}=o,d=(0,n.A)(o,A),u=(0,i.A)({},o,{disableSpacing:a}),m=(e=>{const{classes:t,disableSpacing:o}=e,n={root:["root",!o&&"spacing"]};return(0,s.A)(n,h,t)})(u);return(0,p.jsx)(f,(0,i.A)({className:(0,l.A)(m.root,r),ownerState:u,ref:t},d))}))},35316:(e,t,o)=>{o.d(t,{A:()=>v});var n=o(98587),i=o(58168),r=o(65043),l=o(69292),s=o(68606),a=o(34535),c=o(72876),d=o(57056),u=o(32400);function h(e){return(0,u.Ay)("MuiDialogContent",e)}(0,d.A)("MuiDialogContent",["root","dividers"]);var p=o(87034),A=o(70579);const f=["className","dividers"],m=(0,a.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:o}=e;return(0,i.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(p.A.root," + &")]:{paddingTop:0}})})),v=r.forwardRef((function(e,t){const o=(0,c.A)({props:e,name:"MuiDialogContent"}),{className:r,dividers:a=!1}=o,d=(0,n.A)(o,f),u=(0,i.A)({},o,{dividers:a}),p=(e=>{const{classes:t,dividers:o}=e,n={root:["root",o&&"dividers"]};return(0,s.A)(n,h,t)})(u);return(0,A.jsx)(m,(0,i.A)({className:(0,l.A)(p.root,r),ownerState:u,ref:t},d))}))},59662:(e,t,o)=>{o.d(t,{A:()=>x});var n=o(58168),i=o(65043),r=o(98587),l=o(69292),s=o(68606),a=o(6803),c=o(72876),d=o(34535),u=o(57056),h=o(32400);function p(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,u.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var A=o(70579);const f=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,d.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,"inherit"!==o.color&&t["color".concat((0,a.A)(o.color))],t["fontSize".concat((0,a.A)(o.fontSize))]]}})((e=>{let{theme:t,ownerState:o}=e;var n,i,r,l,s,a,c,d,u,h,p,A,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:o.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=t.transitions)||null==(i=n.create)?void 0:i.call(n,"fill",{duration:null==(r=t.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(l=t.typography)||null==(s=l.pxToRem)?void 0:s.call(l,20))||"1.25rem",medium:(null==(a=t.typography)||null==(c=a.pxToRem)?void 0:c.call(a,24))||"1.5rem",large:(null==(d=t.typography)||null==(u=d.pxToRem)?void 0:u.call(d,35))||"2.1875rem"}[o.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[o.color])?void 0:p.main)?h:{action:null==(A=(t.vars||t).palette)||null==(A=A.action)?void 0:A.active,disabled:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.disabled,inherit:void 0}[o.color]}})),v=i.forwardRef((function(e,t){const o=(0,c.A)({props:e,name:"MuiSvgIcon"}),{children:d,className:u,color:h="inherit",component:v="svg",fontSize:g="medium",htmlColor:x,inheritViewBox:w=!1,titleAccess:S,viewBox:y="0 0 24 24"}=o,b=(0,r.A)(o,f),j=i.isValidElement(d)&&"svg"===d.type,C=(0,n.A)({},o,{color:h,component:v,fontSize:g,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:y,hasSvgAsChild:j}),k={};w||(k.viewBox=y);const z=(e=>{const{color:t,fontSize:o,classes:n}=e,i={root:["root","inherit"!==t&&"color".concat((0,a.A)(t)),"fontSize".concat((0,a.A)(o))]};return(0,s.A)(i,p,n)})(C);return(0,A.jsxs)(m,(0,n.A)({as:v,className:(0,l.A)(z.root,u),focusable:"false",color:x,"aria-hidden":!S||void 0,role:S?"img":void 0,ref:t},k,b,j&&d.props,{ownerState:C,children:[j?d.props.children:d,S?(0,A.jsx)("title",{children:S}):null]}))}));v.muiName="SvgIcon";const g=v;function x(e,t){function o(o,i){return(0,A.jsx)(g,(0,n.A)({"data-testid":"".concat(t,"Icon"),ref:i},o,{children:e}))}return o.muiName=g.muiName,i.memo(i.forwardRef(o))}},80950:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(76440).A},90154:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(65043);const i=function(e,t){var o,i;return n.isValidElement(e)&&-1!==t.indexOf(null!=(o=e.type.muiName)?o:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},22427:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(22144).A},36078:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(46288).A},54516:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(41944).A},55013:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(63844).A},44708:(e,t,o)=>{function n(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(((e,t)=>null==t?e:function(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];e.apply(this,n),t.apply(this,n)}),(()=>{}))}o.d(t,{A:()=>n})},76440:(e,t,o)=>{function n(e){let t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),o)}return n.clear=()=>{clearTimeout(t)},n}o.d(t,{A:()=>n})},22144:(e,t,o)=>{function n(e){return e&&e.ownerDocument||document}o.d(t,{A:()=>n})},46288:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(22144);function i(e){return(0,n.A)(e).defaultView||window}},41944:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(65043);function i(e){let{controlled:t,default:o,name:i,state:r="value"}=e;const{current:l}=n.useRef(void 0!==t),[s,a]=n.useState(o);return[l?t:s,n.useCallback((e=>{l||a(e)}),[])]}},20992:(e,t,o)=>{var n;o.d(t,{A:()=>s});var i=o(65043);let r=0;const l=(n||(n=o.t(i,2)))["useId".toString()];function s(e){if(void 0!==l){const t=l();return null!=e?e:t}return function(e){const[t,o]=i.useState(e),n=e||t;return i.useEffect((()=>{null==t&&(r+=1,o("mui-".concat(r)))}),[t]),n}(e)}}}]);
//# sourceMappingURL=4346.ec891d33.chunk.js.map