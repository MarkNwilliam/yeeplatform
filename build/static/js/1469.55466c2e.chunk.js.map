{"version":3,"file":"static/js/1469.55466c2e.chunk.js","mappings":"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","sources":["components/Addreview.js","components/Usersignup.js","contexts/AuthContext.js","firebase.js","pages/EbookDetailPage.js","subcomponents/ContentCard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Dialog from '@mui/material/Dialog';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Rating from '@mui/material/Rating';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Backdrop from '@mui/material/Backdrop';\n\n\n\nfunction Addreview(props) {\n  const { onClose, open, type, _id, userEmail,setSnackbarMessage } = props;\n  const [review, setReview] = React.useState('');\n  const [rating, setRating] = React.useState(5);\n  const [userReview, setUserReview] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n \n  const fetchUserReview = async () => {\n    try {\n      const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/reviews/user/${userEmail}/${type}/${_id}/reviews`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      //console.log(\"User review data:\", data);\n  \n      if (data && data.length > 0) {\n        setUserReview(data[0]); // Set the user's review\n        //console.log(\"User review data:\", data[0]);\n      }\n    } catch (error) {\n      //console.error(\"An error occurred while fetching the user review:\", error);\n      \n    }\n  };\n\n  const updateReview = async () => {\n    setLoading(true);\n    setSnackbarMessage('Updating review...');\n    const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/reviews/user/${userEmail}/${type}/${_id}/review/${userReview._id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        rating: rating,\n        comment: review,\n      }),\n    });\n  \n    const data = await response.json();\n    if (response.ok) {\n      setSnackbarMessage('Review updated successfully');\n      setSnackbarOpen(true);\n    setLoading(false);\n    } else {\n      setSnackbarMessage('Failed to update review');\n      setSnackbarOpen(true);\n    setLoading(false);\n    }\n    setSnackbarOpen(true);\n    setLoading(false);\n  };\n\n  const postReview = async () => {\n    setLoading(true);\n    setSnackbarMessage('Posting review...');\n    try {\n      const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/reviews/${type}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          audiobookId: _id,\n          userEmail: userEmail,\n          rating: rating,\n          comment: review,\n        }),\n      });\n      const data = await response.json();\n\n      if (data.message === 'User has already reviewed this audiobook') {\n       // console.log(data.message);\n        setSnackbarMessage(data.message);\n        setSnackbarOpen(true);\n    setLoading(false);\n      } else {\n       // console.log(data);\n        setSnackbarMessage('Review posted successfully');\n      }\n      setSnackbarOpen(true);\n    } catch (err) {\n     // console.error(err);\n      setSnackbarMessage('Failed to post review');\n      setSnackbarOpen(true);\n    setLoading(false);\n    }\n    setLoading(false);\n  };\n\n  // Function to delete a review\n  const deleteReview = async () => {\n    setSnackbarMessage('Deleting review...');\n    setLoading(true);\n    try {\n      const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/reviews/user/${userEmail}/${type}/${_id}/review/${userReview._id}`, {\n        method: 'DELETE',\n      });\n      const data = await response.json();\n      //console.log(data);\n      if (response.ok) {\n        setSnackbarMessage('Review deleted successfully');\n        setSnackbarOpen(true);\n        handleClose();\n    setLoading(false);\n      } else {\n        setSnackbarMessage('Failed to delete review');\n        setSnackbarOpen(true);\n    setLoading(false);\n      }\n      setSnackbarOpen(true);\n    } catch (err) {\n      //console.error(err);\n      setSnackbarMessage('Failed to delete review');\n      setSnackbarOpen(true);\n    }\n    setLoading(false);\n  };\n  \n  const handleSubmit = () => {\n    if (userReview) {\n      updateReview();\n    } else {\n      postReview();\n    }\n    handleClose();\n  };\n\n  const handleClose = () => {\n    if (!loading) {\n        setSnackbarMessage('Working on it...');\n        onClose();\n    }\n  };\n\n  const handleInputChange = (event) => {\n    setReview(event.target.value);\n  };\n\n  const handleRatingChange = (event, newValue) => {\n    setRating(newValue);\n  };\n\n\n  useEffect(() => {\n    fetchUserReview();\n  }, []);\n\n  useEffect(() => {\n    if (userReview) {\n      setReview(userReview.comment);\n      setRating(userReview.rating);\n    }\n  }, [userReview]);\n\n  return (\n    <Dialog onClose={handleClose} open={open}>\n      <DialogTitle>Add a Review</DialogTitle>\n      <Box p={1}>\n        <Rating\n          name=\"simple-controlled\"\n          value={rating}\n          onChange={handleRatingChange}\n        />\n      \n        <TextField\n          autoFocus\n          margin=\"dense\"\n          id=\"review\"\n          label=\"Your Review\"\n          type=\"text\"\n          fullWidth\n          value={review}\n          onChange={handleInputChange}\n        />\n        <Button onClick={handleSubmit} color=\"primary\">\n          Submit\n        </Button>\n\n        <Button onClick={deleteReview} color=\"secondary\">\n          Delete Review\n        </Button>\n      </Box>\n      <Backdrop open={loading}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n    </Dialog>\n  );\n}\n\nAddreview.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  type: PropTypes.string.isRequired,\n  _id: PropTypes.string.isRequired,\n  userEmail: PropTypes.string.isRequired,\n  setSnackbarMessage: PropTypes.func.isRequired,\n};\n\nexport default Addreview;","import React from 'react';\nimport { useNavigate } from 'react-router-dom'; // Import the useNavigate hook\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\n\nconst UserSignup = ({ open, onClose }) => {\n  const navigate = useNavigate(); // Get the navigate function\n\n  const handleLogin = () => {\n    navigate('/login'); // Navigate to the login page\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle>Login Required</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Please log in to add a review.\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose} color=\"primary\">\n          Close\n        </Button>\n        <Button onClick={handleLogin} color=\"primary\" variant=\"outlined\">\n          Log In\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default UserSignup;","import React, { useState, useEffect, createContext, useCallback } from \"react\";\r\nimport {\r\n  auth,\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  signOut\r\n} from \"../firebase\";\r\nimport { debounce } from 'lodash'; \r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport function useAuth() {\r\n  return React.useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [isAuthor, setIsAuthor] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isVerified, setIsVerified] = useState(\r\n    () => JSON.parse(localStorage.getItem('isVerified')) || false\r\n  );\r\n\r\n  // Memoized functions\r\n  const checkAuthorStatus = useCallback(debounce(async (currentUser) => {\r\n    if (!currentUser || !currentUser.uid) return;\r\n\r\n    try {\r\n      const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/isAuthor/${currentUser.uid}`);\r\n      if (response.ok) {\r\n          const data = await response.json();\r\n          setIsAuthor(data.isAuthor);\r\n      } else {\r\n         //console.error(\"AuthContext: Failed to check author status. Response status:\", response.status);\r\n      }\r\n    } catch (error) {\r\n      //console.error(\"AuthContext: Error checking author status:\", error);\r\n    }\r\n  }, 15000),[]);\r\n\r\n  const login = useCallback(async (email, password) => {\r\n    try {\r\n      const result = await signInWithEmailAndPassword(auth, email, password);\r\n      setUser(result.user);\r\n      const verified = result.user?.emailVerified || false;\r\n      setIsVerified(verified);\r\n      localStorage.setItem('isVerified', verified.toString());\r\n    } catch (error) {\r\n      //console.error(\"Error logging in:\", error);\r\n    }\r\n  }, []);\r\n\r\n  const loginWithGoogle = useCallback(async () => {\r\n    const provider = new GoogleAuthProvider();\r\n\r\n    try {\r\n      const result = await signInWithPopup(auth, provider);\r\n      setUser(result.user);\r\n      const verified = result.user?.emailVerified || false;\r\n      setIsVerified(verified);\r\n      localStorage.setItem('isVerified', verified.toString());\r\n    } catch (error) {\r\n      //console.error(\"Error signing in with Google:\", error);\r\n    }\r\n  }, []);\r\n\r\n  const logout = useCallback(async () => {\r\n    try {\r\n      await signOut(auth);\r\n      setUser(null);\r\n      setIsAuthor(false);\r\n    } catch (error) {\r\n      //console.error(\"Error logging out:\", error);\r\n    }\r\n  }, []);\r\n\r\n  // Effect to manage authentication state\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\r\n      setUser(currentUser);\r\n      setLoading(false);\r\n\r\n      if (currentUser) {\r\n        setIsVerified(currentUser.emailVerified);\r\n        localStorage.setItem('isVerified', currentUser.emailVerified.toString());\r\n      }\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Effect to check author status after initial render\r\n  useEffect(() => {\r\n    if (user) {\r\n      checkAuthorStatus(user);\r\n    }\r\n  }, [user, checkAuthorStatus]);\r\n\r\n  // Value provided by context\r\n  const contextValue = {\r\n    user,\r\n    isAuthor,\r\n    loading,\r\n    isVerified,\r\n    login,\r\n    logout,\r\n    loginWithGoogle\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default AuthProvider;","import { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics,  isSupported, logEvent } from \"firebase/analytics\";\r\nimport {\r\n  getAuth,\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  sendEmailVerification,\r\n  signOut,\r\n} from \"firebase/auth\";\r\n\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBXS56tIro9cd-Sd4ySn5AwLw3T6cnMHr0\",\r\n  authDomain: \"yeeplatform.firebaseapp.com\",\r\n  projectId: \"yeeplatform\",\r\n  storageBucket: \"yeeplatform.appspot.com\",\r\n  messagingSenderId: \"272587831821\",\r\n  appId: \"1:272587831821:web:b612b427ff43968f33f344\",\r\n  measurementId: \"G-YZV03469PP\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nlet analytics;\r\n\r\nisSupported().then((isSupported) => {\r\n  if (isSupported) {\r\n    analytics = getAnalytics(app);\r\n    //console.log(\"Firebase Analytics is supported and loaded successfully!\");\r\n  } else {\r\n    //console.log(\"Firebase Analytics is not supported in this environment\");\r\n  }\r\n});\r\n\r\n// Add console.log statement to check Firebase connection\r\n// console.log(\"Firebase connected successfully\");\r\n\r\nexport const auth = getAuth(app);\r\n\r\n\r\n// Export a function to log events after Firebase Analytics is initialized\r\nexport const logFirebaseEvent = (eventName, eventParams) => {\r\n  if (analytics) {\r\n    logEvent(analytics, eventName, eventParams);\r\n  } else {\r\n    console.warn(\"Firebase Analytics is not initialized yet.\");\r\n  }\r\n};\r\nexport {\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  sendEmailVerification,\r\n  signOut,\r\n  logEvent,\r\n  analytics,\r\n};","import React, { useEffect, useState, useCallback, useMemo } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport Rating from '@mui/material/Rating'; \r\nimport ContentCard from '../subcomponents/ContentCard';\r\nimport { analytics, logEvent } from '../firebase.js';\r\nimport { Helmet } from 'react-helmet';\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\nimport Paper from '@mui/material/Paper';\r\nimport Pagination from '@mui/material/Pagination';\r\nimport Addreview from '../components/Addreview';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport UserSignup from '../components/Usersignup.js';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport Button from '@mui/material/Button';\r\n    \r\n\r\nconst EbookDetailPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [ebook, setEbook] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [relatedContent, setRelatedContent] = useState([]);\r\n  const [numReviewsToShow, setNumReviewsToShow] = useState(2);\r\n  const [reviewsPage, setReviewsPage] = useState(1);\r\n  const [relatedContentPage, setRelatedContentPage] = useState(1);\r\n  const [open, setOpen] = useState(false);\r\n  const [signupOpen, setSignupOpen] = useState(false);\r\n  const { user } = useAuth();\r\n  const [opensnack, setOpensnack] = React.useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState('');\r\n\r\n  const defaultCoverImage = \"https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png\";\r\n\r\n  const getFileType = useCallback((url) => {\r\n    return url.split('.').pop();\r\n  }, []);\r\n\r\n  const fetchReviews = useCallback(async () => {\r\n    try {\r\n      const reviewsResponse = await fetch(`https://yeeplatformbackend.azurewebsites.net/reviews/ebook/${id}/reviews?page=${reviewsPage}&limit=2`);\r\n      const reviewsData = await reviewsResponse.json();\r\n      setReviews(reviewsData);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  }, [id, reviewsPage]);\r\n\r\n  const fetchRelatedContent = useCallback(async (categories) => {\r\n    try {\r\n      const relatedResponse = await fetch(`https://yeeplatformbackend.azurewebsites.net/category/ebook/${categories[0]}?page=${relatedContentPage}&limit=10`);\r\n      const relatedContentData = await relatedResponse.json();\r\n      setRelatedContent(relatedContentData.filter(book => book._id !== id));\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  }, [id, relatedContentPage]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const ebookResponse = fetch(`https://yeeplatformbackend.azurewebsites.net/getEbook/${id}`);\r\n        const [ebookData] = await Promise.all([ebookResponse]).then(responses =>\r\n          Promise.all(responses.map(res => res.json()))\r\n        );\r\n\r\n        setEbook(ebookData);\r\n        fetchReviews();\r\n        fetchRelatedContent(ebookData.categories);\r\n\r\n        logEvent(analytics, `${ebookData.title} visited`);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (snackbarMessage) {\r\n      setOpensnack(true);\r\n    }\r\n\r\n    fetchData();\r\n  }, [id, fetchReviews, analytics, fetchRelatedContent]);\r\n\r\n  const handleBack = useCallback(() => {\r\n    navigate('/');\r\n  }, [navigate]);\r\n\r\n  const handleReadBook = useCallback(() => {\r\n    if (!ebook) return;\r\n    const fileType = getFileType(ebook.ebookUrl || ebook.ebookurl || ebook.ebook_url || '');\r\n    if (fileType === 'pdf') {\r\n      logEvent(analytics, 'pdf opened');\r\n      navigate(`/ebooks/${id}/read`);\r\n    } else if (fileType === 'epub') {\r\n      logEvent(analytics, 'epub opened');\r\n      navigate(`/ebooks/epub/${id}`);\r\n    }\r\n  }, [ebook, id, getFileType, logEvent, navigate]);\r\n\r\n  const handleReviewsPageChange = (event, value) => {\r\n    setReviewsPage(value);\r\n  };\r\n\r\n  const handleRelatedContentPageChange = (event, value) => {\r\n    setRelatedContentPage(value);\r\n  };\r\n\r\n  const handleClickOpen = () => {\r\n    if (user) {\r\n      setOpen(true);\r\n    } else {\r\n      \r\n      setSignupOpen(true);\r\n      \r\n    }\r\n  };\r\n\r\n  const handleClose = async (value) => {\r\n    setOpen(false);\r\n    setOpensnack(true);\r\n    \r\n    try {\r\n      await fetchReviews();\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch reviews:\", error);\r\n    }\r\n  };\r\n\r\n\r\n  const handleCloseSignup = () => {\r\n    setSignupOpen(false); // Close the signup dialog\r\n  };\r\n  \r\n  const handleSnackClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpensnack(false);\r\n  };\r\n\r\n  const action = (\r\n    <React.Fragment>\r\n      <Button color=\"secondary\" size=\"small\" onClick={handleClose}>\r\n        CLOSE\r\n      </Button>\r\n      <IconButton\r\n        size=\"small\"\r\n        aria-label=\"close\"\r\n        color=\"inherit\"\r\n        onClick={handleSnackClose}\r\n      >\r\n        <CloseIcon fontSize=\"small\" />\r\n      </IconButton>\r\n    </React.Fragment>\r\n  );\r\n\r\n  const helmetContent = useMemo(() => {\r\n    if (!ebook) return null;\r\n    return (\r\n      <Helmet>\r\n        <title>{ebook.title || \"Ebook Details - Yee FM\"}</title>\r\n        <meta name=\"description\" content={ebook.description} />\r\n        <link rel=\"icon\" href={ebook.coverImage_optimized_url || ebook.coverImage || ebook.coverimage || ebook.cover_url || defaultCoverImage} />\r\n        <meta property=\"og:image\" content={ebook.coverImage_optimized_url || ebook.coverImage || ebook.coverimage || defaultCoverImage} />\r\n      </Helmet>\r\n    );\r\n  }, [ebook, defaultCoverImage]);\r\n\r\n  if (loading) {\r\n    return <LinearProgress className=\"text-yellow-500 animate-pulse flex justify-center items-center h-screen\" color=\"secondary\" />;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"flex justify-center items-center h-screen text-red-500\">Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4\">\r\n      {helmetContent}\r\n      <button onClick={handleBack} className=\"mb-4 text-blue-600 hover:text-blue-800\">\r\n        &larr; Back\r\n      </button>\r\n      <div className=\"flex flex-col lg:flex-row items-center lg:items-start bg-white rounded-lg shadow\">\r\n        <div className=\"w-full lg:w-1/4 p-4\">\r\n          <img\r\n            src={ebook.coverImage_optimized_url || ebook.coverImage || ebook.coverimage || ebook.cover_url || defaultCoverImage}\r\n            alt={ebook.title}\r\n            onClick={handleReadBook} \r\n            className=\"rounded-lg shadow-xl mx-auto\"\r\n            style={{ maxWidth: '100%', height: 'auto' }}\r\n          />\r\n        </div>\r\n        <div className=\"w-full lg:w-3/4 lg:ml-6 p-4\">\r\n          <h1 className=\"text-3xl font-bold mb-2 text-center lg:text-left \">{ebook.title}</h1>\r\n          <p className=\"text-sm text-gray-600 text-center lg:text-left mb-4\">Published on: {new Date(ebook.publishedDate).toLocaleDateString()}</p>\r\n          <Rating name=\"read-only\" value={ebook.ratings || 0} readOnly />\r\n          <div className=\"mt-4\">\r\n            <h2 className=\"text-xl font-semibold mb-2\">Description</h2>\r\n            <p className=\"text-gray-700\">{ebook.description}</p>\r\n          </div>\r\n          <div className=\"mt-6\">\r\n            <h3 className=\"text-lg font-semibold\">Details</h3>\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center text-center\">\r\n                <span className=\"font-semibold mr-2\">Author:</span>\r\n                <span>{Array.isArray(ebook.authors) ? ebook.authors.join(', ') : ebook.authors}</span>\r\n              </div>\r\n              <div className=\"flex items-center text-center\">\r\n                <span className=\"font-semibold mr-2\">ISBN:</span>\r\n                <span>{ebook.ISBN || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"flex items-center text-center\">\r\n                <span className=\"font-semibold mr-2\">Categories:</span>\r\n                <span>{ebook.categories.join(', ')}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button \r\n            onClick={handleReadBook} \r\n            className=\"mb-4 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\"\r\n          >\r\n            Read Book\r\n          </button>  \r\n          <div className=\"mt-6 relative p-4\">\r\n            <h3 className=\"text-lg font-semibold\">Reviews</h3>\r\n            <button className=\"text-blue-500 px-4 py-2 rounded absolute top-0 right-0\" onClick={handleClickOpen}>Add Review</button>\r\n            {user && <Addreview open={open} onClose={handleClose} type='ebook' userEmail = {user.email} _id={id} setSnackbarMessage={setSnackbarMessage} />}\r\n<UserSignup open={signupOpen} onClose={handleCloseSignup} />\r\n            {reviews.reviews && reviews.reviews.length > 0 ? (\r\n              reviews.reviews.slice(0, numReviewsToShow).map((review, index) => (\r\n                <Paper elevation={3} key={index} className=\"mt-4 p-4 border border-gray-200 rounded-lg relative\">\r\n                  <Rating name=\"read-only\" value={review.rating || 0} readOnly />\r\n                  <p className=\"text-gray-800\">{review.comment}</p>\r\n                  <p className=\"text-blue-500 absolute top-2 right-2 text-sm\">{new Date(review.createdAt).toLocaleDateString()}</p>\r\n                </Paper>\r\n              ))\r\n            ) : (\r\n              <p>No reviews yet.</p>\r\n            )}\r\n             <div className=\"flex justify-center p-4\">\r\n            <Pagination\r\n              count={reviews.totalPages}\r\n              page={reviewsPage}\r\n              onChange={handleReviewsPageChange}\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n            />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-8\">\r\n        <h3 className=\"text-lg font-semibold\">Related Books</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {relatedContent.length > 0 ? relatedContent.map((content, index) => (\r\n            <ContentCard\r\n              key={index}\r\n              title={content.title}\r\n              coverImage={content.coverImage_optimized_url || content.coverImage || content.coverimage || defaultCoverImage}\r\n              author={Array.isArray(content.authors) ? content.authors.join(', ') : content.authors}\r\n              publishedDate={content.publishedDate}\r\n              description={content.description}\r\n              onClick={() => navigate(`/ebook/${content._id}`)}\r\n            />\r\n          )) : (\r\n            <p>No related books found.</p>\r\n          )}\r\n        </div>\r\n        <div className=\"flex justify-center p-4\">\r\n    <Pagination\r\n      count={10}\r\n      page={relatedContentPage}\r\n      onChange={handleRelatedContentPageChange}\r\n      variant=\"outlined\"\r\n      color=\"primary\"\r\n    />\r\n  </div>\r\n      </div>\r\n      <Snackbar\r\n        open={opensnack}\r\n        autoHideDuration={2000}\r\n        onClose={handleSnackClose}\r\n        message={snackbarMessage}\r\n        action={action}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EbookDetailPage;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Rating from '@mui/material/Rating';\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\r\nimport 'react-lazy-load-image-component/src/effects/blur.css';\r\n\r\nfunction ContentCard({ title, coverImage, itemType, itemId, rating }) {\r\n  const defaultCoverImage = \"https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png\";\r\n\r\n  const handleImageError = (e) => {\r\n    e.target.src = defaultCoverImage;\r\n  };\r\n\r\n  const renderActionButton = () => {\r\n    const buttonStyle = \"bg-transparent text-yellow-500 font-bold py-2 px-4 rounded border border-yellow-500 focus:outline-none focus:border-none focus:ring ring-transparent no-underline transition-all duration-300 hover:bg-yellow-500 hover:text-red hover:border-yellow-500 hover:scale-105\";\r\n\r\n    switch (itemType) {\r\n      case 'audiobook':\r\n        return (\r\n          <a href={`/audiobooks/${itemId}`} className={buttonStyle}>\r\n            Listen\r\n          </a>\r\n        );\r\n\r\n      case 'audiochapter':\r\n        return (\r\n          <a href={`/audiochapters/${itemId}`} className={buttonStyle}>\r\n            Listen\r\n          </a>\r\n        );\r\n\r\n      case 'Text':\r\n        return (\r\n          <Link to={`/chapters/${itemId}`} className={buttonStyle}>\r\n            Chapter\r\n          </Link>\r\n        );\r\n        case 'Chapters':\r\n          return (\r\n            <Link to={`/chapters/${itemId}`} className={buttonStyle}>\r\n              Chapter\r\n            </Link>\r\n          );\r\n          case 'chapter':\r\n            return (\r\n              <Link to={`/chapters/${itemId}`} className={buttonStyle}>\r\n                Chapter\r\n              </Link>\r\n            );\r\n            case 'chapters':\r\n            return (\r\n              <Link to={`/chapters/${itemId}`} className={buttonStyle}>\r\n                Chapter\r\n              </Link>\r\n            );\r\n            case 'Chapter':\r\n            return (\r\n              <Link to={`/chapters/${itemId}`} className={buttonStyle}>\r\n                Chapter\r\n              </Link>\r\n            );\r\n        case 'notes':\r\n          return (\r\n            <Link to={`/notespdf/${itemId}`} className={buttonStyle}>\r\n              read\r\n            </Link>\r\n          );\r\n          case 'PDF':\r\n            return (\r\n              <Link to={`/notespdf/${itemId}`} className={buttonStyle}>\r\n                read\r\n              </Link>\r\n            );\r\n      case 'ebook':\r\n        return (\r\n          <Link to={`/ebooks/${itemId}`} className={`no-underline ${buttonStyle}`}>\r\n            Book\r\n          </Link>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const renderImageLink = () => {\r\n    switch (itemType) {\r\n      case 'audiobook':\r\n        return (\r\n          <a href={`/audiobooks/${itemId}`}>\r\n            <LazyLoadImage \r\n              className=\"object-cover w-full h-full\"\r\n              src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n              alt={title}\r\n              loading=\"lazy\"\r\n              effect=\"blur\"\r\n              onError={handleImageError}\r\n            />\r\n          </a>\r\n        );\r\n\r\n      case 'audiochapter':\r\n        return (\r\n          <a href={`/audiochapters/${itemId}`}>\r\n            <LazyLoadImage \r\n              className=\"object-cover w-full h-full\"\r\n              src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n              alt={title}\r\n              loading=\"lazy\"\r\n              effect=\"blur\"\r\n              onError={handleImageError}\r\n            />\r\n          </a>\r\n        );\r\n\r\n      case 'Text':\r\n        return (\r\n          <Link to={`/chapters/${itemId}`}>\r\n            <LazyLoadImage \r\n              className=\"object-cover w-full h-full\"\r\n              src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n              alt={title}\r\n              loading=\"lazy\"\r\n              effect=\"blur\"\r\n              onError={handleImageError}\r\n            />\r\n          </Link>\r\n        );\r\n        case 'notes':\r\n          return (\r\n            <Link to={`/chapters/${itemId}`}>\r\n              <LazyLoadImage \r\n                className=\"object-cover w-full h-full\"\r\n                src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n                alt={title}\r\n                loading=\"lazy\"\r\n                effect=\"blur\"\r\n                onError={handleImageError}\r\n              />\r\n            </Link>\r\n          );\r\n          case 'chapters':\r\n            return (\r\n              <Link to={`/chapters/${itemId}`}>\r\n                <LazyLoadImage \r\n                  className=\"object-cover w-full h-full\"\r\n                  src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n                  alt={title}\r\n                  loading=\"lazy\"\r\n                  effect=\"blur\"\r\n                  onError={handleImageError}\r\n                />\r\n              </Link>\r\n            );\r\n      case 'ebook':\r\n        return (\r\n          <Link to={`/ebooks/${itemId}`}>\r\n            <LazyLoadImage \r\n              className=\"object-cover w-full h-full\"\r\n              src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n              alt={title}\r\n              loading=\"lazy\"\r\n              effect=\"blur\"\r\n              onError={handleImageError}\r\n            />\r\n          </Link>\r\n        );\r\n      default:\r\n        return (\r\n          <LazyLoadImage \r\n            className=\"object-cover w-full h-full\"\r\n            src={coverImage || defaultCoverImage || 'https://yeeplatformstorage.blob.core.windows.net/assets/images/yeeplatform_book_cover.png'} \r\n            alt={title}\r\n            loading=\"lazy\"\r\n            effect=\"blur\"\r\n            onError={handleImageError}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"rounded overflow-hidden shadow-lg bg-white w-full\">\r\n      <div className=\"aspect-w-16 aspect-h-25 overflow-hidden\">\r\n        {renderImageLink()}\r\n      </div>\r\n\r\n      <div className=\"px-3 py-1\">\r\n        <div className=\"font-bold text-md mb-1 line-clamp-2\">{title}</div>\r\n        <Rating name=\"read-only\" value={rating} readOnly size=\"small\" />\r\n      </div>\r\n      <div className=\"px-3 pb-1 flex justify-center\">\r\n        {renderActionButton()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContentCard;"],"names":["props","onClose","open","type","_id","userEmail","setSnackbarMessage","review","setReview","React","rating","setRating","userReview","setUserReview","useState","loading","setLoading","snackbarOpen","setSnackbarOpen","handleClose","useEffect","async","response","fetch","concat","ok","Error","status","data","json","length","error","fetchUserReview","comment","_jsxs","Dialog","children","_jsx","DialogTitle","Box","p","Rating","name","value","onChange","handleRatingChange","event","newValue","TextField","autoFocus","margin","id","label","fullWidth","target","Button","onClick","handleSubmit","method","headers","body","JSON","stringify","updateReview","audiobookId","message","err","postReview","color","Backdrop","CircularProgress","_ref","navigate","useNavigate","DialogContent","DialogContentText","DialogActions","handleLogin","variant","AuthContext","createContext","useAuth","AuthProvider","isAuthor","setIsAuthor","user","setUser","isVerified","setIsVerified","parse","localStorage","getItem","checkAuthorStatus","useCallback","debounce","currentUser","uid","login","email","password","_result$user","result","signInWithEmailAndPassword","auth","verified","emailVerified","setItem","toString","loginWithGoogle","provider","GoogleAuthProvider","_result$user2","signInWithPopup","logout","signOut","unsubscribe","onAuthStateChanged","contextValue","Provider","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","isSupported","then","getAnalytics","getAuth","logFirebaseEvent","eventName","eventParams","logEvent","console","warn","EbookDetailPage","useParams","ebook","setEbook","setError","reviews","setReviews","relatedContent","setRelatedContent","numReviewsToShow","setNumReviewsToShow","reviewsPage","setReviewsPage","relatedContentPage","setRelatedContentPage","setOpen","signupOpen","setSignupOpen","opensnack","setOpensnack","snackbarMessage","defaultCoverImage","getFileType","url","split","pop","fetchReviews","reviewsResponse","reviewsData","fetchRelatedContent","relatedResponse","categories","relatedContentData","filter","book","ebookResponse","ebookData","Promise","all","responses","map","res","title","fetchData","handleBack","handleReadBook","fileType","ebookUrl","ebookurl","ebook_url","handleSnackClose","reason","action","size","IconButton","CloseIcon","fontSize","helmetContent","useMemo","Helmet","content","description","rel","href","coverImage_optimized_url","coverImage","coverimage","cover_url","property","LinearProgress","className","src","alt","style","maxWidth","height","Date","publishedDate","toLocaleDateString","ratings","readOnly","Array","isArray","authors","join","ISBN","handleClickOpen","Addreview","UserSignup","handleCloseSignup","slice","index","Paper","elevation","createdAt","Pagination","count","totalPages","page","handleReviewsPageChange","ContentCard","author","handleRelatedContentPageChange","Snackbar","autoHideDuration","itemType","itemId","handleImageError","e","renderImageLink","LazyLoadImage","effect","onError","Link","to","renderActionButton","buttonStyle"],"sourceRoot":""}