{"version":3,"file":"static/js/3549.5e8a032d.chunk.js","mappings":"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","sources":["components/Sharebox.js","firebase.js","pages/Chapterreader.js"],"sourcesContent":["import React from 'react';\r\nimport {\r\n  FacebookShareButton,\r\n  TwitterShareButton,\r\n  LinkedinShareButton,\r\n  WhatsappShareButton,\r\n  EmailShareButton,\r\n} from 'react-share';\r\nimport {\r\n  EmailIcon,\r\n  FacebookIcon,\r\n  LinkedinIcon,\r\n  TwitterIcon,\r\n  WhatsappIcon,\r\n} from 'react-share';\r\n\r\nconst ShareBox = ({ shareUrl, selectedText }) => {\r\n  const yeePlatformUrl = 'https://www.yeeplatform.com';\r\n  const hashtags = 'YeePlatform'; // Add more hashtags as needed\r\n\r\n  const shareText = `Check out this quote: \"${selectedText}\" from @YeePlatform! ${yeePlatformUrl} #${hashtags}`;\r\n\r\n  return (\r\n    <div className=\"share-box w-full max-w-md mx-auto p-4\">\r\n      <div className=\"share-header mb-4\">\r\n        <img src=\"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp\" alt=\"YeePlatform Logo\" className=\"logo w-12 h-auto\" />\r\n        <span className=\"share-title text-lg\">Share this quote with friends:</span>\r\n      </div>\r\n      <div className=\"share-icons flex justify-center\">\r\n        <FacebookShareButton title=\"Test\" url={shareUrl} quote={shareText}>\r\n          <FacebookIcon size={32} round={true} />\r\n        </FacebookShareButton>\r\n        <TwitterShareButton url={shareUrl} title={shareText}>\r\n          <TwitterIcon size={32} round={true} />\r\n        </TwitterShareButton>\r\n        <LinkedinShareButton url={shareUrl} title={shareText}>\r\n          <LinkedinIcon size={32} round={true} />\r\n        </LinkedinShareButton>\r\n        <WhatsappShareButton url={shareUrl} title={shareText}>\r\n          <WhatsappIcon size={32} round={true} />\r\n        </WhatsappShareButton>\r\n        <EmailShareButton url={shareUrl} subject=\"Check out this quote\" body={shareText}>\r\n          <EmailIcon size={32} round={true} />\r\n        </EmailShareButton>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShareBox;\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics,  isSupported, logEvent } from \"firebase/analytics\";\r\nimport {\r\n  getAuth,\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  sendEmailVerification,\r\n  signOut,\r\n} from \"firebase/auth\";\r\n\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBXS56tIro9cd-Sd4ySn5AwLw3T6cnMHr0\",\r\n  authDomain: \"yeeplatform.firebaseapp.com\",\r\n  projectId: \"yeeplatform\",\r\n  storageBucket: \"yeeplatform.appspot.com\",\r\n  messagingSenderId: \"272587831821\",\r\n  appId: \"1:272587831821:web:b612b427ff43968f33f344\",\r\n  measurementId: \"G-YZV03469PP\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nlet analytics;\r\n\r\nisSupported().then((isSupported) => {\r\n  if (isSupported) {\r\n    analytics = getAnalytics(app);\r\n    //console.log(\"Firebase Analytics is supported and loaded successfully!\");\r\n  } else {\r\n    //console.log(\"Firebase Analytics is not supported in this environment\");\r\n  }\r\n});\r\n\r\n// Add console.log statement to check Firebase connection\r\n// console.log(\"Firebase connected successfully\");\r\n\r\nexport const auth = getAuth(app);\r\n\r\n\r\n// Export a function to log events after Firebase Analytics is initialized\r\nexport const logFirebaseEvent = (eventName, eventParams) => {\r\n  if (analytics) {\r\n    logEvent(analytics, eventName, eventParams);\r\n  } else {\r\n    console.warn(\"Firebase Analytics is not initialized yet.\");\r\n  }\r\n};\r\nexport {\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  sendEmailVerification,\r\n  signOut,\r\n  logEvent,\r\n  analytics,\r\n};","import React, { useEffect, useState, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport ShareBox from '../components/Sharebox';\r\nimport { analytics, logEvent } from '../firebase.js';\r\nimport { Helmet } from 'react-helmet';\r\n\r\n\r\nconst Chapterreader = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [chapter, setChapter] = useState(null);\r\n  const [isRead, setIsRead] = useState(false);\r\n  const [viewed, setViewed] = useState(false);\r\n  const [elapsedTime, setElapsedTime] = useState(0); // Track elapsed time\r\n  const mountRef = useRef(null);\r\n\r\n  const CHAPTER_READ_DATA_KEY = 'chapterReadData';\r\n\r\n  useEffect(() => {\r\n    logEvent(analytics, 'chapter_reader_visited');\r\n   \r\n    setViewed(true); // Mark as viewed on mount\r\n\r\n    // Retrieve chapter data from local storage\r\n    const chapterReadData = JSON.parse(localStorage.getItem(CHAPTER_READ_DATA_KEY)) || {};\r\n    if (chapterReadData[id]) {\r\n      setIsRead(chapterReadData[id].isRead);\r\n      setViewed(chapterReadData[id].viewed);\r\n      setElapsedTime(chapterReadData[id].elapsedTime || 0); // Set elapsed time if stored\r\n    }\r\n\r\n   \r\n\r\n    const fetchChapter = async () => {\r\n      try {\r\n        const response = await fetch(`https://yeeplatformbackend.azurewebsites.net/getChapter/${id}`);\r\n        const data = await response.json();\r\n        setChapter(data);\r\n        logEvent(analytics, chapter?.title + '_chapter_reader_visited');\r\n      } catch (error) {\r\n        console.error('Error fetching chapter:', error.message);\r\n      }\r\n    };\r\n\r\n    const markChapterAsViewed = async () => {\r\n      try {\r\n        // Replace 'userId' with the actual user ID\r\n        await fetch(`https://yeeplatformbackend.azurewebsites.net/updateViewedChapters/userId/${id}`, {\r\n          method: 'POST',\r\n        });\r\n      } catch (error) {\r\n        console.error('Error marking chapter as viewed:', error.message);\r\n      }\r\n    };\r\n\r\n    const handleMount = () => {\r\n      mountRef.current = performance.now(); // Store mount time\r\n    };\r\n\r\n    fetchChapter();\r\n    handleMount();\r\n\r\n    return () => {\r\n      const diff = performance.now() - mountRef.current + elapsedTime; // Calculate time diff with elapsed time\r\n      if (diff > 120000) { // Check if read time > 2 mins\r\n        setIsRead(true); // Mark as read if condition met\r\n      }\r\n\r\n      // Update chapter data in local storage, including elapsed time\r\n      chapterReadData[id] = { isRead, viewed, elapsedTime: diff };\r\n      localStorage.setItem(CHAPTER_READ_DATA_KEY, JSON.stringify(chapterReadData));\r\n    };\r\n  }, [id]);\r\n\r\n  const handleGoBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto mt-8 p-4 flex flex-col bg-yellow-100\">\r\n\r\n<Helmet>\r\n  <title>{chapter?.title || \"Ebook Reader - Yee FM\"}</title>\r\n  <meta name=\"description\" content={chapter?.description || \"Read your favorite ebooks on Yee FM.\"} />\r\n  <meta name=\"keywords\" content=\"Yee FM, ebooks, reading, literature, digital library\" />\r\n  <link rel=\"icon\" href={chapter?.coverImage || chapter?.coverimage || \"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp\"} />\r\n  <meta property=\"og:title\" content={chapter?.title || \"Ebook Reader - Yee FM\"} />\r\n  <meta property=\"og:description\" content={chapter?.description || \"Read your favorite ebooks on Yee FM.\"} />\r\n  <meta property=\"og:image\" content={chapter?.coverImage || chapter?.coverimage || \"https://assets-hfbubwfaacbch3e0.z02.azurefd.net/assets/images/Y.webp\"} />\r\n  <meta property=\"og:type\" content=\"article\" />\r\n  <meta property=\"og:url\" content={window.location.href} />\r\n</Helmet>\r\n\r\n      <div className=\"flex items-center mb-4\">\r\n        <button\r\n          className=\"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded-full mr-2\"\r\n          onClick={handleGoBack}\r\n        >\r\n          {'< Back'}\r\n        </button>\r\n        <h1 className=\"text-3xl font-bold text-yellow-800\">{chapter ? chapter.title || \"N/A\" : \"N/A\"}</h1>\r\n      </div>\r\n      {chapter ? (\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-yellow-800 mb-4\">{chapter.title || \"N/A\"}</h2>\r\n          <div className=\"text-lg\">\r\n            {chapter.content.split('\\n').map((paragraph, index) => (\r\n              <p key={index}>{paragraph}</p>\r\n            ))}\r\n          </div>\r\n          <p className=\"text-sm text-gray-500 mt-2\">\r\n            Published Date: {chapter.publishedDate ? new Date(chapter.publishedDate).toLocaleString() : \"N/A\"}\r\n          </p>\r\n          <ShareBox shareUrl={window.location.href} selectedText={chapter.content} />\r\n          {/* Add more details as needed */}\r\n        </div>\r\n      ) : (\r\n        <p>Loading chapter...</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chapterreader;"],"names":["_ref","shareUrl","selectedText","shareText","concat","_jsxs","className","children","_jsx","src","alt","FacebookShareButton","title","url","quote","FacebookIcon","size","round","TwitterShareButton","TwitterIcon","LinkedinShareButton","LinkedinIcon","WhatsappShareButton","WhatsappIcon","EmailShareButton","subject","body","EmailIcon","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","isSupported","then","getAnalytics","auth","getAuth","logFirebaseEvent","eventName","eventParams","logEvent","console","warn","Chapterreader","id","useParams","navigate","useNavigate","chapter","setChapter","useState","isRead","setIsRead","viewed","setViewed","elapsedTime","setElapsedTime","mountRef","useRef","CHAPTER_READ_DATA_KEY","useEffect","chapterReadData","JSON","parse","localStorage","getItem","async","response","fetch","data","json","error","message","fetchChapter","current","performance","now","diff","setItem","stringify","Helmet","name","content","description","rel","href","coverImage","coverimage","property","window","location","onClick","handleGoBack","split","map","paragraph","index","publishedDate","Date","toLocaleString","ShareBox"],"sourceRoot":""}